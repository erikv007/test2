/*
	
	Copyright (c) 2012, Latitude Geographics Ltd.
	All rights reserved.
	       
	Redistribution is not permitted. 
	
	Use in binary form, without modification, is permitted provided that neither 
	the name of the organization nor the names of its contributors may be used 
	to endorse or promote products derived from this software without specific 
	prior written permission.
	       
	THIS SOFTWARE IS PROVIDED BY COPYRIGHT HOLDER ''AS IS'' AND ANY
	EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED
	WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE
	DISCLAIMED. IN NO EVENT SHALL  BE LIABLE FOR ANY
	DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES
	(INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES;
	LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND
	ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT
	(INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
	SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/

dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase",geocortex.framework.ui.ViewBase,{attach:function(a){this.viewModel=a;a.attached_showIndicator=new Observable(false);a.attached_indicatorClass=new Observable("");this.addDisposableBinding(a.isValid,a.isValid.bind(this,function(){this.calculateIndicatorDisplay()}));this.addDisposableBinding(a.isRequired,a.isRequired.bind(this,function(){this.calculateIndicatorDisplay()}));this.calculateIndicatorDisplay();
this.inherited(arguments)},calculateIndicatorDisplay:function(){this.viewModel.attached_showIndicator.set(this.viewModel.isRequired.get()===true||this.viewModel.isValid.get()===false);this.viewModel.isValid.get()==false?this.viewModel.attached_indicatorClass.set("form-item-invalid"):this.viewModel.attached_indicatorClass.set("form-item-required")}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.FeatureProviderBase");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.FeatureProviderBase",geocortex.framework.ui.ViewModelBase,{app:null,feature:null,constructor:function(a,b){this.app=a;this.feature=b}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.results.ResultsViewBase",geocortex.framework.ui.ViewBase,{featureClickedEventName:"ResultsListFeatureClickedEvent",featurePressedEventName:"ResultsListFeaturePressedEvent",_longPressTimer:null,_pressStartTime:null,_pressLengthMs:1500,_firedTouchOrPress:false,_ignoreMouseEventFlag:false,_pressYStart:null,_lastTouchY:null,_scrollYDeltaThreshold:35,handleTouchStart:function(a,b,c){this._firedTouchOrPress=false;this._ignoreMouseEventFlag=true;
this._lastTouchY=this._pressYStart=a.pageY;this._beginLongPress(c);return true},handleTouchMove:function(a){this._lastTouchY=a.touches[0].pageY;this._cancelLongPress();return true},handleTouchEnd:function(a,b,c){this._cancelLongPress();var d=this,e=this._lastTouchY=a.pageY;setTimeout(function(){if(Math.abs(d._pressYStart-e)<d._scrollYDeltaThreshold){var a=(new Date).getTime();if(!d._firedTouchOrPress&&a-d._pressStartTime>d._pressLengthMs/2)d._firedTouchOrPress=true,d.app.eventRegistry.event(d.featureClickedEventName).publish(c)}},
0);return true},handleMouseDown:function(a,b,c){if(this._ignoreMouseEventFlag)return this._ignoreMouseEventFlag=false;this._firedTouchOrPress=false;this._lastTouchY=this._pressYStart=a.pageY;this._beginLongPress(c);return true},handleMouseUp:function(a,b,c){if(this._ignoreMouseEventFlag)return this._ignoreMouseEventFlag=false;this._cancelLongPress();if(a.which!=3){var d=this,e=this._lastTouchY=a.pageY;setTimeout(function(){if(!d._firedTouchOrPress&&Math.abs(d._pressYStart-e)<d._scrollYDeltaThreshold)d._firedTouchOrPress=
true,d.app.eventRegistry.event(d.featureClickedEventName).publish(c)},0)}return true},_beginLongPress:function(a){this._longPressTimer&&clearTimeout(this._longPressTimer);var b=this;this._pressStartTime=(new Date).getTime();this._longPressTimer=setTimeout(function(){if(!b._firedTouchOrPress&&Math.abs(b._pressYStart-b._lastTouchY)<b._scrollYDeltaThreshold)b._firedTouchOrPress=true,b.app.eventRegistry.event(b.featurePressedEventName).publish(a)},b._pressLengthMs)},_cancelLongPress:function(){if(this._longPressTimer)clearTimeout(this._longPressTimer),
this._longPressTimer=null},scrollViewTop:function(){if(this.scrollContainerElement)this.scrollContainerElement.scrollTop=0}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.alert.AlertModule",geocortex.framework.application.ModuleBase,{alertRegion:"ModalWindowRegion",nativeImplementation:null,initialize:function(a){function b(a,b,f){if(f)try{var g=c.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.modules.alert.AlertView",markup:"Mapping/modules/Alert/AlertView.html",visible:true,region:c.alertRegion,libraryId:c.libraryId});b||(b=c.app.getResource(c.libraryId,"language-alert-default-title"));
a={alertTitle:b,alertBody:a,callback:f,isOpen:true,pending:[]};g.title.set(b);g.attach(a);c.app.viewManager.activateView(g)}catch(h){c.app.trace.error("Error: Could not display alert: "+h)}else c.nativeImplementation.apply(window,[a])}this.nativeImplementation=window.alert;this.inherited(arguments);this.alertRegion=a.alertRegion;this.overrideNativeAlert=a.overrideNativeAlert;var c=this;if(this.overrideNativeAlert)window.alert=b;this.app.commandRegistry.command("Alert").register(this,function(a,c,
f){f||(f=function(){});b(a,c,f)})}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.alert.AlertView",geocortex.framework.ui.ViewBase,{hasSubscribed:false,userInitiatedDA:false,attach:function(a){this.inherited(arguments);this.title.set(a.alertTitle);this.okButtonElement&&this.okButtonElement.focus();if(!this.hasSubscribed)this.hasSubscribed=true,this.app.eventRegistry.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId==this.id&&this._deactivateForUser()})},handleClickOk:function(){this._deactivateForUser();
return false},_deactivateForUser:function(){this.userInitiatedDA=true;this.app.viewManager.deactivateView(this);this.app.viewManager.destroyView(this);this.viewModel.callback&&this.userInitiatedDA&&this.viewModel.callback()}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.authentication.AuthenticationModule",geocortex.framework.application.ModuleBase,{attempts:null,authView:null,constructor:function(){this.attempts=0},initialize:function(a){this.inherited(arguments);var b=a.region||"ModalWindowRegion",c=this;dojo.subscribe("geocortex_authenticationSucceeded",function(a){c.attempts=0;var b=new geocortex.essentialsHtmlViewer.mapping.infrastructure.AuthenticationEventArgs;b.username=a.username;b.token=a.token;
b.result=true;c.app.eventRegistry.event("AuthenticationSucceededEvent").publish(b)});dojo.extend(geocortex.essentials.RestHelperHTTPService,{_gatherCredentials:function(a){var e=false;if(c.attempts>0){var f=new geocortex.essentialsHtmlViewer.mapping.infrastructure.AuthenticationEventArgs;f.username=null;f.token=null;f.result=false;e=true;c.app.eventRegistry.event("AuthenticationFailedEvent").publish(f)}deferred=a?a:new dojo.Deferred;c.authView=c.app.viewManager.createView({id:"AuthenticationdialogView",
markup:"Mapping/modules/Authentication/AuthenticationView.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.authentication.AuthenticationView",title:c.app.getResource(c.libraryId,"language-auth-title"),libraryId:c.libraryId,region:b});a=new geocortex.essentialsHtmlViewer.mapping.modules.authentication.AuthenticationViewModel(c.app);a.error.set(e);c.authView.attach(a);c.authView.deferred=deferred;c.app.viewManager.activateView(c.authView);++c.attempts;return deferred}})}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.authentication.AuthenticationView",geocortex.framework.ui.ViewBase,{deferred:null,attach:function(a){this.inherited(arguments);this.app.eventRegistry.event("AuthenticationFailedEvent").subscribe(this,function(){this.app.viewManager.destroyView(this)});this.app.eventRegistry.event("AuthenticationSucceededEvent").subscribe(this,function(){this.app.viewManager.destroyView(this)});this.app.eventRegistry.event("SiteInitializationFailedEvent").subscribe(this,
function(){this.app.viewManager.destroyView(this)})},handleClickLogin:function(){this.deferred&&this.viewModel&&(this.viewModel.authenticating.set(true),this.deferred.resolve({username:this.viewModel.username.get(),password:this.viewModel.password.get()}))}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.authentication.AuthenticationViewModel",geocortex.framework.application.ModuleBase,{username:null,password:null,authenticating:null,error:null,constructor:function(){this.username=new Observable("");this.password=new Observable("");this.authenticating=new Observable(false);this.error=new Observable(false);this.app.eventRegistry.event("AuthenticationFailedEvent").subscribe(this,function(){this.error.set(true);this.authenticating.set(false)});
this.app.eventRegistry.event("AuthenticationSucceededEvent").subscribe(this,function(){this.error.set(false);this.authenticating.set(false)})},reset:function(){this.username.set("");this.password.set("");this.authenticating.set(false);this.error.set(false)}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.banner.BannerModule",geocortex.framework.application.ModuleBase,{initialize:function(a){this.inherited(arguments)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.banner.BannerView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.banner.BannerView",geocortex.framework.ui.ViewBase,{_longPressTimer:null,_pressLengthMs:1E3,handleTouchStart:function(){this._beginLongPress();return true},handleMouseDown:function(){this._beginLongPress();return true},handleTouchEnd:function(){this._cancelLongPress();return true},handleMouseUp:function(){this._cancelLongPress();return true},_beginLongPress:function(){this._longPressTimer&&clearTimeout(this._longPressTimer);var a=this;this._longPressTimer=
setTimeout(function(){a.app.commandRegistry.command("ActivateView").execute("LogView")},a._pressLengthMs)},_cancelLongPress:function(){if(this._longPressTimer)clearTimeout(this._longPressTimer),this._longPressTimer=null}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.banner.BannerViewModel",geocortex.framework.ui.ViewModelBase,{applicationTitle:null,applicationSubtitle:null,initialize:function(a){this.inherited(arguments);this.applicationTitle=new Observable(a.applicationTitle);this.applicationSubtitle=new Observable(a.applicationSubtitle||"")}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.confirm.ConfirmModule",geocortex.framework.application.ModuleBase,{confirmRegion:"ModalWindowRegion",nativeImplementation:null,initialize:function(a){function b(a,b,f){if(!f)return c.nativeImplementation.apply(window,[a]);try{var g=c.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.modules.confirm.ConfirmView",markup:"Mapping/modules/Confirm/ConfirmView.html",visible:true,region:c.confirmRegion,libraryId:c.libraryId});
b||(b=c.app.getResource(c.libraryId,"language-confirm-default-title"));a={title:b,confirmBody:a,callback:f,isOpen:true,pending:[]};g.title.set(b);g.attach(a);c.app.viewManager.activateView(g)}catch(h){c.app.trace.error("Error: Could not display confirm: "+h)}}this.nativeImplementation=window.confirm;this.inherited(arguments);this.confirmRegion=a.confirmRegion;this.overrideNativeConfirm=a.overrideNativeConfirm;var c=this;if(this.overrideNativeConfirm)window.confirm=b;this.app.commandRegistry.command("Confirm").register(this,
function(a,c,f){c||(c=this.app.getResource(this.libraryId,"language-confirm-default-title"));f||(f=function(){});b(a,c,f)})}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.confirm.ConfirmView",geocortex.framework.ui.ViewBase,{userHasClicked:false,hasSubscribed:false,userCanceled:false,attach:function(a){this.inherited(arguments);this.title.set(a.title);this.cancelButtonElement&&this.cancelButtonElement.focus();if(!this.hasSubscribed)this.hasSubscribed=true,this.app.eventRegistry.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId===this.id&&this._deactivateForUser(true)})},handleClickOk:function(){this._deactivateForUser(false);
return false},handleClickCancel:function(){this._deactivateForUser(true);return false},_deactivateForUser:function(a){this.userCanceled=a;this.userHasClicked=true;this.app.viewManager.deactivateView(this);this.app.viewManager.destroyView(this);this.userHasClicked&&this.viewModel&&this.viewModel.callback&&this.viewModel.callback(!this.userCanceled)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsModule",geocortex.framework.application.ModuleBase,{activeViewsList:null,constructor:function(){this.activeViewsList=[]},initialize:function(a){this.inherited(arguments);a&&a.providers&&this.registerCommands(a.providers)},registerCommands:function(a){var b=this;this.app.commandRegistry.command("GetFeatureDetailsProviders").register(this,function(c){for(var d=0;d<this.activeViewsList.length;d++)this.app.viewManager.destroyView(this.activeViewsList[d]);
this.activeViewsList.splice(0,this.activeViewsList.length);dojo.forEach(a,function(a){var d=dojo.getObject(a.type);if(d)d=new d(b.app,c),d.app=b.app,d.libraryId=b.libraryId,d.initialize(a.config),a=b.app.viewManager.createView({markup:a.markup,type:a.viewType,iconUri:a.iconUri,regionName:"FeatureRegion",visible:true,libraryId:b.libraryId}),a.attach(d),b.app.commandRegistry.command("ActivateView").execute(a.id),b.activeViewsList.push(a)})})}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsView",geocortex.framework.ui.ViewBase,{constructor:function(){},attach:function(a){this.inherited(arguments);a&&this.title.sync(a.headerText)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsViewModel");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsViewModel",geocortex.framework.ui.ViewModelBase,{headerText:null,featureSetCollection:null,fscId:null,currentFeature:null,viewToActivate:null,activeViewsList:null,constructor:function(){this.featureSetCollection=new Observable;this.headerText=new Observable("");this.currentFeature=new Observable("");this.activeViewsList=[];this.registerCommands()},initialize:function(a){if(a&&a.viewToActivate)this.viewToActivate=
a.viewToActivate},registerCommands:function(){this.app.commandRegistry.command("ShowFeatureDetails").register(this,function(a){this._setCurrentFeature(a);for(a=0;a<this.activeViewsList.length;a++)this.app.commandRegistry.command("DeactivateView").execute(this.activeViewsList[a]);this.activeViewsList.splice(0,this.activeViewsList.length);this.currentFeature.get()&&this.app.commandRegistry.command("GetFeatureDetailsProviders").execute(this.currentFeature.get());this.activeViewsList.push(this.viewToActivate);
this.app.commandRegistry.command("ActivateView").execute(this.viewToActivate)})},_setCurrentFeature:function(a){typeof a=="string"?(this.fscId=a,(this.featureSetCollection=this.app.featureSetManager.getCollectionById(this.fscId))?(a=this.featureSetCollection.firstFeature())?this.currentFeature.set(a):this.app.trace.error("No feature in feature set collection"):this.app.trace.error("No feature set collection found matching id: "+this.fscId)):a&&a.isInstanceOf&&a.isInstanceOf(geocortex.essentialsHtmlViewer.mapping.infrastructure.Feature)&&
this.currentFeature.set(a);this.headerText.set(this.currentFeature.get().label.get())}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.AttachmentsView",geocortex.framework.ui.ViewBase,{constructor:function(){}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.AttachmentsViewModel",geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.FeatureProviderBase,{hasAttachments:null,attachmentInfos:null,isAttachmentInfosInitialized:null,noAttachments:null,bindToken:null,currentFeature:null,constructor:function(a,b){if(b){if(this.currentFeature=b,this.hasAttachments=new Observable(false),this.noAttachments=new Observable(false),this.isAttachmentInfosInitialized=
new Observable(false),this.hasAttachments.set(this.currentFeature.hasAttachments.get()),this.hasAttachments.get())this.attachmentInfos=this.currentFeature.attachmentInfos,this.currentFeature.attachmentInfosInitialized.get()?(this.isAttachmentInfosInitialized.set(true),this.attachmentInfos.length()==0&&this.noAttachments.set(true)):this.bindToken=this.currentFeature.attachmentInfosInitialized.bind(this,function(a){a&&(this.isAttachmentInfosInitialized.set(true),this.attachmentInfos.length()==0&&this.noAttachments.set(true),
this.currentFeature.attachmentInfosInitialized.unbind(this.bindToken))}),this.isAttachmentInfosInitialized.pulse(),this.attachmentInfos.pulse()}else throw Error("Feature cannot be null for the attachment infos view model");}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.AttributesView",geocortex.framework.ui.ViewBase,{constructor:function(){}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.AttributesViewModel",geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.FeatureProviderBase,{currentFeature:null,attributes:null,attributeTypes:null,constructor:function(a,b){this.inherited(arguments);this.currentFeature=new Observable(b)},initialize:function(){if(this.currentFeature){this._getAttributeTypes(this.currentFeature.get());this.attributes=new ObservableCollection(this.currentFeature.get().getAttributes());
for(var a=0;a<this.attributes.getLength();a++)this.attributeTypes[this.attributes.getAt(a).name.get()]=="DateTime"&&this.attributes.getAt(a).value.get()&&this._formatDateTypeAtt(a)}else this.attributes=new ObservableCollection},_getAttributeTypes:function(a){this.attributeTypes={};var b=this;a.layer&&a.layer.fields&&dojo.forEach(a.layer.fields,function(a){b.attributeTypes[a.name]=a.dataType})},_formatDateTypeAtt:function(a){var b=new Date(this.attributes.getAt(a).value.get()),c=this.getResource("language-feature-date-format")||
"EEE MMM dd",b=dojo.date.locale.format(b,{datePattern:c,selector:"date"});this.attributes.getAt(a).value.set(b)}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.FeatureActionsView",geocortex.framework.ui.ViewBase,{getDescription:function(a,b,c){b.title=c.description.get()},handleMenuItemClick:function(a,b,c){c.execute(this.viewModel.currentFeature.get())}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.FeatureActionsViewModel",geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.FeatureProviderBase,{currentFeature:null,FeatureActions:null,constructor:function(a,b){this.inherited(arguments);this.currentFeature=new Observable(b);this.FeatureActions=new ObservableCollection},initialize:function(){this._getFeatureActions()},_getFeatureActions:function(){this.FeatureActions.clear();
var a=this.app.menuRegistry.getMenu("FeatureActions"),b=this.app.menuRegistry.getDefaultIconUri("FeatureActions");if(a&&(this.FeatureActions.addItems(a),b))for(a=0;a<this.FeatureActions.getLength();a++)this.FeatureActions.getAt(a).iconUri.get()||this.FeatureActions.getAt(a).iconUri.set(b)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.RelatedFeaturesView",geocortex.framework.ui.ViewBase,{constructor:function(){},handleViewClick:function(a,b,c){this.viewModel.currentRelatedFeature.set(c);this.viewModel.activateRelatedFeatureView(this.regionName)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.RelatedFeaturesViewModel",geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.FeatureProviderBase,{currentFeature:null,hasRelationships:null,relationList:null,currentRelatedFeature:null,constructor:function(a,b){if(b){if(this.currentFeature=b,this.hasRelationships=new Observable(false),this.relationList=new ObservableCollection,this.currentRelatedFeature=new Observable,
this.currentFeature.hasVisibleRelationships.get()&&this.currentFeature.layer&&this.currentFeature.layer.relationships){this.hasRelationships.set(true);var c;for(c=0;c<this.currentFeature.layer.relationships.length;c++)this.currentFeature.layer.relationships[c].visible&&this.relationList.addItem({displayName:new Observable(this.currentFeature.layer.relationships[c].displayName),id:new Observable(this.currentFeature.layer.relationships[c].id),relatedTableId:new Observable(this.currentFeature.layer.relationships[c].relatedTableId),
visible:new Observable(this.currentFeature.layer.relationships[c].visible),relatedEsriFeatures:new ObservableCollection,hasRetrievedData:new Observable(false),noRelatedFeatures:new Observable(false)});this._fetchRelatedFeatures()}}else throw Error("Feature cannot be null for the related features view model");},initialize:function(a){if(a&&a.relatedFeatureView)this.targetRegion=a.relatedFeatureView},activateRelatedFeatureView:function(a){if(this.targetRegion)a=this.targetRegion;if(!a)throw Error("No target region has been specified for the related feature details.");
if(!this.relatedDetailsView)this.relatedDetailsView=this.app.viewManager.createView({markup:"Mapping/modules/FeatureDetails/FeatureDetailsProviders/RelatedFeatureView.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.RelatedFeatureView",iconUri:"Resources/Images/Icons/file-multi-24.png",regionName:a,visible:false,libraryId:this.libraryId}),this.relatedDetailsView.attach(this);this.relatedDetailsView.title.set(this.currentRelatedFeature.get().relationName.get()+
": "+this.currentRelatedFeature.get().displayName.get());this.app.viewManager.activateView(this.relatedDetailsView)},_fetchRelatedFeatures:function(){var a=this;if(this.currentFeature&&this.currentFeature.layer&&this.relationList&&this.relationList.length()>0){var b=this.currentFeature.layer;if(b){var c;for(c=0;c<this.relationList.length();c++){var d=function(c){var d=c.id.get(),e=new esri.tasks.RelationshipQuery;e.outFields=["*"];e.relationshipId=c.id.get();e.objectIds=[a.currentFeature.getPrimaryKeyValue()];
(new esri.tasks.QueryTask(a.currentFeature.layer.getLayerUrl())).executeRelationshipQuery(e).then(function(e){var h=false,l;for(l in e)if(e.hasOwnProperty(l)){h=true;break}h?b.getRelatedFeatureLayer(d).then(function(b){for(var d in e)if(e.hasOwnProperty(d))for(var g=0;g<e[d].features.length;g++){var h=a._processRelatedFeature(b,e[d].features[g],c);c.relatedEsriFeatures.addItem(h);b.hasAttachments&&setTimeout(function(a,b){return function(){b._loadAttachments(a)}}(h,a),100)}c.hasRetrievedData.set(true)},
function(d){c.hasRetrievedData.set(true);a.app.trace.error("Error getting related record for layer {0}: {1}.".format(b.displayName,d.message))}):(c.hasRetrievedData.set(true),c.noRelatedFeatures.set(true))},function(d){c.hasRetrievedData.set(true);a.app.trace.error("Error getting related record for layer {0}: {1}.".format(b.displayName,d.message))})},e=function(c){var d=parseInt(c.id.get());b.mapService&&b.mapService.mapServiceType===geocortex.essentials.MapServiceType.FEATURE&&a.app.featureLayerModule?
a.app.featureLayerModule._getRelatedFeatures(b.mapService,d,a.currentFeature.getPrimaryKeyValue()).then(function(e){e&&e.length>0?a.app.featureLayerModule._getRelatedFeatureLayer(b.mapService,d).then(function(b){for(var d=0;d<e.length;d++){var g=a._processRelatedFeature(b,e[d],c);c.relatedEsriFeatures.addItem(g)}c.hasRetrievedData.set(true)},function(d){c.hasRetrievedData.set(true);a.app.trace.error("Error getting related record for layer {0}: {1}.".format(b.displayName,d.message))}):c.hasRetrievedData.set(true)},
function(d){c.hasRetrievedData.set(true);a.app.trace.error("Error getting related record for layer {0}: {1}.".format(b.displayName,d.message))}):c.hasRetrievedData.set(true)};this.app.isOffline.get()?e(this.relationList.getAt(c)):d(this.relationList.getAt(c))}}}},_makeAttributesObservable:function(a){var b=new ObservableCollection;if(a)for(var c in a)a.hasOwnProperty(c)&&b.addItem({name:new Observable(c),value:new Observable(a[c])});return b},_processRelatedFeature:function(a,b,c){var d=new ObservableCollection,
e=b.attributes[a.displayField];e||(e=b.attributes[a.objectIdField]);return{displayName:new Observable(e),relationName:new Observable(c.displayName.get()),featureUrl:a.url+"/"+b.attributes[a.objectIdField],attributes:this._makeAttributesObservable(b.attributes),geometry:new Observable(b.geometry),hasAttachments:new Observable(false),attachmentInfos:d}},_loadAttachments:function(a){var b=this,c=a.featureUrl+"/attachments";esri.request({url:c+"?f=json&ts="+(new Date).getTime(),handleAs:"json"}).then(function(b){if(b&&
b.attachmentInfos&&b.attachmentInfos.length>0){var e;for(e=0;e<b.attachmentInfos.length;e++){var f=b.attachmentInfos[e],g=new geocortex.essentialsHtmlViewer.mapping.infrastructure.AttachmentInfo;g.id.set(f.id);g.contentType.set(f.contentType);g.size.set(f.size);g.name.set(f.name);g.url.set(c+"/"+f.id);a.attachmentInfos.addItem(g)}a.hasAttachments.set(true)}},function(c){b.app.trace.error("Unable to retrieve attachment information for related feature '"+a.featureUrl+"': "+c.message)})}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.FeatureDetails.FeatureDetailsProviders.RelatedFeatureView",geocortex.framework.ui.ViewBase,{constructor:function(){this.inherited(arguments)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.AddEditFeatureView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.AddEditFeatureView",geocortex.framework.ui.ViewBase,{constructor:function(){this.app.commandRegistry.command("StartEditingFeature").register(this,function(){this.app.commandRegistry.command("ActivateView").execute(this.id)});this.app.commandRegistry.command("SetEditorFeatureGeometry").register(this,function(){this.app.commandRegistry.command("ActivateView").execute(this.id)})},handleClickDelete:function(){this.viewModel.deleteCurrentFeature();
return false},handleClickSave:function(){this.viewModel.save();return false},handleClickCancel:function(){this.viewModel.cancel();return false},handleClickEditGeometry:function(){this.viewModel.isEditingGeometry.get()===true?this.viewModel.stopEditingGeometry():this.viewModel.startEditingGeometry();this.app.commandRegistry.command("ShowMap").execute(this.id);return false},handleFeatureTemplateClick:function(a,b,c){a=new esri.Graphic(c.proto.toJson());a._graphicsLayer=c.layer;this.app.commandRegistry.command("StartEditingNewFeature").execute(a)},
handleClickAddRelatedRecord:function(a,b,c){this.viewModel.startAddingNewRelatedRecord(c)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.AddEditFeatureViewModel");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.AddEditFeatureViewModel",geocortex.framework.ui.ViewModelBase,{thisContext:null,mode:null,feature:null,fields:null,currentMapService:null,editingActive:null,editingNewFeature:null,currentFeatureRelationships:null,validationMessages:null,isEditingRelatedFeatureNotInSite:null,isEditingGeometry:null,featureTypeHasGeometry:null,hasGeometry:null,geometry:null,attributes:null,templates:null,_editingRelationshipOrigin:null,_editingRelationshipDestination:null,
_relatedFeature:null,_drawObject:null,_editObject:null,_layerClickEvents:null,_lastLayer:null,_prevGeometry:null,_newObjectId:0,constructor:function(){this.thisContext=new Observable(this);this.mode=new Observable("createFeature");this.feature=new Observable(null);this.fields=new ObservableCollection([]);this.editingActive=new Observable(false);this.editingNewFeature=new Observable(null);this.validationMessages=new ObservableCollection([]);this.currentFeatureRelationships=new ObservableCollection([]);
this.isEditingRelatedFeatureNotInSite=new Observable(false);this.isEditingGeometry=new Observable(false);this.featureTypeHasGeometry=new Observable(false);this.hasGeometry=new Observable(false);this.geometry=new Observable(null);this.currentMapService=new Observable(null);this.templates=new ObservableCollection([]);this._layerClickEvents=[];this.app.commandRegistry.command("StartEditingFeature").register(this,this._executeStartEditingFeature);this.app.commandRegistry.command("StartEditingNewFeature").register(this,
this._executeStartEditingNewFeature);this.app.commandRegistry.command("SetEditorFeatureGeometry").register(this,this._executeSetEditorGeometry)},_setMode:function(a){this.mode.set(a);this.thisContext.pulse()},initialize:function(){this.app.eventRegistry.event("SiteServiceLayersLoadedEvent").subscribe(this,this._populateTemplates)},_populateTemplates:function(){var a=this;if(!this.app.site||!this.app.site.essentialsMap||!this.app.site.isInitialized)this.app.trace.warning("Could not populate feature templates - Site was not ready.");
else for(var b=function(b,c){var d=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureTemplateViewModel;d.name.set(c.name);d.description.set(c.description);d.drawingTool.set(c.drawingTool);d.proto=c.prototype;d.layer=b;a.templates.addItem(d)},c=0;c<this.app.site.essentialsMap.mapServices.length;++c){var d=this.app.site.essentialsMap.mapServices[c].serviceLayer;if(d&&d.templates)if(d.templates.length>0)for(var e=0;e<d.templates.length;++e)b(d,d.templates[e]);else if(d.types&&d.types.length>
0)for(e=0;e<d.types.length;++e){var f=d.types[e];if(f.templates)for(var g=0;g<f.templates.length;++g)b(d,f.templates[g])}}},_removeFeatureClickEvents:function(){for(var a=0;a<this._layerClickEvents.length;++a)dojo.disconnect(this._layerClickEvents[a]);this._layerClickEvents=[]},_executeStartEditingFeature:function(a,b){b||(b=false);try{if(!this.app.map||!this.app.site||!this.app.site.isInitialized){var c=this;this.app.eventRegistry.event("SiteInitializedEvent").subscribe(this,function(){c._executeStartEditingFeatureImpl(a,
b)})}else this._executeStartEditingFeatureImpl(a,b)}catch(d){this.cancel()}},_executeStartEditingNewFeature:function(a){this._executeStartEditingFeature(a,true)},_executeStartEditingFeatureImpl:function(a,b){this.cancel();try{var c=a;a&&a.isInstanceOf&&a.isInstanceOf(geocortex.essentialsHtmlViewer.mapping.infrastructure.Feature)&&(a.layer&&a.layer.mapService&&this.currentMapService.set(a.layer.mapService),c=a.esriFeature.get());c&&(typeof c.getLayer!="function"?this.app.trace.warning("Could not edit feature - No associated graphic layer was found."):
(this.editingNewFeature.set(b),this.setFeature(c)))}catch(d){this.app.trace.error("Could not start editing: {0}".format(d)),this.cancel()}},setFeature:function(a){this.cancel();a?((this._lastLayer=a.getLayer())&&this.featureTypeHasGeometry.set(!!this._lastLayer.geometryType),this.feature.set(a),this.geometry.set(a.geometry),this.hasGeometry.set(!!a.geometry),this._setPrevGeometry(),this._buildFeatureAttributes(),this._buildFeatureRelationships(),this.editingActive.set(true),this._setMode("editFeature")):
(this._setPrevGeometry(),this.editingNewFeature.set(true),this.feature.set(null),this._lastLayer=null,this.geometry.set(null),this.hasGeometry.set(false))},_setPrevGeometry:function(){var a=this.feature.get();this._prevGeometry=a?this.cloneFeature(a).geometry:null},cloneFeature:function(a){var b=new esri.Graphic(a.toJson());b._graphicsLayer=a.getLayer();return b},_executeSetEditorGeometry:function(a){this.stopEditingGeometry();this.geometry.set(a);this.hasGeometry.set(!!a);this.feature.get()&&this.feature.get().setGeometry(a)},
stopEditingGeometry:function(){if(this._drawObject)this._drawObject.deactivate(),this._drawObject=null;if(this._editObject)this._editObject.deactivate(),this._editObject=null;this.isEditingGeometry.set(false)},startEditingGeometry:function(){this.feature.get();var a=this.feature.get()?this.feature.get().getLayer():this._lastLayer;this._drawObject&&this._drawObject.deactivate();this._editObject&&this._editObject.deactivate();var b=this;if(this.hasGeometry.get()){var a=esri.toolbars.Edit.MOVE|esri.toolbars.Edit.EDIT_VERTICES,
c={};this._editObject=new esri.toolbars.Edit(this.app.map,c);dojo.connect(this._editObject,"onDeactivate",function(a,c,d){b.isEditingGeometry.set(false);d.isModified&&b.app.commandRegistry.command("SetEditorFeatureGeometry").execute(c.geometry)});var d=this.feature.get()||this._createNewFeature();d.geometry=this.geometry.get();this.isEditingGeometry.set(true);this._editObject.activate(a,d,c)}else this._drawObject=new esri.toolbars.Draw(this.app.map,{tooltipOffset:20,drawTime:90}),dojo.connect(this._drawObject,
"onDrawEnd",function(a){b.isEditingGeometry.set(false);b.app.commandRegistry.command("SetEditorFeatureGeometry").execute(a)}),a=this._mapGeometryTypeToDrawMode(a.geometryType),this.isEditingGeometry.set(true),this._drawObject.activate(a)},_mapGeometryTypeToDrawMode:function(a){switch(a){case "esriGeometryPoint":return esri.toolbars.Draw.POINT;case "esriGeometryMultipoint":return esri.toolbars.Draw.MULTI_POINT;case "esriGeometryLine":return esri.toolbars.Draw.LINE;case "esriGeometryPath":case "esriGeometryPolyline":return esri.toolbars.Draw.POLYLINE;
case "esriGeometryPolygon":return esri.toolbars.Draw.POLYGON;case "esriGeometryEnvelope":return esri.toolbars.Draw.EXTENT;default:return esri.toolbars.Draw.POLYGON}},_createNewFeature:function(a,b,c,d){var e=new esri.Graphic;e.attributes=b||{};e.geometry=a||new esri.geometry.Point(NaN,NaN);e.symbol=c||null;e.infoTemplate=d;return e},_getMapServiceByLayer:function(a){if(!a)return null;for(var b=0;b<this.app.site.essentialsMap.mapServices.length;++b){var c=this.app.site.essentialsMap.mapServices[b];
if(c.serviceLayer===a)return c}},deleteCurrentFeature:function(a,b){if(!this.editingNewFeature.get()){var c=this,d=this.feature.get(),e=d.getLayer()||e,f=this._getMapServiceByLayer(e);f?(b||(b=function(a){c._setMode("editFeature");a=c.app.getResource(c.libraryId,"language-error-feature-edits").format(a);c.app.commandRegistry.command("Alert").execute(a);c.app.trace.error(a)}),f={mapService:f,feature:d,successCallback:function(){e&&e.remove(d);c._setMode("createFeature");a&&a()},errorCallback:b},c._setMode("applyingEdits"),
this.app.commandRegistry.command("DeleteFeature").execute(f)):this.app.trace.error("Could not delete current feature - No associated map service was found.")}},save:function(a,b){var c=this,d;this.feature.get()&&(d=this.cloneFeature(this.feature.get()));var e=(d?d.getLayer():null)||this._lastLayer;this.stopEditingGeometry();if(!d&&(d=this._createNewFeature(),e.renderer))d.symbol=e.renderer.getSymbol(d);d.geometry=e.geometryType&&this.hasGeometry.get()?this.geometry.get():null;this.validationMessages.clear();
for(var f=0;f<this.fields.getLength();++f){var g=this.fields.getAt(f),h=g.value.get(),k=g.validationFunc(h);k?(g.cssClass.set("invalid"),this.validationMessages.addItem(k)):(g.cssClass.set(""),d.attributes[g.name.get()]=h)}if(this.validationMessages.getLength()>0)return b&&b(),false;if(!d.symbol&&e.renderer)d.symbol=e.renderer.getSymbol(d);for(var j=new esri.Graphic(d.toJson()),g=null,h=e.url||e._essentialsMetadata.serviceUrl,f=0;f<this.app.site.essentialsMap.mapServices.length;++f)if(k=this.app.site.essentialsMap.mapServices[f],
k.serviceUrl===h){g=k;break}e.url=h;j.__editingMeta=d.__editingMeta;e={mapService:g,layer:e,feature:j,successCallback:function(){dojo.safeMixin(d,j);c.editingNewFeature.set(false);c.feature.set(d);c._setMode("createFeature");c._setPrevGeometry()},errorCallback:function(a){c._setMode("editFeature");a=c.app.getResource(c.libraryId,"language-error-feature-edits").format(a);c.app.commandRegistry.command("Alert").execute(a);c.app.trace.error(a)}};this.isEditingRelatedFeatureNotInSite.get()?this.editingNewFeature.get()?
(e.relatedFeature=c._relatedFeature,e.relationshipOrigin=c._editingRelationshipOrigin,e.relationshipDestination=c._editingRelationshipDestination,this.app.commandRegistry.command("CreateRelatedRecord").execute(e)):this.app.commandRegistry.command("UpdateRelatedRecord").execute(e):this.editingNewFeature.get()?(this.app.commandRegistry.command("CreateFeature").execute(e),this.app.isOffline.get()===false&&this._lastLayer.remove(this.feature.get())):this.app.commandRegistry.command("UpdateFeature").execute(e);
this._setMode("applyingEdits")},cancel:function(){var a=this.feature.get();this.validationMessages.clear();this.stopEditingGeometry();a&&this._prevGeometry&&a.setGeometry(this._prevGeometry);this._lastLayer=null;this.feature.set(null);this.editingActive.set(false);this.isEditingRelatedFeatureNotInSite.set(false);this._setMode("createFeature");this.fields.clear();this.geometry.set(null);this.hasGeometry.set(false);this._relatedFeature=this._editingRelationshipDestination=this._editingRelationshipOrigin=
null},startAddingNewRelatedRecord:function(a){var b=this,c=a.relationship,d=this._lastLayer,e=this._getMapServiceByLayer(d);this.setFeature(null);e?this.app.featureLayerModule._getRelatedFeatureLayer(e,c.id,function(d){var e=b._getMapServiceByLayer(d);e?(b.isEditingRelatedFeatureNotInSite.set(false),b.currentMapService.set(e)):b.isEditingRelatedFeatureNotInSite.set(true);d&&b.featureTypeHasGeometry.set(!!d.geometryType);e=a.feature.get();b._lastLayer=d;b._editingRelationshipOrigin=c;b._relatedFeature=
e;b.editingNewFeature.set(true);b.feature.set(null);b.geometry.set(null);b.hasGeometry.set(false);b._buildFeatureAttributes();if(!c.keyField)throw Error("Editing relationships requires ArcGIS 10.1");for(var h=null,k=0;k<d.relationships.length;++k){var j=d.relationships[k];if(j.id===c.id){b._editingRelationshipDestination=j;h=j.keyField;break}}if(!h)throw Error("Error finding key field in relationship.");for(k=0;k<b.fields.getLength();++k)if(d=b.fields.getAt(k),d.name.get()===h)if(h.toLowerCase()===
"objectid"||h.toLowerCase()==="globalid")d.value.set("[Automatic]"),d.editable.set(false),d.cantEdit.set(true);else{d.value.set(e.attributes[c.keyField]);break}b._setMode("editFeature")},function(){b.app.trace.error("Could not edit a related feature - no related layer could be loaded for relationship {0}".format(c.id))}):this.app.trace.warning("Could not edit feature. No map service for layer '{0}' was found.".format(d.url))},_buildFeatureRelationships:function(){this.currentFeatureRelationships.clear();
for(var a=this.feature.get(),b=this.currentMapService.get(),c=this._lastLayer,d,e=0;e<c.relationships.length;++e){var f=c.relationships[e];if(b&&(d=b._getRelation(f.id))&&!d.visible)continue;f.role==="esriRelRoleOrigin"&&this.currentFeatureRelationships.addItem({id:new Observable(f.id),text:new Observable("Create new related {0} record".format(f.name)),feature:new Observable(a),relationship:f})}},_buildFeatureAttributes:function(){this.fields.clear();var a=this.feature.get();this.currentMapService.get();
var b=this._lastLayer;a===null&&(a=new esri.Graphic);for(var c=[],d=0;d<b.fields.length;++d){var e=b.fields[d];if(e.editable){var f=null;this.editingNewFeature.get()||(f=a.attributes[e.name]);var g=this._buildValidationFunc(e),f={name:new Observable(e.name),alias:new Observable(e.alias),length:new Observable(e.length),editable:new Observable(e.editable),cantEdit:new Observable(!e.editable),nullable:new Observable(e.nullable),type:new Observable(e.type),value:new Observable(f),cssClass:new Observable(""),
validationFunc:g||function(){return true}};if(e.hasOwnProperty("domain")&&(g=e.domain)&&g.type==="codedValue")f.type=new Observable("codedDomainValue"),f.codedDomainValues=new ObservableCollection([]),f.codedDomainValues.addItems(g.codedValues),e.nullable&&f.codedDomainValues.insertItem(0,{name:"",code:null});c.push(f)}}this.fields.addItems(c)},_buildValidationFunc:function(a){if(a.domain)if(a.domain.type==="codedValue")return function(){return null};else if(a.domain.type==="range")if(a.domain.hasOwnProperty("range")){var b=
a.domain.range.replace("[","").replace("]","").split(",");return function(c){return c<b[0]||c>b[1]?"{0} must be in the range {1} to {2}.".format(a.alias,b[0],b[1]):null}}else return function(b){if(b<a.domain.minValue||b>a.domain.maxValue)return"{0} must be in the range {1} to {2}.".format(a.alias,a.domain.minValue,a.domain.maxValue)};else return function(){return null};else switch(a.type){case "esriFieldTypeString":case "esriFieldTypeGUID":return function(b){return b==null||b==void 0?a.editable&&
!a.nullable?"{0} requires a value".format(a.alias):null:a.length&&b.toString().length>a.length?"{0} must be no longer than {1} characters.".format(a.alias,a.length):null};case "esriFieldTypeDouble":return function(b){return b==null||b==void 0?a.editable&&!a.nullable?"{0} requires a value".format(a.alias):null:String(b.toString()).search(/(\\+|-)?([0-9]+(\.[0-9]+))/)!=-1?null:"{0} must be a valid decimal number.".format(a.name)};case "esriFieldTypeSmallInteger":case "esriFieldTypeInteger":case "esriFieldTypeSingle":return function(b){return b==
null||b==void 0?a.editable&&!a.nullable?"{0} requires a value".format(a.alias):null:String(b.toString()).search(/^\s*(\+|-)?\d+\s*$/)!=-1?null:"{0} must be a valid integer.".format(a.name)};default:return function(){return null}}}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLog",null,{entries:null,nextFeatureId:0,constructor:function(a){this.entries=[];if(a){a=dojo.fromJson(a);this.nextFeatureId=a.nextFeatureId||0;for(var b=0;b<a.entries.length;++b){var c=a.entries[b],d=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLogEntry;dojo.safeMixin(d,c);if(c.feature)d.feature=new esri.Graphic(c.feature);this.entries.push(d)}}},addEntry:function(a){this.entries.push(a);++this.nextFeatureId},
toJson:function(){for(var a=[],b=0;b<this.entries.length;++b)a.push(this.entries[b].toJson?this.entries[b].toJson():this.entries[b]);return{nextFeatureId:this.nextFeatureId,entries:a}}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLogEntry",null,{layerUrl:null,type:null,error:null,mapServiceId:null,metadata:null,committed:false,feature:null,constructor:function(a,b,c){if(a)this.layerUrl=a;if(b)this.type=b;if(c&&(this.feature=c,c.__editingMeta))this.metadata=c.__editingMeta},toJson:function(){return{layerUrl:this.layerUrl,type:this.type,error:this.error,mapServiceId:this.mapServiceId,committed:this.committed,metadata:this.metadata,feature:this.feature.toJson?
this.feature.toJson():this.feature}}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLogView",geocortex.framework.ui.ViewBase,{});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLogViewModel",geocortex.framework.ui.ViewModelBase,{totalEdits:null,editLogEntries:null,editLogJsonText:null,constructor:function(){this.totalEdits=new Observable;this.editLogJsonText=new Observable("");this.editLogEntries=new ObservableCollection([]);this.app.eventRegistry.event("DomainStorageClearedEvent").subscribe(this,this._handleDomainStorageClearedEvent)},initialize:function(){this.app.eventRegistry.event("FeatureLayerEditLogUpdatedEvent").subscribe(this,
this._update);this._loadModel()},_loadModel:function(){var a=this;this.app.hasOwnProperty("featureLayerModule")&&this.app.featureLayerModule.getEditLog(function(b,c){a._update(b,c)},null)},_handleDomainStorageClearedEvent:function(){this._loadModel()},_update:function(a){this.editLogEntries.clear();for(var b=0,c=0;c<a.entries.length;++c){var d=a.entries[c];if(!d.committed&&d.feature){++b;var e=new geocortex.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:d.feature}),e={description:new Observable(this._buildEditDescription(d,
e)),type:new Observable(d.type),hasGeometry:new Observable(d.feature.geometry!=null),hasAttributes:new Observable(d.feature.attributes!=null),feature:new Observable(e),committed:new Observable(d.committed)};e.gcxid=new Observable;d.metadata&&e.gcxid.set(d.metadata.GCXOBJECTID);this.editLogEntries.addItem(e)}}this.totalEdits.set(b)},_buildEditDescription:function(a,b){var c="Edited";switch(a.type){case "addition":c="Created";break;case "update":c="Updated";break;case "deletion":c="Deleted";break;case "relatedRecordAddition":c=
"Created related";break;case "relatedRecordUpdate":c="Updated related";break;case "relatedRecordDeletion":c="Deleted related";break;case "attachmentAddition":c="Created attachment";break;case "attachmentUpdate":c="Updated attachment";break;case "attachmentDeletion":c="Deleted attachment";break;default:c="[Unknown action]"}var d="";a.feature&&a.feature.attributes.OBJECTID&&(d=" ({0})".format(a.feature.attributes.OBJECTID));return"{0} feature {1}{2}".format(c,b.label.get(),d)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditMetadata",null,{isNew:false,isRelated:false,relationship:null,dependencies:null,GCXOBJECTID:null,constructor:function(){this.relationship=null;this.dependencies=[];this.GCXOBJECTID=-1}});var oldFeatureEditResult=esri.layers.FeatureEditResult;dojo.declare("geocortex.essentialsHtmlViewer.modules.FeatureLayerModule.FeatureEditResult",oldFeatureEditResult,{constructor:function(a){a&&(this.GID=a.globalId)}});
esri.layers.FeatureEditResult=geocortex.essentialsHtmlViewer.modules.FeatureLayerModule.FeatureEditResult;
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerDetailsView",geocortex.framework.ui.ViewBase,{handleZoomClick:function(a,b,c){if(a=esri.geometry.fromJson(c.geometry.get()))this.app.map.setExtent(a.getExtent()),this.app.commandRegistry.command("ShowMap").execute()},handleClearClick:function(a,b,c){function d(){e.app.commandRegistry.command("FeatureLayerClearData").execute(c.serviceUrl.get(),function(){e.app.commandRegistry.command("FeatureLayerModuleRefreshData").execute("")},
function(a){var b=e.app.getResource(e.libraryId,"language-error-while-clearing-data"),b=(b+": {0}. {1}").format(a.message,a.details);e.app.trace.error(b);e.app.commandRegistry.command("Alert").execute(b);e.app.commandRegistry.command("FeatureLayerModuleRefreshData").execute("")})}var e=this;this.app.isOffline.get()?e.app.commandRegistry.command("Alert").execute(e.app.getResource(e.libraryId,"language-warning-offline-clearing-data")):this.app.featureLayerModule.hasEditsInLog(c.serviceUrl.get()).then(function(a){a=
a?e.app.getResource(e.libraryId,"language-edits-not-synchronized-to-server"):"";a=a+e.app.getResource(e.libraryId,"language-feature-layer-clear-data")+"? "+e.app.getResource(e.libraryId,"language-operations-cannot-undone");e.app.commandRegistry.command("Confirm").execute(a,e.app.getResource(e.libraryId,"language-feature-layer-clear-data"),function(a){a&&d()})},function(a){var b=e.app.getResource(e.libraryId,"language-error-while-clearing-data"),b=(b+": {0}.").format(a.message,a.details);e.app.trace.error(b);
e.app.commandRegistry.command("Alert").execute(b)})},handleCacheClick:function(a,b,c){function d(){var a=new esri.tasks.Query,b=c.whereClause.get();a.where=b?b:"1=1";a.returnGeometry=true;a.outFields=["*"];a.geometry=e.app.map.extent;e.app.commandRegistry.command("FeatureLayerCacheData").execute(c.serviceId.get(),a,function(){e.app.commandRegistry.command("FeatureLayerModuleRefreshData").execute("")},function(a){var b=e.app.getResource(e.libraryId,"language-error-while-caching-data"),b=(b+": {0}. {1}").format(a.message,
a.details);e.app.commandRegistry.command("Alert").execute(b);e.app.trace.error(b);e.app.commandRegistry.command("FeatureLayerModuleRefreshData").execute("")})}var e=this;c.isNotCached.get()?d():this.app.featureLayerModule.hasEditsInLog(c.serviceUrl.get()).then(function(a){a=a?e.app.getResource(e.libraryId,"language-edits-not-synchronized-to-server"):"";a+=e.app.getResource(e.libraryId,"language-operations-cannot-undone");e.app.commandRegistry.command("Confirm").execute(a,e.app.getResource(e.libraryId,
"language-feature-layer-cache-data"),function(a){a&&d()})},function(a){var b=e.app.getResource(e.libraryId,"language-error-while-caching-data"),b=b.format(a.message,a.details);e.app.trace.error(b);e.app.commandRegistry.command("Alert").execute(b)})}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerListView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerListView",geocortex.framework.ui.ViewBase,{activated:function(){this.inherited(arguments);this.app.commandRegistry.command("FeatureLayerModuleRefreshData").execute("")},handleSynchronizeClick:function(){this.app.commandRegistry.command("FeatureLayerModuleStartSync").execute()},handleRefreshClick:function(){this.app.commandRegistry.command("FeatureLayerModuleRefreshData").execute("")},handleFeatureLayerClick:function(a,
b,c){this.viewModel.currentFeatureLayer.set(c);this.app.commandRegistry.command("ActivateView").execute("FeatureLayerDetailsView")}});
geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerModuleDecl={_featureLayerModuleIndexKey:null,_featuresStoragePrefix:null,_featuresStorageEditsPrefix:null,_showingOfflineLayers:null,_modalMessageView:null,_modalMessageViewModel:null,_relatedFeatureLayerCache:null,_hasDisplayedSyncNeededAlert:false,index:null,layerEditSummaries:null,syncNeeded:null,isSyncing:null,latestFeatureEditId:null,constructor:function(){this.index={};this._featureLayerModuleIndexKey="__featureLayerModuleIndex";
this._featuresStorageEditsPrefix="__featureLayerModuleEdits";this._featuresStoragePrefix="__featureLayerModule";this._showingOfflineLayers=false;this._relatedFeatureLayerCache={};this.layerEditSummaries=new ObservableCollection;this.syncNeeded=new Observable(false);this.isSyncing=new Observable(false);this.latestFeatureEditId=new Observable(0);if(this.app)this.app.featureLayerModule=this;this._registerCommands();this.app.eventRegistry.event("SiteInitializedEvent").subscribe(this,this._refreshModuleData);
this.app.eventRegistry.event("SiteServiceLayersLoadedEvent").subscribe(this,this._checkIfOfflineOnStartup);this.app.eventRegistry.event("DomainStorageClearedEvent").subscribe(this,this._handleDomainStorageClearedEvent);this.app.eventRegistry.event("FeatureLayerModuleSyncCompletedEvent").subscribe(this,this._handleSyncComplete);this.app.eventRegistry.event("ApplicationOfflineEvent").subscribe(this,this._refreshModuleData);this.app.eventRegistry.event("ApplicationOnlineEvent").subscribe(this,this._refreshModuleData)},
_handleDomainStorageClearedEvent:function(){this._resetFeatureLayersInfo();this._refreshModuleData()},_registerCommands:function(){this.app.commandRegistry.command("AttachFeatureAttachment").register(this,this._executeAttachFeatureAttachment);this.app.commandRegistry.command("TestAttachment").register(this,function(a){a={featureUrl:"http://qaservices3.latitudeqa.com:6080/arcgis/rest/services/RelationMap/FeatureServer/0/1",filename:"test2.png",contentType:"image/PNG",payload:"iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAONJREFUeNq0lcEKwjAMhmeZFz142MW9jxdfQB+h762Cgk5wIB526FJoIZQs3WoS+A8b7PtGk7Yr51ylWaZSLnVBLQ201vo130IGnzq8lOLHhn4hLaSTXKJ0Wu6QxijBY+2NIvwoMUUcvIM8jCL8+k+TZ8H9mBpNONUD//EGspaApwK8SRpCshiOBeQmQZIieG5Mo4SC93PgWLBjJBT8BHlCLhwcC37hcMpVhL8gN8ibg2PBEP6klYSnPeAkRXCqyVOScwl8aopSySE8L4ZzVyaW+An7lMBzd3KU9PF+LTkVRwEGAMxla+k/68SdAAAAAElFTkSuQmCC"};
this.app.commandRegistry.command("AttachFeatureAttachment").execute(a)});this.app.commandRegistry.command("FeatureLayerClearData").register(this,this._clearData);this.app.commandRegistry.command("FeatureLayerCacheData").register(this,this._cacheData);this.app.commandRegistry.command("ShowFeatureLayerModalMessage").register(this,this._showModalMessage);this.app.commandRegistry.command("HideFeatureLayerModalMessage").register(this,this._removeModalMessage);this.app.commandRegistry.command("CreateFeature").register(this,
this._executeCreateFeature);this.app.commandRegistry.command("UpdateFeature").register(this,this._executeUpdateFeature);this.app.commandRegistry.command("DeleteFeature").register(this,this._executeDeleteFeature);this.app.commandRegistry.command("CreateRelatedRecord").register(this,this._executeCreateRelatedRecord);this.app.commandRegistry.command("UpdateRelatedRecord").register(this,this._executeUpdateRelatedRecord);this.app.commandRegistry.command("DeleteRelatedRecord").register(this,this._executeDeleteRelatedRecord);
this.app.commandRegistry.command("CreateAttachment").register(this,this._executeCreateAttachment);this.app.commandRegistry.command("UpdateAttachment").register(this,this._executeUpdateAttachment);this.app.commandRegistry.command("DeleteAttachment").register(this,this._executeDeleteAttachment);this.app.commandRegistry.command("GetRelatedFeatures").register(this,this._executeGetRelatedFeatures);this.app.commandRegistry.command("GetEditLog").register(this,this._executeGetEditLog);this.app.commandRegistry.command("SetEditLog").register(this,
this._executeSetEditLog);this.app.commandRegistry.command("FeatureLayerModuleRefreshData").register(this,this._refreshModuleData);this.app.commandRegistry.command("FeatureLayerModuleStartSync").register(this,this._startSync);this.app.commandRegistry.command("ApplyFeatureLayerEdits").register(this,this._applyFeatureLayerEdits)},initialize:function(){var a=this;this.app.eventRegistry.event("ApplicationOfflineEvent").subscribe(this,function(){this._goOffline()});this.app.eventRegistry.event("ApplicationOnlineEvent").subscribe(this,
function(){this._goOnline()});this.app.store.get(this._featureLayerModuleIndexKey,function(b){b?a.index=dojo.fromJson(b):(a.app.trace.debug("Feature Layer Module - index not found, creating a new one."),a._resetFeatureLayersInfo())},function(b){a.app.trace.error("Feature Layer Module - Unable to get the index: {0}".format(b))})},_resetFeatureLayersInfo:function(){this.index=tempIndex={featureLayers:{}};this._persistIndex()},_showModalMessage:function(a){this._removeModalMessage();this._modalMessageView=
this.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.ModalMessageView",markup:"Mapping/modules/FeatureLayer/ModalMessageView.html",visible:false,region:"ApplicationRegion",libraryId:this.libraryId});this._modalMessageViewModel=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.ModalMessageViewModel(this.app);this._modalMessageViewModel.initialize({message:a});this._modalMessageView.attach(this._modalMessageViewModel);this.app.viewManager.activateView(this._modalMessageView)},
_removeModalMessage:function(){if(this._modalMessageView)this.app.viewManager.destroyView(this._modalMessageView),this._modalMessageView=null},_checkIfOfflineOnStartup:function(){this.app.map&&this.app.featureLayerModule&&this.index&&(this.app.isOffline.get()&&this._goOffline(),this._refreshModuleData())},_refreshLayersInIndex:function(){for(var a=0;a<this.app.site.essentialsMap.mapServices.length;++a){var b=this.app.site.essentialsMap.mapServices[a];b.serviceLayer.clear&&b.serviceLayer.clear();b.serviceLayer.refresh()}},
_refreshModuleData:function(){this._updateEditSummarys();this.syncNeeded.set(!this.app.isOffline.get()&&this.layerEditSummaries.getLength()>0);if(this.syncNeeded.get()&&!this.app.isOffline.get()&&!this._hasDisplayedSyncNeededAlert)this._hasDisplayedSyncNeededAlert=true,this.app.commandRegistry.command("Alert").execute(this.app.getResource(this.libraryId,"language-feature-layer-pending-edits-multiple-layers-ext"))},_goOffline:function(){this._hasDisplayedSyncNeededAlert=false;if(!this._showingOfflineLayers){this._showingOfflineLayers=
true;this._clearRelatedFeaturesCache();for(var a=this.app.site.getFeatureServices(),b=0,c=this,b=0;b<a.length;b++)(function(){var d=a[b];if(c.index.featureLayers[d.url]){var e=c._getFeatureLayerStorageKey(d.url);c.app.store.get(e,function(a){c._swapFeatureLayerForOffline(d,a)},function(a){c.app.trace.error("Feature Layer Module - unable to retrieve features for feature layer '{2}({0})': {1}. ".format(d.id,a,d.displayName))})}else c._swapFeatureLayerForOffline(d,null)})()}},_goOnline:function(){if(this._showingOfflineLayers){this._showingOfflineLayers=
false;for(var a=this.app.site.getFeatureServices(),b=0,b=0;b<a.length;b++){var c=a[b];c.restoreFeatureLayer();this.app.eventRegistry.event("FeatureLayerOnlineEvent").publish(c)}this._refreshModuleData()}},_getEmptyEditSet:function(){return{additions:[],updates:[],deletions:[]}},_isObjectIdInCollection:function(a,b){if(a)for(var c=0,c=0;c<a.length;c++)if(a[c].objectId==b)return true;return false}};
dojo.safeMixin(geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerModuleDecl,{_binTool:{_keyStr:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",decodeArrayBuffer:function(a){var b=Math.ceil(3*a.length/4),b=new ArrayBuffer(b);this.decode(a,b);return b},decode:function(a,b){var c=this._keyStr.indexOf(a.charAt(a.length-1)),d=this._keyStr.indexOf(a.charAt(a.length-1)),e=Math.ceil(3*a.length/4);c==64&&e--;d==64&&e--;for(var f,g,h,k,j=0,l=0,c=b?new Uint8Array(b):
new Uint8Array(e),a=a.replace(/[^A-Za-z0-9\+\/\=]/g,""),j=0;j<e;j+=3)f=this._keyStr.indexOf(a.charAt(l++)),g=this._keyStr.indexOf(a.charAt(l++)),d=this._keyStr.indexOf(a.charAt(l++)),k=this._keyStr.indexOf(a.charAt(l++)),f=f<<2|g>>4,g=(g&15)<<4|d>>2,h=(d&3)<<6|k,c[j]=f,d!=64&&(c[j+1]=g),k!=64&&(c[j+2]=h);return c}},_executeAttachFeatureAttachment:function(a){this._syncAttachmentToServer(a.featureUrl,a.filename,a.contentType,a.payload,a.callback)},_syncAttachmentToServer:function(a,b,c,d,e){this.app.trace.debug("--- _syncAttachmentToServer called");
try{var f=function(a){for(var b=new ArrayBuffer(a.length),b=new Uint8Array(b),c=0,d=a.length;c<d;c++)b[c]=a.charCodeAt(c)%255;return b};a+="/addAttachment";this.app.trace.debug("--- Creating XHR");var g=new XMLHttpRequest;g.open("POST",a,true);g.setRequestHeader("Content-Type","multipart/form-data; boundary=---------------------------L4717uD3G30");g.responseType="";g.onload=e;this.app.trace.debug("--- Creating request preamble");var h="-----------------------------L4717uD3G30\r\n"+'Content-Disposition: form-data; name="attachment"; filename="{0}";\r\n'.format(b)+
"Content-Type: {0}".format(c)+"\r\n\r\n";this.app.trace.debug("--- Encoding request preamble");var k=f(h);this.app.trace.debug("--- Encoding request payload");var j=this._binTool.decode(d);this.app.trace.debug("--- Creating request suffix");this.app.trace.debug("--- Encoding request suffix");var l=f('\r\n-----------------------------L4717uD3G30\r\nContent-Disposition: form-data; name="gdbVersion"\r\n\r\n\r\n-----------------------------L4717uD3G30\r\nContent-Disposition: form-data; name="f"\r\n\r\npjson\r\n-----------------------------L4717uD3G30--\r\n');
this.app.trace.debug("--- Creating payload buffer");var m=new ArrayBuffer(k.length+j.length+l.length),n=new Uint8Array(m),a=0;this.app.trace.debug("--- Merging output buffers");for(i=0;i<k.length;i++,a++)n[a]=k[i]&255;for(i=0;i<j.length;i++,a++)n[a]=j[i]&255;for(i=0;i<l.length;i++,a++)n[a]=l[i]&255;this.app.trace.debug("--- Sending request");g.send(n.buffer)}catch(o){this.app.trace.error("--- ERROR: {0}".format(o.toString())),e&&e(o)}},_executeCreateAttachment:function(a){var b=a.mapService,c=a.layer,
d=a.feature,e=a.featureUrl,f=a.successCallback,g=a.errorCallback;this.app.trace.debug("--- Create Attachment.");if(this.app.isOffline.get()!==true)this.app.trace.debug("--- invoking _executeAttachFeatureAttachment."),a.featureUrl="{0}/{1}".format(e,a.feature.attributes[c.objectIdField]),this._executeAttachFeatureAttachment(a);else{var h={attributes:{}};this._assignTemporaryObjectId(h);h.attributes.filename=a.filename;h.attributes.contentType=a.contentType;var k=h.attributes.key="attachment-"+(new Date).getTime(),
j=this.createNewFeatureMetaData(h),l={},m=d.__editingMeta;m&&m.isNew?(l={},l[m.GCXOBJECTID]=[],l[m.GCXOBJECTID].push({from:c.objectIdField,to:"gcx_feature_objectId"})):h.attributes.gcx_feature_objectId=d.attributes[c.objectIdField];j.dependencies=l;h.__editingMeta=j;var n=h;h.toJson&&(n=h.toJson());n.__editingMeta=j;if(!b)b=new geocortex.essentials.MapService(e),b.serviceLayer=c;var o=this;this.app.store.set(k,a.payload,function(){a=null;var b=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLogEntry(e,
"attachmentAddition",n);o._appendToEditLog(null,b,f,g)},g)}},_executeUpdateAttachment:function(){},_executeDeleteAttachment:function(){}});
dojo.safeMixin(geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerModuleDecl,{getEditLogKey:function(){return"__edits"},createNewFeatureMetaData:function(){var a=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditMetadata;dojo.safeMixin(a,{isNew:true,isRelated:false,relationshipOrigin:null,relationshipDestination:null,refs:{},GCXOBJECTID:this._getNewFeatureId()});return a},_assignTemporaryObjectId:function(a,b){b=b||"OBJECTID";a.attributes&&!a.attributes.hasOwnProperty(b)&&
(a.attributes[b]="GCX-"+geocortex.framework.utils.alphaNumericToken())},_getNewFeatureId:function(){this.latestFeatureEditId.set(this.latestFeatureEditId.get()+1);return this.latestFeatureEditId.get()},_executeGetEditLog:function(a){this._getEditLog(a,function(b){a(b)})},_executeSetEditLog:function(a,b){this.setEditLog(b,function(a){b(a)})},_appendToEditLog:function(a,b,c,d){function e(a,b){g.app.trace.debug("Feature Layer Module - edit log saved.");setTimeout(function(){g.app.eventRegistry.event("FeatureLayerEditLogUpdatedEvent").publish(a,
b);c&&c()},0)}function f(a){g.app.trace.error("Feature Layer Module - could not persist edit log: {0}".format(a));d&&d(a)}var g=this;this.getEditLog(function(a){if(b.feature&&b.feature.__editingMeta)b.metadata=b.feature.__editingMeta;a.addEntry(b);a.nextFeatureId=g.latestFeatureEditId.get();var c=dojo.toJson(a);g.app.store.set(g.getEditLogKey(),c,function(){e(a,c)},f)},function(a){g.app.trace.error("Could not fetch edit log: {0}".format(a))})},hasEditsInLog:function(a,b,c){var d=new dojo.Deferred;
this.getEditLog(function(c){for(var f=false,g=0;g<c.entries.length;++g)if(c.entries[g].layerUrl==a){f=true;break}geocortex.deferredResolve(d,f);b&&b(f)},function(a){geocortex.deferredReject(d,a);c&&c(a)});return d},getEditLog:function(a,b){var c=this;this.app.store.get(this.getEditLogKey(),function(b){var e=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLog;b?(e=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLog(b),e.nextFeatureId>c.latestFeatureEditId.get()&&
c.latestFeatureEditId.set(e.nextFeatureId),a&&a(e,b)):a&&a(e)},function(a){b&&b(a)})},setEditLog:function(a,b,c){var d=this;try{var e=a.toJson();typeof e==="object"&&(e=dojo.toJson(e));a.nextFeatureId=this.latestFeatureEditId.get();this.app.store.set(this.getEditLogKey(),e,function(){d.app.eventRegistry.event("FeatureLayerEditLogUpdatedEvent").publish(a,e);b&&b()},c)}catch(f){c(f)}},_applyFeatureLayerEdits:function(a){if(a){var b=a.mapService,c=a.layer;if(b)c=b.serviceLayer;else if(c)b=new geocortex.essentials.MapService(c.url),
b.serviceLayer=c;else{this.app.trace.warning("Cannot apply edits: Missing map service and/or layer in edit descriptor.");return}var d=a.hasOwnProperty("additions")?a.additions:[],e=a.hasOwnProperty("updates")?a.updates:[],f=a.hasOwnProperty("deletions")?a.deletions:[],g=a.hasOwnProperty("successCallback")?a.successCallback:function(){},h=a.hasOwnProperty("errorCallback")?a.errorCallback:function(){};this.app.isOffline.get()===true?(this._performEditsToFeatureCollection(b,b.serviceLayer.graphics,d,
e,f),g&&g()):c.applyEdits(d,e,f,function(a){if(a&&a.length>0)for(var b=0;b<a.length;++b)d[b].attributes[c.globalIdField]=a[b].GID;g&&g()},function(a){h(a)})}},_performEditsToFeatureCollection:function(a,b,c,d,e){if(b){a=a?a.serviceLayer:null;try{for(var f=0;f<c.length;++f)a?a.add(c[f]):b.push(c[f]);for(f=0;f<d.length;++f){var g=d[f];if(g.attributes&&g.attributes.OBJECTID)for(var h=g.attributes.OBJECTID,k=0;k<b.length;++k){var j=b[k];if(j.attributes&&j.attributes.hasOwnProperty("OBJECTID")&&j.attributes.OBJECTID===
h)dojo.safeMixin(b[k].attributes,g.attributes),b[k].setGeometry?b[k].setGeometry(g.geometry):b[k].geometry=g.geometry}}for(f=0;f<e.length;++f){var l=e[f];if(l.attributes&&l.attributes.OBJECTID)for(var m=l.attributes.OBJECTID,k=0;k<b.length;++k)j=b[k],j.attributes&&j.attributes.hasOwnProperty("OBJECTID")&&j.attributes.OBJECTID===m&&(a?a.remove(j):Array.remove(b,k))}}catch(n){this.app.trace.error("Error applying offline edits: {0}".format(n.toString()))}}},_updateEditSummarys:function(){var a=this;
this.getEditLog(function(b){for(var c={},d=[],e=0;e<b.entries.length;++e){var f=b.entries[e];if(!f.committed){var g=c[f.layerUrl];g||(g=c[f.layerUrl]=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.LayerEditSummary(f.layerUrl,f.layerUrl),d.push(g));switch(f.type){case "addition":case "relatedRecordAddition":case "attachmentAddition":g.additions.addItem(f);g.numAdditions.set(g.numAdditions.get()+1);break;case "update":case "relatedRecordUpdate":case "attachmentUpdate":g.updates.addItem(f);
g.numUpdates.set(g.numUpdates.get()+1);break;case "deletion":case "relatedRecordDeletion":case "attachmentDeletion":g.additions.addItem(f),g.numDeletions.set(g.numDeletions.get()+1)}g.totalEdits.set(g.totalEdits.get()+1)}}a.layerEditSummaries.set(d)},function(b){a.app.trace.error("An error occurred while generating layer edit summaries: {0}".format(b))})}});
dojo.safeMixin(geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerModuleDecl,{_executeCreateRelatedRecord:function(a){var b=a.mapService,c=a.layer,d=a.feature,e=a.relatedFeature,f=a.relationshipOrigin,g=a.relationshipDestination,h=a.successCallback,a=a.errorCallback,k=this.createNewFeatureMetaData(d);k.isRelated=true;k.relationshipOrigin=f;k.relationshipDestination=g;var j={};if((e=e.__editingMeta)&&e.isNew)j={},j[e.GCXOBJECTID]=[],j[e.GCXOBJECTID].push({from:f.keyField,to:g.keyField});
k.dependencies=j;d.__editingMeta=k;if(this.app.isOffline.get()===true){f=d;d.toJson&&(f=d.toJson());f.__editingMeta=k;if(!b)b=new geocortex.essentials.MapService(c.url),b.serviceLayer=c;f=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLogEntry(c.url,"relatedRecordAddition",f);this._appendToEditLog(b,f,h,a)}this._applyFeatureLayerEdits({mapService:b,layer:c,additions:[d],updates:[],deletions:[],successCallback:h,errorCallback:a})},_executeUpdateRelatedRecord:function(a){var b=
a.mapService,c=a.layer,d=a.feature,e=a.relationshipOrigin,f=a.relationshipDestination,g=a.successCallback,h=a.errorCallback;if((a=a.relatedFeature.__editingMeta)&&a.isNew){var k=this.createNewFeatureMetaData(d);k.isRelated=true;k.relationshipOrigin=e;k.relationshipDestination=f;dependencies={};dependencies[a.GCXOBJECTID]=[];dependencies[a.GCXOBJECTID].push({from:e.keyField,to:f.keyField});k.dependencies=dependencies;d.__editingMeta=k}if(this.app.isOffline.get()===true){e=d;d.toJson&&(e=d.toJson());
if(!b)b=new geocortex.essentials.MapService(c.url),b.serviceLayer=c;e=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLogEntry(c.url,"relatedRecordUpdate",e);this._appendToEditLog(b,e,g,h)}this._applyFeatureLayerEdits({mapService:b,layer:c,additions:[],updates:[d],deletions:[],successCallback:g,errorCallback:h})},_executeDeleteRelatedRecord:function(a){var b=a.mapService,c=a.layer,d=a.feature,e=a.relationshipOrigin,f=a.relationshipDestination,g=a.successCallback,h=a.errorCallback;
if((a=a.relatedFeature.__editingMeta)&&a.isNew){var k=this.createNewFeatureMetaData(d);k.isRelated=true;k.relationshipOrigin=e;k.relationshipDestination=f;dependencies={};dependencies[a.GCXOBJECTID]=[];dependencies[a.GCXOBJECTID].push({from:e.keyField,to:f.keyField});k.dependencies=dependencies;d.__editingMeta=k}if(this.app.isOffline.get()===true){e=d;d.toJson&&(e=d.toJson());if(!b)b=new geocortex.essentials.MapService(c.url),b.serviceLayer=c;e=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLogEntry(c.url,
"relatedRecordDelete",e);this._appendToEditLog(b,e,g,h)}this._applyFeatureLayerEdits({mapService:b,layer:c,additions:[],updates:[],deletions:[d],successCallback:g,errorCallback:h})},_executeCreateFeature:function(a){var b=a.mapService,c=a.feature,d=a.successCallback,a=a.errorCallback;typeof b==="string"&&(b=this.app.site.essentialsMap.findMapServiceById(serviceEntry.serviceId));if(b){if(this.app.isOffline.get()===true){this._assignTemporaryObjectId(c);var e=c;c.toJson&&(e=c.toJson());c.__editingMeta=
e.__editingMeta=this.createNewFeatureMetaData(c);e=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLogEntry(b.url,"addition",e);this._appendToEditLog(b,e,d,a)}this._applyFeatureLayerEdits({mapService:b,additions:[c],updates:[],deletions:[],successCallback:d,errorCallback:a})}else a&&a("Feature was not associated with any known map service.")},_executeUpdateFeature:function(a){var b=a.mapService,c=a.feature,d=a.successCallback,a=a.errorCallback;typeof b==="string"&&(b=this.app.site.essentialsMap.findMapServiceById(serviceEntry.serviceId));
if(b){if(this.app.isOffline.get()===true){var e=c,f=c.__editingMeta;c.toJson&&(e=c.toJson());if(f&&f.isNew){var g=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditMetadata;g.isNew=false;g.dependencies[f.GCXOBJECTID]=[];g.dependencies[f.GCXOBJECTID].push({from:"OBJECTID",to:"OBJECTID"});e.__editingMeta=g}else e.__editingMeta=null;e=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLogEntry(b.url,"update",e);this._appendToEditLog(b,e,d,a)}this._applyFeatureLayerEdits({mapService:b,
additions:[],updates:[c],deletions:[],successCallback:d,errorCallback:a})}else a&&a("Feature was not associated with any known map service.")},_executeDeleteFeature:function(a){var b=this,c=a.mapService,d=a.feature,e=a.successCallback,f=a.errorCallback;typeof c==="string"&&(c=this.app.site.essentialsMap.findMapServiceById(serviceEntry.serviceId));if(c&&d)if(this.app.isOffline.get()===false)this._applyFeatureLayerEdits({mapService:c,additions:[],updates:[],deletions:[d],successCallback:e,errorCallback:f});
else if((a=d.attributes.OBJECTID)&&!(a.toString().indexOf("GCX")>-1)){var a=d,g=d.__editingMeta;d.toJson&&(a=d.toJson());g&&(a.__editingMeta=g);a=new geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.EditLogEntry(c.url,"deletion",a);this._appendToEditLog(c,a,e,f)}else if(a=d.__editingMeta){var h=a.GCXOBJECTID;b.getEditLog(function(a){for(var g=0;g<a.entries.length;++g){var l=a.entries[g];if(!l.committed){if(l.feature&&l.hasOwnProperty("metadata"))if(l=l.metadata)l.GCXOBJECTID===h&&(Array.remove(a.entries,
g,g),--g);else continue;b.setEditLog(a,function(){b.app.trace.debug("Removed a feature from the edit log.")},function(a){var c=b.app.getResource(b.libraryId,"language-error-deleting-feature"),c=c.format(a.toString());b.app.commandRegistry.command("Alert").execute(c)})}}b._applyFeatureLayerEdits({mapService:c,additions:[],updates:[],deletions:[d],successCallback:e,errorCallback:f})},f)}}});
dojo.safeMixin(geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerModuleDecl,{_getFeatureLayerStorageKey:function(a){return this._featuresStoragePrefix+"_"+a},_getFeatureLayerRelatedStorageKey:function(a,b){return this._featuresStoragePrefix+"_rel_"+b+"_"+a},_getFeatureLayerEditsStorageKey:function(a){return this._featuresStorageEditsPrefix+"_"+a},_persistIndex:function(){var a=this;this.app.store.set(this._featureLayerModuleIndexKey,dojo.toJson(this.index),function(){a.app.trace.debug("Feature Layer Module - saved index.")},
function(b){a.app.trace.error("Feature Layer Module - could not persist index in storage: {0}".format(b))})},_clearData:function(a,b,c){if(this.app.isOffline.get()===true){var d=this.app.getResource(this.libraryId,"language-warning-offline-clearing-data");this.app.trace.error(d);c&&c(d)}else{this.app.commandRegistry.command("ShowFeatureLayerModalMessage").execute(this.app.getResource(this.libraryId,"language-feature-layer-clearing-data"));delete this.index.featureLayers[a];this._persistIndex();this.app.store.remove(this._getFeatureLayerStorageKey(a),
function(){},function(){});var e=this;this.getEditLog(function(d){for(var g=0;g<d.entries.length;++g)d.entries[g].layerUrl===a&&(Array.remove(d.entries,g,g),--g);e.setEditLog(d,function(){e.app.commandRegistry.command("HideFeatureLayerModalMessage").execute();b&&b()},function(a){e.app.trace.error("Error saving edit log after removing layer edits: {0}".format(a));e.app.commandRegistry.command("HideFeatureLayerModalMessage").execute();c&&c(a)})},function(a){e.app.trace.error("Error removing layer edits from edit log: {0}".format(a));
e.app.commandRegistry.command("HideFeatureLayerModalMessage").execute()})}},_swapFeatureLayerForOffline:function(a,b){function c(c){var f=a.getEmptyFeatureCollection();f.featureSet.features=b?dojo.fromJson(b):[];var g=0;if(c.entries){for(var h=[],k=[],j=[],g=0;g<c.entries.length;++g){var l=c.entries[g];if(l.layerUrl===a.url){var m=esri.Graphic(l.feature);m.attributes.__editingMeta=l.metadata;if(!m.symbol&&a&&a.serviceLayer&&a.serviceLayer.renderer)m.symbol=a.serviceLayer.renderer.getSymbol(m);switch(l.type){case "addition":d._assignTemporaryObjectId(m);
h.push(m);break;case "update":k.push(m);break;case "deletion":j.push(m)}}}(h.length>0||k.length>0||j.length>0)&&d._performEditsToFeatureCollection(null,f.featureSet.features,h,k,j)}for(var n=new esri.layers.FeatureLayer(f),g=0;g<n.graphics.length;++g)if(c=n.graphics[g],c.attributes&&c.attributes.__editingMeta)c.__editingMeta=c.attributes.__editingMeta,delete c.attributes.__editingMeta;g=[];g.push(dojo.connect(n,"onBeforeApplyEdits",function(a,b,c){d._layerOnBeforeApplyEdits(n,a,b,c)}));g.push(dojo.connect(n,
"onAddAttachmentComplete",function(a){d._layerOnAddAttachmentComplete(n,a)}));g.push(dojo.connect(n,"onDeleteAttachmentsComplete",function(a){d._layerOnDeleteAttachmentsComplete(n,a)}));g.push(dojo.connect(n,"onEditsComplete",function(a,b,c){d._layerOnEditsComplete(n,a,b,c)}));n._eventHandlers=g;c={};c.serviceUrl=a.serviceUrl;c.onlineUrl=a.url;c.eventHandlers=g;n._essentialsMetadata=c;a.replaceFeatureLayer(n,true,true,true);f=null;d.app.eventRegistry.event("FeatureLayerOfflineEvent").publish(a)}var d=
this;this.getEditLog(function(a){c(a)},function(a){d.app.trace.error("Feature Layer Module - Unable to retrieve edit log: {0}".format(a))})},_cacheData:function(a,b,c,d){var e=this,f=null,g=null;if(this.app.isOffline&&this.app.isOffline.get())d(Error("The application is currently offline. You need to be online to cache data."));else{var h=function(a){e.app.commandRegistry.command("HideFeatureLayerModalMessage").execute();c&&c(a)},k=function(a){e.app.commandRegistry.command("HideFeatureLayerModalMessage").execute();
d&&d(a)};this.app.commandRegistry.command("ShowFeatureLayerModalMessage").execute(this.app.getResource(this.libraryId,"language-feature-layer-caching-data"));var j=this.app.site.essentialsMap.findMapServiceById(a);if(j){if(j.serviceLayer)f=j.serviceLayer.version,g=f>=10.1?j.serviceLayer.maxRecordCount:f>=10?1E3:500;a=[];f=j.queryFeatures(b);a.push(f);j.hasOriginRelationships()&&(f=j.queryIds(b),a.push(f));a=new dojo.DeferredList(a);this.app.trace.info(e.app.getResource(e.libraryId,"language-feature-layer-fetching-data"));
a.then(function(a){function c(a){if(a){var g=[],l;for(l=0;l<a.length;l++)if(a[l]&&a[l].length===2&&a[l][0]){var m={};m.info=q[l];m.data=e._prepRelatedData(a[l][1]);g.push(m)}else{g="";a[l]&&a[l].length===2&&(g=a[l][1]);a="Error getting related records for layer {0}. {1}".format(j.displayName,g);e.app.commandRegistry.command("HideFeatureLayerModalMessage").execute();d&&d(Error(a));e.app.trace.error(a);return}e._storeFeatureLayerForOfflineUse(f,j,b,h,k,g)}}if(a&&a.length>0&&a[0]&&a[0].length>=2&&a[0][0]===
false)k(a[0][1]);else{var f=null,o,q;if(a&&a.length>0&&a[0]&&a[0].length>=2&&a[0][0])a[0][1].features.length===0?f=[]:(f=a[0][1].toJson().features,a[0][1].features.length===g&&e.app.trace.warning(e.app.getResource(e.libraryId,"language-feature-layer-max-record-warning").format(j.displayName,a[0][1].features.length)));if(j.hasOriginRelationships()&&a&&a.length>1&&a[1]&&a[1].length>=2){o=[];q=[];var r,p;for(r=0;r<j.serviceLayer.relationships.length;r++)if(p=j._getRelation(j.serviceLayer.relationships[r].id),
(!p||p.visible)&&j.serviceLayer.relationships[r].role==="esriRelRoleOrigin")p=new esri.tasks.RelationshipQuery,p.outFields=["*"],p.relationshipId=j.serviceLayer.relationships[r].id,p.objectIds=a[1][1],o.push(j.queryRelatedFeatures(p)),q.push(j.serviceLayer.relationships[r]);o.length>0?(a=new dojo.DeferredList(o),e.app.trace.info(e.app.getResource(e.libraryId,"language-feature-layer-fetching-related-data")),a.then(c,k)):e._storeFeatureLayerForOfflineUse(f,j,b,h,k)}else e._storeFeatureLayerForOfflineUse(f,
j,b,h,k)}})}}},_storeFeatureLayerForOfflineUse:function(a,b,c,d,e,f){var g=this,h=b.serviceLayer,k=null;c&&c.geometry&&(k=c.geometry.toJson());var j=null;if(c&&c.where)j=c.where;var l=dojo.toJson(a),g=this,c=[],e=this.app.store.set(this._getFeatureLayerStorageKey(b.url),l);c.push(e);if(f)for(e=0;e<f.length;e++){var m=dojo.toJson(f[e].data);f[e].info.size=m.length*2;m=this.app.store.set(this._getFeatureLayerRelatedStorageKey(b.url,f[e].info.id),m);c.push(m)}(new dojo.DeferredList(c)).then(function(){g.app.trace.info("Feature Layer Module -  saved {1} feature(s) for Feature Layer '{2}({0})'".format(b.id,
a.length,b.displayName));var c=g._grabLayerMetadata(h),e=g.getRelationshipMetadata(f);g.index.featureLayers[b.url]={relationships:e,layerMetadata:c,count:a.length,size:l.length*2,storedOn:(new Date).toLocaleString(),geometry:k,whereClause:j,serviceUrl:b.url,serviceId:b.id};g._persistIndex();d&&d()})},_grabLayerMetadata:function(a){return{fields:a.fields,version:a.version,capabilities:a.capabilities,relationships:a.relationships,objectIdField:a.objectIdField}},_layerOnBeforeApplyEdits:function(){},
_layerOnAddAttachmentComplete:function(){},_layerOnDeleteAttachmentsComplete:function(){},_layerOnEditsComplete:function(){}});
dojo.safeMixin(geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerModuleDecl,{_executeGetRelatedFeatures:function(a){this._getRelatedFeatures(a.mapService,a.relationshipId,a.objectId,a.callbackResults,a.callbackErrors)},_clearRelatedFeaturesCache:function(){if(this._relatedFeatureLayerCache)for(var a in this._relatedFeatureLayerCache)this._relatedFeatureLayerCache.hasOwnProperty(a)&&(this._relatedFeatureLayerCache[a].clear(),delete this._relatedFeatureLayerCache[a])},getRelationshipMetadata:function(a){var b=
[];if(a){var c;for(c=0;c<a.length;c++)b.push({id:a[c].info.id,name:a[c].info.name,count:a[c].data.length,size:a[c].info.size})}return b},_getRelatedFeatureLayerIndex:function(a,b){return a&&!isNaN(b)?b+"_"+a.url:null},_prepRelatedData:function(a){var b=[];if(a)for(var c in a)if(a.hasOwnProperty(c)){var d=a[c].toJson().features,e;for(e in d)d.hasOwnProperty(e)&&b.push(d[e])}return b},_getRelatedFeatures:function(a,b,c,d,e){var f=new dojo.Deferred,g=this,h=null;if(!a)return c=Error("_getRelatedFeatures: mapService cannot be null."),
geocortex.deferredReject(f,c),typeof e=="function"&&e(c),f;if(isNaN(b))return c=Error("_getRelatedFeatures: relationshipId cannot be null."),geocortex.deferredReject(f,c),typeof e=="function"&&e(c),f;if(!c)return c=Error("_getRelatedFeatures: objectId cannot be null."),geocortex.deferredReject(f,c),typeof e=="function"&&e(c),f;this.app.isOffline.get()?(e=new esri.tasks.Query,e.objectIds=[c],e.outFields=["*"],c=a.serviceLayer.queryFeatures(e),c.then(function(c){h=c;return g._getRelatedFeatureLayer(a,
b)},function(a){geocortex.deferredReject(f,a)}).then(function(c){c=g._findRelatedRecord(a,b,h,c);geocortex.deferredResolve(f,c);typeof d=="function"&&d(c)},function(a){geocortex.deferredReject(f,a)})):(e=new esri.tasks.RelationshipQuery,e.outFields=["*"],e.relationshipId=b,e.objectIds=[c],c=a.serviceLayer.queryRelatedFeatures(e),c.then(function(a){var b=[],c;for(c in a)if(a.hasOwnProperty(c))for(var e=0;e<a[c].features.length;e++)b.push(a[c].features[e]);geocortex.deferredResolve(f,b);typeof d=="function"&&
d(b)},function(a){geocortex.deferredReject(f,a)}));return f},_findRelatedRecord:function(a,b,c,d){var e=[];if(!a||isNaN(b)||!c||!d)return e;var f=a._getEsriRelation(b);if(!f)return e;for(var a=e,g=0;g<d.relationships.length;g++)if(d.relationships[g].id==b){a=d.relationships[g];break}if(!a)return e;if(c&&c.features&&c.features.length>0){b=c.features[0].attributes[f.keyField];for(g=0;g<d.graphics.length;g++)d.graphics[g].attributes[a.keyField]==b&&e.push(d.graphics[g])}return e},_isRelatedFeatureLayerCached:function(a,
b){return this._relatedFeatureLayerCache[this._getRelatedFeatureLayerIndex(a,b)]&&true},_getRelatedFeatureLayerFromCache:function(a,b){return this._relatedFeatureLayerCache[this._getRelatedFeatureLayerIndex(a,b)]},_addRelatedLayerToCache:function(a,b,c){this._relatedFeatureLayerCache[this._getRelatedFeatureLayerIndex(a,b)]=c},_performEditsToRelatedData:function(a,b){var c=this,d=[],e=[],f=[];this.getEditLog(function(a){for(var h=0;h<a.entries.length;++h){var k=a.entries[h];k.type==="relatedRecordAddition"?
d.push(k.feature):k.type==="relatedRecordUpdate"?e.push(k.feature):k.type==="relatedRecordDeletion"&&f.push(k.feature)}c._performEditsToFeatureCollection(null,b,d,e,f)},function(a){c.app.trace.error("Error fetching offline edit log while loading offline edits: {0}".format(a))})},_getRelatedFeatureLayer:function(a,b,c,d){var e=new dojo.Deferred,f=this;if(!a){var g=Error("_getRelatedFeatureLayer: mapService cannot be null.");geocortex.deferredReject(e,g);typeof d=="function"&&d(g);return e}if(isNaN(b))return g=
Error("_getRelatedFeatureLayer: relationshipId cannot be null."),geocortex.deferredReject(e,g),typeof d=="function"&&d(g),e;if(this._isRelatedFeatureLayerCached(a,b))return g=this._getRelatedFeatureLayerFromCache(a,b),geocortex.deferredResolve(e,g),typeof c=="function"&&c(g),e;a.getRelatedFeatureLayer(b).then(function(g){function k(d){var j=g.toJson();j.featureSet.features=d?dojo.fromJson(d):[];f._performEditsToRelatedData(g,j.featureSet.features);d=new esri.layers.FeatureLayer(j);j={};j.serviceUrl=
g.url;j.onlineUrl=a.url;d._essentialsMetadata=j;f._addRelatedLayerToCache(a,b,d);geocortex.deferredResolve(e,d);typeof c=="function"&&c(d)}if(f.app.isOffline.get()===false)f._addRelatedLayerToCache(a,b,g),geocortex.deferredResolve(e,g),typeof c=="function"&&c(g);else{var j=f.index.featureLayers[a.url],l=null;if(j&&j.relationships){var m;for(m=0;m<j.relationships.length;m++)if(j.relationships[m].id===b){l=j.relationships[m];break}}l&&l.count>0?f.app.store.get(f._getFeatureLayerRelatedStorageKey(a.url,
b)).then(k,function(a){geocortex.deferredReject(e,a);typeof d=="function"&&d(a)}):k()}},function(a){geocortex.deferredReject(e,a);typeof d=="function"&&d(a)});return e}});
dojo.safeMixin(geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerModuleDecl,{_updateEditLogForNewFeature:function(a,b,c,d,e){for(var f=this,g=b.metadata.GCXOBJECTID,h=0;h<a.entries.length;++h){var k=a.entries[h],j=k.metadata;if(j&&j.dependencies&&j.dependencies&&j.dependencies.hasOwnProperty(g))for(var j=j.dependencies[g],l=0;l<j.length;++l){var m=j[l];k.feature.attributes[m.to]=b.feature.attributes[m.from]}}this.setEditLog(a,function(){f.app.trace.debug("Successfully updated relationships in edit log.");
d&&d(c)},function(a){f.app.trace.debug("An error occurred while updating relationships in the edit log: {0}.".format(a.toString()));e&&e(a)})}});
dojo.safeMixin(geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerModuleDecl,{_handleSyncComplete:function(){this._refreshLayersInIndex();this._refreshModuleData()},_startSync:function(){if(this.app.isOffline.get()){var a=this.app.getResource(this.libraryId,"language-cannot-sync-edits-offline");this.app.trace.info(a);this.app.commandRegistry.command("Alert").execute(a)}else{var b=this;this.app.commandRegistry.command("ShowFeatureLayerModalMessage").execute(this.app.getResource(this.libraryId,
"language-feature-layer-syncing"));this.getEditLog(function(a){try{b.app.eventRegistry.event("FeatureLayerModuleSyncStartedEvent").publish(a);b.app.trace.debug("Fetched the edit log from storage. Edit log has {0} entries.".format(a.entries.length));var d=0,e=function(){if(d>=a.entries.length)b._removeSyncMessage(),b.app.eventRegistry.event("FeatureLayerModuleSyncCompletedEvent").publish(a),setTimeout(function(){b.app.commandRegistry.command("Alert").execute(b.app.getResource(b.libraryId,"language-common-sync-complete"));
b._refreshModuleData()},500);else{var f=a.entries[d];f.committed?(++d,e()):b._syncEditToServer(a,f,function(){++d;if(!f.error)f.committed=true;b.setEditLog(a,function(){e()},function(a){b.app.trace.error("Error saving updated edit log: {0}".format(a));b._removeSyncMessage()})},function(a){f.error=a;++d;var c=b.app.getResource(b.libraryId,"language-error-synching-feature"),c=c.format(a);b.app.commandRegistry.command("Alert").execute(c);b.app.trace.error("Error syncing edits to server: {0}".format(a));
b._removeSyncMessage()})}};e()}catch(f){b.app.trace.error("An error occurred while syncing: {0}".format(f)),b._removeSyncMessage(),b.app.eventRegistry.event("FeatureLayerModuleSyncErrorEvent").publish(f),b.app.eventRegistry.event("FeatureLayerModuleSyncFailedEvent").publish(f)}},function(a){b.app.trace.error("Could not fetch offline edit log for synchronization: {0}".format(a))})}},_syncEditToServer:function(a,b,c,d){var e=this,f=null,g=b.layerUrl,h=null;if(!this.index||!this.index.featureLayers)throw Error("Missing offline layer index!");
if(h=this.index.featureLayers[g]){var k=this.app.site.essentialsMap.findMapServiceById(h.serviceId);if(k)f=k.serviceLayer;else{d(Error("Could not find map service '{0}'.".format(h.serviceId)));return}}switch(b.type){case "attachmentAddition":var j=b.feature.attributes.filename,l=b.feature.attributes.contentType;this.app.store.get(b.feature.attributes.key,function(g){e._syncAttachmentToServer(b.layerUrl+"/"+b.feature.attributes.gcx_feature_objectId,j,l,g,function(g){try{var h=dojo.fromJson(g.target.responseText);
e._updateEditLogForNewFeature(a,b,f,function(){e.app.store.remove(b.feature.attributes.key,function(){c&&c(h.addAttachmentResult.objectId)},d)},d)}catch(j){d&&d(j)}})},function(a){d&&d(a)});return}var m=[],n=[],o=[],h=false,q=function(f){f.applyEdits(m,n,o,function(g){if(g&&g.length>0){var h=g[0].objectId,j=g[0].GID,g=new esri.tasks.Query;g.objectIds=[h];g.outFields=["*"];g.where="1=1";f.queryFeatures(g,function(g){!g||!g.features||!g.features.length?e.app.trace.error("Error updating synchronized feature: Could not requery saved feature."):
(dojo.safeMixin(b.feature,g.features[0]),b.feature.attributes[g.globalIdFieldName]=j,e._updateEditLogForNewFeature(a,b,f,c,d))},function(a){b.error=a;e.app.trace.error("Error updating synchronized feature: {0}".format(a.toString()));d&&d(a)})}else c&&c()},function(a){d&&d(a)})};switch(b.type){case "addition":m.push(b.feature);break;case "update":n.push(b.feature);break;case "deletion":o.push(b.feature);break;case "relatedRecordAddition":case "relatedRecordUpdate":case "relatedRecordDeletion":b.type===
"relatedRecordAddition"?m.push(b.feature):b.type==="relatedRecordUpdate"?n.push(b.feature):b.type==="relatedRecordDeletion"&&o.push(b.feature);f||(f=new esri.layers.FeatureLayer(g,{mode:esri.layers.FeatureLayer.MODE_ONDEMAND,outFields:["*"]}),f.loaded?q(f):(dojo.connect(f,"onLoad",dojo.hitch(this,function(){q(f)})),dojo.connect(f,"onError",dojo.hitch(this,function(){}))),h=true);break;default:throw Error("Cannot sync unknown edit type '{0}'".format(b.type));}h||q(f)},_removeSyncMessage:function(){this.app.commandRegistry.command("HideFeatureLayerModalMessage").execute()}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerModule",geocortex.framework.application.ModuleBase,geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerModuleDecl);
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureLayerViewModel",geocortex.framework.ui.ViewModelBase,{featureLayers:null,showMaster:null,showDetails:null,currentFeatureLayer:null,syncNeeded:null,layerEditSummaries:null,isOffline:null,constructor:function(){this._registerCommands();this.currentFeatureLayer=new Observable(null);this.showMaster=new Observable(true);this.showDetails=new Observable(false);this.featureLayers=new ObservableCollection;this.layerEditSummaries=
this.app.featureLayerModule.layerEditSummaries;this.syncNeeded=new Observable(false);this.syncNeeded.sync(this.app.featureLayerModule.syncNeeded);this.isOffline=this.app.isOffline},initialize:function(a){this.inherited(arguments)},_registerCommands:function(){this.app.commandRegistry.command("FeatureLayerModuleRefreshData").register(this,this._refreshData);this.app.eventRegistry.event("DomainStorageClearedEvent").subscribe(this,this._handleDomainStorageClearedEvent);this.app.eventRegistry.event("SiteInitializedEvent").subscribe(this,
this._refreshData)},_handleDomainStorageClearedEvent:function(){this._refreshData()},_refreshData:function(){if(this.app.site&&this.app.site.isInitialized&&this.app.featureLayerModule.index.featureLayers){var a=this.app.site.getFeatureServices();this.featureLayers.clear();for(var b=0,b=0;b<a.length;b++){var c=null;this.app.featureLayerModule.index&&(c=this.app.featureLayerModule.index.featureLayers[a[b].url]);var d=a[b].displayName;if(a[b]&&a[b].layers&&a[b].layers.length>0)d=a[b].layers[0].displayName;
this.featureLayers.addItem({displayName:new Observable(d),mapServiceId:new Observable(a[b].id),metadata:new Observable(this._prepMetadata(c,a[b]))})}if(this.currentFeatureLayer&&(b=this.currentFeatureLayer.get())){a=b.mapServiceId.get();for(b=0;b<this.featureLayers.getLength();b++)if(c=this.featureLayers.getAt(b),c.mapServiceId.get()==a){this.currentFeatureLayer.set(c);break}}}},_augmentInformation:function(a,b){a.count=new Observable(null);a.size=new Observable(null);if(b&&b.relationships)for(var c in b.relationships)if(b.relationships.hasOwnProperty(c)&&
b.relationships[c].id===a.relInfo.id){a.count=new Observable(b.relationships[c].count);a.size=new Observable(b.relationships[c].size);break}},_prepMetadata:function(a,b){var c={},d=0;c.relationships=new ObservableCollection;var e=false;if(b.hasOriginRelationships()&&b.serviceLayer.relationships)for(d=0;d<b.serviceLayer.relationships.length;d++){var f=null;b&&b.layers&&b.layers.length>0&&(f=b._getRelation(b.serviceLayer.relationships[d].id));if(f&&f.visible&&b.serviceLayer.relationships[d].role===
"esriRelRoleOrigin"){var e=true,g={};g.relInfo=b.serviceLayer.relationships[d];g.name=new Observable(f.displayName?f.displayName:b.serviceLayer.relationships[d].name);this._augmentInformation(g,a);c.relationships.addItem(g)}}a?(c.hasRelatedTables=new Observable(e),c.isNotCached=new Observable(false),c.isCached=new Observable(true),c.count=new Observable(a.count),c.size=new Observable(a.size),c.storedOn=new Observable(a.storedOn),c.geometry=new Observable(a.geometry),c.whereClause=new Observable(a.whereClause),
c.serviceUrl=new Observable(a.serviceUrl),c.serviceId=new Observable(a.serviceId)):(c.hasRelatedTables=new Observable(false),c.isNotCached=new Observable(true),c.isCached=new Observable(false),c.whereClause=new Observable(""),c.serviceUrl=new Observable(b.url),c.serviceId=new Observable(b.id),c.count=new Observable(null),c.size=new Observable(null),c.storedOn=new Observable(null),c.geometry=new Observable(null));return c}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureTemplateViewModel");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.FeatureTemplateViewModel",geocortex.framework.ui.ViewModelBase,{name:null,description:null,proto:null,layer:null,drawingTool:null,constructor:function(){this.name=new Observable;this.description=new Observable;this.drawingTool=new Observable;this.proto={}}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.LayerEditSummary",null,{mapServiceUrl:null,displayName:null,numAdditions:null,numUpdates:null,numDeletions:null,additions:null,updates:null,deletions:null,totalEdits:null,constructor:function(a,b){this.mapServiceUrl=new Observable(a||null);this.displayName=new Observable(b||null);this.numAdditions=new Observable(0);this.numUpdates=new Observable(0);this.numDeletions=new Observable(0);this.additions=new ObservableCollection;
this.updates=new ObservableCollection;this.deletions=new ObservableCollection;this.totalEdits=new Observable(0)}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.ModalMessageView",geocortex.framework.ui.ViewBase,{constructor:function(){},activated:function(){this.inherited(arguments);this.viewModel&&this.viewModel.startListeningToTraceEvents()},deactivated:function(){this.inherited(arguments);this.viewModel&&this.viewModel.stopListeningToTraceEvents()}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.featureLayer.ModalMessageViewModel",geocortex.framework.ui.ViewModelBase,{messages:null,message:null,_traceEventToken:null,constructor:function(){this.messages=new ObservableCollection;this.message=new Observable},initialize:function(a){a&&a.message&&this.message.set(a.message)},startListeningToTraceEvents:function(){this._traceEventToken=this.app.eventRegistry.event("TraceEvent").subscribe(this,function(a){a.cssClass=a.level;this.messages.addItem(a)})},
stopListeningToTraceEvents:function(){this.app.eventRegistry.event("TraceEvent").unsubscribe(this._traceEventToken)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.identify.IdentifyModule");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.identify.IdentifyModule",geocortex.framework.application.ModuleBase,{_fscRootID:"IdentifyResultsCollection",_count:0,_previousFscID:null,_fscSourceName:"Identify",_identifyTask:null,_pixelTolerance:5,_polygonPixelTolerance:2,_topMostLayerOnly:false,_returnGeometry:false,_artificialDelay:0,constructor:function(a){this.inherited(arguments);this.app.commandRegistry.command("Identify").register(this,this.executeIdentifyTask)},initialize:function(a){this.inherited(arguments);
if(a.pixelTolerance!=null)this._pixelTolerance=a.pixelTolerance;if(a.polygonPixelTolerance!=null)this._polygonPixelTolerance=a.polygonPixelTolerance;if(a.topMostLayerOnly!=null)this._topMostLayerOnly=a.topMostLayerOnly;if(a.returnGeometry!=null)this._returnGeometry=a.returnGeometry;if(a.artificialDelay!=null)this._artificialDelay=a.artificialDelay;a&&a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,true)},executeIdentifyTask:function(a){var b;a.hasOwnProperty("geometry")?
(b=a.geometry,a=a.source):(b=a,a=this._fscSourceName);var c=this;this._identifyTask!=null&&this._identifyTask.cancel();this._previousFscID&&(this.app.featureSetManager.tryCloseCollection(this._previousFscID),this.app.featureSetManager.removeCollectionById(this._previousFscID));var d=new FeatureSetCollection;d.displayName.set(this.app.getResource(this.libraryId,"language-identify-results-header"));d.id=this._fscRootID+this._count++;this._previousFscID=d.id;d.sourceName=a;this.app.featureSetManager.addCollection(d);
d.tag=b;this.app.featureSetManager.openCollection(d.id);this._identifyTask=new geocortex.essentialsHtmlViewer.mapping.modules.identify.MapIdentifyTask(this.app.map,this.app.site.essentialsMap);this._identifyTask.tag=d;this._identifyTask.pixelTolerance=this._pixelTolerance;this._identifyTask.polygonPixelTolerance=this._polygonPixelTolerance;this._identifyTask.topMostLayerOnly=this._topMostLayerOnly;this._identifyTask.returnGeometry=this._returnGeometry;setTimeout(function(){c._identifyTask.execute(b,
function(a,b,d){c.identifyTaskProgress(a,b,d)},function(a){c.identifyTaskComplete(a)},function(a,b,d){c.identifyTaskError(a,b,d)})},this._artificialDelay)},identifyTaskProgress:function(a,b,c){geocortex.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.appendToFeatureSetCollection(b,a.tag,c,this.app)},identifyTaskComplete:function(a){this.app.featureSetManager.closeCollection(a.tag.id)},identifyTaskError:function(a,b,c){a=this.getResource("language-identify-error-message").format(b.message,
b.details);this.app.commandRegistry.command("Alert").execute(a);this.app.trace.error("Error performing identify operation on service {0}. Message: {1}. Error details: {2}.".format(c.serviceLayer.url,b.message,b.details))}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils");dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils",null,{});
dojo.mixin(geocortex.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils,{getIdentifyLayerIds:function(a,b){var c=[];if(a.isVisible())for(var d=a.essentialsMap.site.essentialsMap.calculateScale(),e=0;e<a.layers.length;e++){var f=a.layers[e];f.isVisible()&&f.areAllAncestorsVisible()&&f.withinScaleRange(d)&&f.identifiable&&(b==null||b.length==0||dojo.indexOf(b,f.featureType)>=0)&&c.push(f.id)}return c},getIdentifyTaskUrl:function(a){if(!a||!a.serviceUrl)return null;if(!this._hasQueryCapability(a))return null;
if(a.isInstanceOf(geocortex.essentials.FeatureLayerService)){var b=a.serviceUrl.substring(0,a.serviceUrl.lastIndexOf("/"));return b.replace(/FeatureServer$/i,"MapServer")}if(a.isInstanceOf(geocortex.essentials.GeoRssLayerService))return null;return a.mapServiceType==geocortex.essentials.MapServiceType.DYNAMIC||a.mapServiceType==geocortex.essentials.MapServiceType.TILED?(b=a.serviceUrl,a.serviceToken&&(b+="?token="+a.serviceToken),b):null},_hasQueryCapability:function(a){if(!a&&!a.serviceLayer)return false;
a=a.serviceLayer;return a.version<10?true:a.capabilities&&a.capabilities.indexOf("Query")>=0},appendToFeatureSetCollection:function(a,b,c,d){b==null&&(b=new FeatureSetCollection);for(var e={},f=0;f<a.length;f++){var g=a[f],h=e[g.layerId];if(h==null){for(var k=c.findLayerById(g.layerId),h={},j=0;j<k.fields.length;j++){var l=k.fields[j];h[l.alias]=l}j=null;if(g.displayFieldName&&(h=h[g.displayFieldName])&&h.name)j=h.name;if(!j&&k.primaryKeyField&&k.primaryKeyField.name)j=k.primaryKeyField.name;h=new esri.tasks.FeatureSet({displayFieldName:j});
if(g.feature.geometry)h.geometryType=g.feature.geometry.type,h.spatialReference=g.feature.geometry.spatialReference;h=new FeatureSet({esriFeatureSet:h,layer:k,allowUnsafeContent:d.configuration.allowUnsafeContent});h.displayName.set(k.displayName);e[g.layerId]=h}geocortex.essentialsHtmlViewer.mapping.infrastructure.GraphicUtils.sanitizeAttributeNames(g.feature,h.layer);g=new Feature({graphic:g.feature,layer:h.layer,allowUnsafeContent:d.configuration.allowUnsafeContent,resolveLayerFields:true});h.features.addItem(g)}for(var m in e)h=
e[m],b.featureSets.addItem(h);return b}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.identify.MapIdentifyTask");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.identify.MapIdentifyTask",null,{_identifyTaskExecutedCount:0,_identifyTaskCompletedCount:0,_identifyTaskErrorCount:0,_taskExecutionComplete:false,_isCancelled:false,_pendingProgressQueue:null,map:null,essentialsMap:null,tag:null,topMostLayerOnly:false,returnGeometry:false,pixelTolerance:5,polygonPixelTolerance:2,allServicesInError:false,constructor:function(a,b){this.map=a;this.essentialsMap=b;this._pendingProgressQueue=[]},_pointToExtent:function(a){var b=
this.pixelTolerance*(this.map.extent.getWidth()/this.map.width);return new esri.geometry.Extent(a.x-b,a.y-b,a.x+b,a.y+b,this.map.spatialReference)},execute:function(a,b,c,d){this._identifyTaskErrorCount=this._identifyTaskCompletedCount=this._identifyTaskExecutedCount=0;this._pendingProgressQueue.length=0;this.allServicesInError=this._taskExecutionComplete=false;var e=new esri.tasks.IdentifyParameters;e.tolerance=this.pixelTolerance;e.returnGeometry=this.returnGeometry;e.layerOption=this.topMostLayerOnly?
esri.tasks.IdentifyParameters.LAYER_OPTION_TOP:esri.tasks.IdentifyParameters.LAYER_OPTION_ALL;e.width=this.map.width;e.height=this.map.height;e.mapExtent=this.map.extent;e.geometry=a;for(var f=this,g=0;g<this.essentialsMap.mapServices.length;g++){var h=this.essentialsMap.mapServices[g];if(h.mapServiceType===geocortex.essentials.MapServiceType.FEATURE){if(e.layerIds=geocortex.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.getIdentifyLayerIds(h),e.layerIds.length>0){var k=new esri.tasks.Query,
j=null,j=a.type==="point"?this._pointToExtent(a):a.getExtent();k.geometry=j;k.outFields=["*"];this._identifyTaskExecutedCount++;h.serviceLayer.queryFeatures(k).then(function(a){var d=[];if(a&&a.features&&a.features.length>0)for(var e=0;e<a.features.length;e++){var g={};g.feature=a.features[e];g.displayFieldName=h.serviceLayer.displayField;g.layerId=h.serviceLayer.layerId;g.layerName=h.serviceLayer.name;d.push(g)}f._isCancelled||(f._identifyTaskCompletedCount++,b(f,d,h),f._conditionallyInvokeCompleteCallback(f,
c))},function(a){f._isCancelled||(f._identifyTaskCompletedCount++,f._identifyTaskErrorCount++,d(f,a,h),f._conditionallyInvokeCompleteCallback(f,c))})}}else if(k=geocortex.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.getIdentifyTaskUrl(h)){j=dojo.clone(e);j.layerIds=geocortex.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.getIdentifyLayerIds(h,["Polygon"]);j.tolerance=this.polygonPixelTolerance;var l=dojo.clone(e);l.layerIds=geocortex.essentialsHtmlViewer.mapping.modules.identify.IdentifyUtils.getIdentifyLayerIds(h,
["None","Point","Multipoint","Line"]);var j=[j,l],m;for(m in j)l=j[m],this._identifyTaskExecutedCount++,(new esri.tasks.IdentifyTask(k)).execute(l,dojo.hitch(h,function(a){f._isCancelled||(f._identifyTaskCompletedCount++,f._queueInvokeProgress.call(f,this,b,[f,a,this]),f._conditionallyInvokeCompleteCallback(f,c))}),dojo.hitch(h,function(a){f._isCancelled||(f._identifyTaskCompletedCount++,f._identifyTaskErrorCount++,f._queueInvokeProgress.call(f,this,b,[f,a,this]),f._conditionallyInvokeCompleteCallback(f,
c))}))}}this._taskExecutionComplete=true;this._conditionallyInvokeCompleteCallback(f,c)},_queueInvokeProgress:function(a,b,c){this._pendingProgressQueue[a.id]||(this._pendingProgressQueue[a.id]=[]);var d=this._pendingProgressQueue[a.id];d.push({func:b,args:c});if(d.length==2){b=d[0].args[1];if(b[0]&&b[0].feature){var e;if(b[0].feature.geometry)e=b[0].feature.geometry.type;else if(b[0].layerId)e=a.findLayerById(b[0].layerId).featureType;if(e=="polygon"||e=="Polygon")a=d[0],d[0]=d[1],d[1]=a}for(a=0;a<
d.length;a++)d[a].func.apply(this,d[a].args)}},_conditionallyInvokeCompleteCallback:function(a,b){if(a._taskExecutionComplete&&a._identifyTaskExecutedCount==a._identifyTaskCompletedCount)a.allServicesInError=a._identifyTaskExecutedCount==a._identifyTaskErrorCount,b(a)},cancel:function(){this._isCancelled=true}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.IWantToMenu.IWantToMenuButtonView",geocortex.framework.ui.ViewBase,{_menuIsActive:false,constructor:function(){dojo.connect(document.body,"onmousedown",this,this.mouseDownOrTouchStart);dojo.connect(document.body,"ontouchstart",this,this.mouseDownOrTouchStart);this.app.eventRegistry.event("ViewActivatedEvent").subscribe(this,function(a){if(a.id==="IWantToMenuView"&&this.root)dojo.removeClass(this.root,"wtm-inactive"),dojo.addClass(this.root,
"wtm-active"),this._menuIsActive=true});this.app.eventRegistry.event("ViewDeactivatedEvent").subscribe(this,function(a){if(a.id==="IWantToMenuView"&&this.root)dojo.removeClass(this.root,"wtm-active"),dojo.addClass(this.root,"wtm-inactive"),this._menuIsActive=false})},mouseDownOrTouchStart:function(a){var b=this;if(this._menuIsActive){var c=false,d=this.app.viewManager.getViewById("IWantToMenuView");$(a.target).parents().each(function(){this==b.root&&(c=true);d&&this==d.root&&(c=true)});c||b.app.commandRegistry.command("DeactivateView").execute("IWantToMenuView")}},
handleButtonClick:function(){this.app.commandRegistry.command("ToggleView").execute("IWantToMenuView");return false}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.IWantToMenu.IWantToMenuItemViewModel",geocortex.framework.ui.ViewModelBase,{name:null,description:null,cssClass:null,iconUri:null,commandName:null,commandParameter:null,constructor:function(){this.name=new Observable("");this.description=new Observable("");this.cssClass=new Observable("menu-item disabled");this.iconUri=new Observable("");this.commandParameter=this.commandName=null},initialize:function(a){this.name.set(a.name);this.description.set(a.description);
this.iconUri.set(a.iconUri||"Resources/Images/Icons/arrow-right-24.png");this.commandName=a.command;this.commandParameter=a.commandParameter}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.IWantToMenu.IWantToMenuModule");dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.IWantToMenu.IWantToMenuModule",geocortex.framework.application.ModuleBase,{constructor:function(){},initialize:function(a){this.inherited(arguments);a&&a.menus&&this.app.menuRegistry.loadMenus(a)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.IWantToMenu.IWantToMenuView",geocortex.framework.ui.ViewBase,{_lastViewTilePressed:null,_lastState:false,constructor:function(){this.app.eventRegistry.event("ToolbarViewTilePressedEvent").subscribe(this,function(a){this._lastViewTilePressed=="IWantToMenuView"&&a==this._lastViewTilePressed&&this._lastState===this.isActive&&this.app.commandRegistry.command("DeactivateView").execute(this.id);this._lastState=this.isActive;this._lastViewTilePressed=
a})},activated:function(){this.inherited(arguments)},deactivated:function(){this.inherited(arguments);this._lastState=false},handleItemClick:function(a,b,c){this.app.commandRegistry.command("DeactivateView").execute(this.id);c.execute()}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.IWantToMenu.IWantToMenuViewModel",geocortex.framework.ui.ViewModelBase,{menuItems:null,menuTitle:null,constructor:function(){this.menuItems=new ObservableCollection;this.menuTitle=new Observable("")},initialize:function(){try{this.menuTitle.set(this.app.getResource(this.libraryId,"language-iwtm-title"));var a=[];this.menuItems.clear();var a=this.app.menuRegistry.getMenu("Iwantto"),b=this.app.menuRegistry.getDefaultIconUri("Iwantto");if(a&&
(this.menuItems.addItems(a),b))for(a=0;a<this.menuItems.getLength();a++)this.menuItems.getAt(a).iconUri.get()||this.menuItems.getAt(a).iconUri.set(b)}catch(c){return this.app.trace.error("Error parsing menu configuration: {0}.".format(c)),false}}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.log.LogModule",geocortex.framework.application.ModuleBase,{initialize:function(a){this.inherited(arguments)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.log.LogStatusView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.log.LogStatusView",geocortex.framework.ui.ViewBase,{handleClick:function(){this.app.commandRegistry.command("ToggleLogView").execute()}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.log.LogView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.log.LogView",geocortex.framework.ui.ViewBase,{isActive:false,constructor:function(){this.app.commandRegistry.command("ToggleLogView").register(this,function(){this.isActive?this.app.commandRegistry.command("DeactivateView").execute(this.id):this.app.commandRegistry.command("ActivateView").execute(this.id)})},activated:function(){this.inherited(arguments)},deactivated:function(){this.inherited(arguments)},handleClickClear:function(){this.viewModel.logEntries.clear();
this._deactivateView()},handleClickHide:function(){this._deactivateView()},_deactivateView:function(){this.app.commandRegistry.command("DeactivateView").execute(this.id);this.app.eventRegistry.event("ToolbarViewTilePressedEvent").publish("IWantToMenuView")}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.log.LogViewModel");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.log.LogViewModel",geocortex.framework.ui.ViewModelBase,{logEntries:null,isVisible:null,logToConsole:true,initialize:function(a){this.logEntries=new ObservableCollection;this.isVisible=new Observable(false);this.logToConsole=a.logToConsole||true;var b=this;this.app.eventRegistry.event("TraceEvent").subscribe(this,function(a){function d(a,b,c){c==null&&(c=true);var a=a.toString(),d="";if(b>a.length)for(var e=0;e<b-a.length;e++)d+="0";return c?
d.toString()+a:a+d.toString()}var e="{0}:{1}:{2}.{3}".format(d((new Date).getHours(),2),d((new Date).getMinutes(),2),d((new Date).getSeconds(),2),d((new Date).getMilliseconds(),3));a.timestamp=e;a.cssClass="trace "+a.level;b.logEntries.addItem(a);this.logToConsole&&console.log("[{0}]: {1}: {2}".format(a.level,a.timestamp,a.message))});this.app.trace.info("Version {0}. {1}".format(this.app.version,this.app.locale))}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.map.MapHostView",geocortex.framework.ui.ViewBase,{attach:function(){this.app.eventRegistry.event("ViewActivatedEvent").subscribe(this,this._activateMapHost);this.app.eventRegistry.event("ViewDeactivatedEvent").subscribe(this,this._deactivateMapHost)},_activateMapHost:function(a){a.id=="MapView"&&(this.app.commandRegistry.command("ActivateView").execute(this.id),this.app.commandRegistry.command("MapResize").execute())},_deactivateMapHost:function(a){a.id==
"MapView"&&this.app.commandRegistry.command("DeactivateView").execute(this.id)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.map.MapModule");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.map.MapModule",geocortex.framework.application.ModuleBase,{_zoomedExtent:null,_subscribedToMapEvents:false,_config:null,constructor:function(){this.registerCommands();this.app.eventRegistry.event("SiteInitializedEvent").subscribe(this,this._onSiteInitialized);this.app.eventRegistry.event("LayerUpdateStartedEvent").subscribe(this,this._layerUpdateStart);this.app.eventRegistry.event("LayerUpdateEndedEvent").subscribe(this,this._layerUpdateEnd);
this.app.eventRegistry.event("LayerAddedEvent").subscribe(this,this._layerAdd);this.app.eventRegistry.event("LayerRemovedEvent").subscribe(this,this._layerRemove)},initialize:function(a){a||(a={});if(!a.hasOwnProperty("showLoadingStatus"))a.showLoadingStatus=true;if(!a.hasOwnProperty("loadingMessageTiming")||!a.loadingMessageTiming.length)a.loadingMessageTiming=[1E3,3E3,3E3];if(a&&a.hasOwnProperty("panDuration")){var b=parseInt(a.panDuration);if(!isNaN(b))esri.config.defaults.map.panDuration=b}if(a&&
a.hasOwnProperty("panRate")&&(b=parseInt(a.panRate),!isNaN(b)))esri.config.defaults.map.panRate=b;if(a&&a.hasOwnProperty("zoomDuration")&&(b=parseInt(a.zoomDuration),!isNaN(b)))esri.config.defaults.map.zoomDuration=b;if(a&&a.hasOwnProperty("zoomRate")&&(b=parseInt(a.zoomRate),!isNaN(b)))esri.config.defaults.map.zoomRate=b;a&&a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,true);this._config=a;this.app.eventRegistry.event("MapLoadedEvent").subscribe(this,this.subscribeToMapEvents)},
registerCommands:function(){this.app.commandRegistry.command("PanToFeature").register(this,this._executePanToFeature);this.app.commandRegistry.command("PanToPoint").register(this,this._executePanToPoint);this.app.commandRegistry.command("Project").register(this,this._executeProject);this.app.commandRegistry.command("StepZoomIn").register(this,this._executeStepZoomIn);this.app.commandRegistry.command("RecenterMapOnNextMapResize").register(this,this._executeRecenterMapOnNextMapResize);this.app.commandRegistry.command("StepZoomOut").register(this,
this._executeStepZoomOut);this.app.commandRegistry.command("ZoomOutToExtent").register(this,this._executeZoomOutToExtent);this.app.commandRegistry.command("ZoomToFeatures").register(this,this._executeZoomToFeatures);this.app.commandRegistry.command("ZoomToAllFeatures").register(this,this._executeZoomAllToFeatures);this.app.commandRegistry.command("ZoomToExtent").register(this,this._executeZoomToExtent);this.app.commandRegistry.command("ZoomToFeature").register(this,this._executeZoomToFeature)},_executeRecenterMapOnNextMapResize:function(){if(this.app.map&&
this.app.map.extent)var a=this,b=this.app.map.extent.getCenter(),c=dojo.connect(this.app.map,"onResize",function(){dojo.disconnect(c);b&&setTimeout(function(){var c=esri.config.defaults.map.panDuration;a.app.map.centerAt(b);esri.config.defaults.map.panDuration=c},0)})},_executeZoomOutToExtent:function(a){var b=this,c=function(a){var c=null;a&&a.length>0&&(c=a[0],b.app.commandRegistry.command("ShowMap").execute(),b.app.map.setExtent(this.app.map.extent.expand(2).centerAt(c.getCenter())))};if(a&&a.isInstanceOf(esri.geometry.Extent))!a.spatialReference&&
this.app.map.spatialReference?(a.spatialReference=this.app.map.spatialReference,c([a])):(a=new geocortex.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([a],c,function(a){b.app.trace.warning("ZoomOutToExtent: "+a.message)}),this.app.commandRegistry.command("Project").execute(a))},_executeZoomToExtent:function(a){var b=this,c=function(a){a&&a.length>0&&(b.app.commandRegistry.command("ShowMap").execute(),b.app.map.setExtent(a[0]))};if(a&&a.isInstanceOf(esri.geometry.Extent))!a.spatialReference&&
this.app.map.spatialReference?(a.spatialReference=this.app.map.spatialReference,c([a])):(a=new geocortex.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([a],c,function(a){b.app.trace.warning("ZoomToExtent: "+a.message)}),this.app.commandRegistry.command("Project").execute(a))},_executePanToPoint:function(a){var b=this;a&&a.isInstanceOf(esri.geometry.Geometry)&&(a=new geocortex.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([a],function(a){var d=null;a&&a.length>
0&&(d=a[0]);b.app.map&&d&&(b.app.commandRegistry.command("ShowMap").execute(),d.type=="point"?b.app.map.centerAt(d):d.type=="extent"?b.app.map.centerAt(d.getCenter()):(d.type=="polyline"||d.type=="polygon"||d.type=="multipoint")&&b.app.map.centerAt(d.getExtent().getCenter()))},function(a){b.app.trace.warning("PanToPoint: "+a.message)}),this.app.commandRegistry.command("Project").execute(a))},_executeStepZoomOut:function(){this.app.commandRegistry.command("ShowMap").execute();this._zoomedExtent=geocortex.essentialsHtmlViewer.mapping.infrastructure.MapUtils.stepZoom(this.app.map,
0.5,this._zoomedExtent)},_executeStepZoomIn:function(){this.app.commandRegistry.command("ShowMap").execute();this._zoomedExtent=geocortex.essentialsHtmlViewer.mapping.infrastructure.MapUtils.stepZoom(this.app.map,2,this._zoomedExtent)},_executeProject:function(a){if(a&&a.isInstanceOf(geocortex.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs)){var b=new esri.tasks.ProjectParameters;b.geometries=a.geometries;b.outSR=a.outputSpatialReference?a.outputSpatialReference:this.app.map.spatialReference;
b.transformation=a.transformation;geocortex.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.project(b,a.callback,a.errback,this.app)}},_executePanToFeature:function(a){a&&a.isInstanceOf(geocortex.essentialsHtmlViewer.mapping.infrastructure.Feature)&&((a=a.esriFeature.get())&&a.geometry?this.app.commandRegistry.command("PanToPoint").execute(a.geometry):this.app.trace.warning("Error PanToFeature: No geometry."))},_executeZoomToFeatures:function(a){a&&a.isInstanceOf(geocortex.essentialsHtmlViewer.mapping.infrastructure.FeatureSet)&&
this._executeZoomAllToFeatures(a.getItems())},_executeZoomAllToFeatures:function(a){if(a&&dojo.isArray(a))if(a.length==1)this._executeZoomToFeature(a[0]);else{for(var b=null,c=0;c<a.length;c++){var d=a[c];if(d&&d.isInstanceOf(geocortex.essentialsHtmlViewer.mapping.infrastructure.Feature)&&(d=d.esriFeature.get())&&d.geometry)d=geocortex.essentialsHtmlViewer.mapping.infrastructure.MapUtils.getExtent(d.geometry),b=b==null?d:b.union(d)}b&&(b.getWidth()==0&&b.getHeight()==0?this._executePanToPoint(b.getCenter()):
(b=b.expand(1.5),this._executeZoomToExtent(b)))}},_executeZoomToFeature:function(a){var b=this;if(!a||!a.isInstanceOf(geocortex.essentialsHtmlViewer.mapping.infrastructure.Feature))this.app.trace.error("Error ZoomToFeature: No feature provided.");else if(!this.app||!this.app.map)this.app.trace.error("Error ZoomToFeature: No access to the Esri map.");else if(a.zoomExtent.get())this._executeZoomToExtent(a.zoomExtent.get());else if(a.esriFeature.get()&&a.esriFeature.get().geometry){var c=a.esriFeature.get().geometry,
d=a.zoomScale.get();if(d)var e=null,e=c.type=="point"?c:c.getExtent().getCenter(),c=esri.geometry.getScale(this.app.map.extent,this.app.map.width,this.app.map.spatialReference.wkid),f=d/c,c=new geocortex.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([e],function(a){var c=null;a&&a.length>0&&(c=a[0]);c&&b._executeZoomToExtent(b.app.map.extent.centerAt(c).expand(f))});else c.type=="point"?c=new geocortex.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([c],function(c){var d=
null;c&&c.length>0&&(d=c[0]);d&&(c=b.app.map.extent.centerAt(d),d=esri.geometry.getScale(c,b.app.map.width,b.app.map.spatialReference.wkid),c=esri.geometry.getExtentForScale(b.app.map,a.calculateScaleToMakeVisible(d)).centerAt(c.getCenter()),b._executeZoomToExtent(c))}):((d=a.zoomFactor.get())||(d=1.5),c=c.getExtent().expand(d),c=new geocortex.essentialsHtmlViewer.mapping.infrastructure.commandArgs.ProjectArgs([c],function(c){var d=null;c&&c.length>0&&(d=c[0]);d&&(c=esri.geometry.getScale(d,b.app.map.width,
b.app.map.spatialReference.wkid),!a.withinScaleRange(c)&&a.minScale.get()&&(d=esri.geometry.getExtentForScale(b.app.map,a.minScale.get()).centerAt(d.getCenter())),b._executeZoomToExtent(d))}));this.app.commandRegistry.command("Project").execute(c)}else this.app.trace.warning("Error ZoomToFeature: No geometry.")},_pointToExtent:function(a){var b=5*(this.app.map.extent.getWidth()/this.app.map.width);return new esri.geometry.Extent(a.x-b,a.y-b,a.x+b,a.y+b,this.app.map.spatialReference)},subscribeToMapEvents:function(){dojo.connect(this.app.map,
"onPanEnd",this,function(){this._zoomedExtent=null});dojo.connect(this.app.map,"onZoomEnd",this,function(){this._zoomedExtent=null});if(this._config.onClick){var a=this,b=dojo.hitch(this,function(b){a._config.onClick&&a.app.commandRegistry.command(a._config.onClick).execute(b.mapPoint)}),c=[dojo.connect(a.app.map,"onClick",b)],d=esri.toolbars.Draw.prototype.activate;esri.toolbars.Draw.prototype.activate=function(){if(!this.__attached_isActive)d.apply(this,arguments),this.__attached_isActive=true,
dojo.forEach(c,dojo.disconnect),c=[]};var e=esri.toolbars.Draw.prototype.deactivate;esri.toolbars.Draw.prototype.deactivate=function(){if(this.__attached_isActive)dojo.forEach(c,dojo.disconnect),c=[],c.push(dojo.connect(a.app.map,"onClick",b)),e.apply(this,arguments),this.__attached_isActive=false};if(typeof esri.toolbars.Edit!=="undefined"){var f=esri.toolbars.Edit.prototype.activate;esri.toolbars.Edit.prototype.activate=function(){if(!this.__attached_isActive)f.apply(this,arguments),this.__attached_isActive=
true,dojo.forEach(c,dojo.disconnect),c=[]};var g=esri.toolbars.Edit.prototype.deactivate;esri.toolbars.Edit.prototype.deactivate=function(){if(this.__attached_isActive)dojo.forEach(c,dojo.disconnect),c=[],c.push(dojo.connect(a.app.map,"onClick",b)),g.apply(this,arguments),this.__attached_isActive=false}}}},_onGeoRssLayerLoaded:function(a){a&&a.esriLayer&&dojo.connect(a.esriLayer,"onClick",this,function(a){dojo.stopEvent(a);var c=new geocortex.essentialsHtmlViewer.mapping.infrastructure.Feature({graphic:a.graphic,
allowUnsafeContent:this.app.configuration.allowUnsafeContent}),d=a.graphic.attributes;c.descriptionFormat.set("{content}");var e=c.description.get();String.isNullOrEmpty(e)&&(e=d.content);c.labelFormat.set("{title}");c=c.label.get();String.isNullOrEmpty(c)&&(c=d.title);a=new geocortex.essentialsHtmlViewer.mapping.infrastructure.ShowMapElementArgs("MapTipResultsCallout",a.mapPoint,e,c);this.app.commandRegistry.command("ShowMapCallout").execute(a)})},_onSiteInitialized:function(a){if(!a||!a.isInitialized)this.app.trace.error("Error processing MapModule._onSiteInitialized. - site was not initialized.");
else{if(this.app&&this.app.urlParameters&&this.app.urlParameters.extent){var b=this.app.urlParameters.extent.split(",");if(b.length>=4){a=new esri.geometry.Extent(parseFloat(b[0]),parseFloat(b[1]),parseFloat(b[2]),parseFloat(b[3]));if(b.length>=5&&!isNaN(parseInt(b[4])))a.spatialReference=new esri.SpatialReference(parseInt(b[4]));b=esriConfig.defaults.map.zoomDuration;esriConfig.defaults.map.zoomDuration=0;this.app.commandRegistry.command("ZoomToExtent").execute(a);esriConfig.defaults.map.zoomDuration=
b}}dojo.subscribe("geoRssLayerLoaded",this,"_onGeoRssLayerLoaded")}},_layerUpdateStart:function(a,b){if(b){b.attached_isLoading=true;if(!b.attached_timers)b.attached_timers=[];var c=setTimeout(dojo.hitch(this,function(){if(!(this._config.loadingMessageTiming.length<1)&&b.attached_isLoading){var c=this.app.getResource(this.libraryId,"language-map-loading-stage1").format(b.displayName),e=new geocortex.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(c);e.id=a.id+"LoadingStatus";
e.showBusyIcon=true;this.app.commandRegistry.command("AddStatus").execute(e);this._config.loadingMessageTiming.length<2||(c=setTimeout(dojo.hitch(this,function(){if(b.attached_isLoading){var a=this.app.viewManager.getViewById(e.id);a&&a.viewModel&&a.viewModel.text.set(this.app.getResource(this.libraryId,"language-map-loading-stage2").format(b.displayName));this._config.loadingMessageTiming.length<3||(a=setTimeout(dojo.hitch(this,function(){if(b.attached_isLoading){var a=this.app.viewManager.getViewById(e.id);
a&&a.viewModel&&a.viewModel.text.set(this.app.getResource(this.libraryId,"language-map-loading-stage3").format(b.displayName))}}),this._config.loadingMessageTiming[2]),b.attached_timers.push(a))}}),this._config.loadingMessageTiming[1]),b.attached_timers.push(c))}}),this._config.loadingMessageTiming[0]);b.attached_timers.push(c)}},_layerUpdateEnd:function(a,b){if(b){if(b.attached_timers){for(var c=0;c<b.attached_timers.length;c++)clearTimeout(b.attached_timers[c]);b.attached_timers.length=0}b.attached_isLoading=
false;c=a.id+"LoadingStatus";this.app.commandRegistry.command("RemoveStatus").execute(c)}},_layerAdd:function(){},_layerRemove:function(a){a=a.id+"LoadingStatus";this.app.commandRegistry.command("RemoveStatus").execute(a)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.map.MapView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.map.MapView",geocortex.framework.ui.ViewBase,{active:null,resizeTimer:null,initialized:false,extentEpoch:null,extentBroadcastFrequency:null,constructor:function(a){this.inherited(arguments)},removed:function(){this.app.map!=null&&this.app.map.destroy()},activated:function(){this.inherited(arguments);this.initialized||this.initialize();this.active=true;this.resize()},deactivated:function(){this.inherited(arguments);this.active=false;clearTimeout(this.resizeTimer)},
attach:function(a){this.inherited(arguments);this.viewModel&&(this.initialized||this.initialize())},resize:function(){var a=this.app.map,b=this.mapDiv;if(a!=null&&a.extent!=null){if(this.resizeTimer)clearTimeout(this.resizeTimer),this.resizeTimer=null;var c=this;this.resizeTimer=setTimeout(function(){try{if(b){var d=dojo.coords(b);if(c.isActive===true&&d.w>2&&d.h>2&&a.width&&a.height)a.resizeDelay=0,a.resize(),a.reposition()}}catch(e){}},200)}},initialize:function(){if(!this.initialized&&this.viewModel&&
this.root){var a=false,b=true;if(this.configuration&&this.configuration.hasOwnProperty("wrapAround180"))a=this.configuration.wrapAround180;if(this.configuration&&this.configuration.hasOwnProperty("force3DTransforms"))b=this.configuration.force3DTransforms;this.app.map=new esri.Map("map",{slider:false,logo:false,showAttribution:false,wrapAround180:a,force3DTransforms:b});this.app.map.hideZoomSlider();this.isAndroid4=navigator.userAgent.indexOf("Android 4")>-1;this.extentBroadcastFrequency=this.configuration.extentBroadcastFrequency||
0;this.app.commandRegistry.command("InitializeSite").execute(this.app.map);this.app.commandRegistry.command("ZoomToInitialExtent").register(this,function(){this.app.commandRegistry.command("ActivateView").execute(this.id)});this.app.eventRegistry.event("ApplicationResizedEvent").subscribe(this,function(){this.resize()});this.app.commandRegistry.command("MapResize").register(this,function(){this.resize()});this.app.commandRegistry.command("ShowMap").register(this,function(){this.app.commandRegistry.command("ActivateView").execute(this.id)});
this.app.eventRegistry.event("ViewActivatedEvent").subscribe(this,function(){this.resize()});this.app.eventRegistry.event("ViewDeactivatedEvent").subscribe(this,function(){this.resize()});this.app.eventRegistry.event("ActiveToolChangedEvent").subscribe(this,this._toolChanged);var c=this;dojo.connect(this.app.map,"onExtentChange",function(a,b,f,g){c.app.eventRegistry.event("MapExtentChangeEvent").publish(a,b,f,g);!g&&c.app.site.essentialsMap&&(g=c._getLevelOfDetails(a));c._publishWithMapExtent("MapExtentChangedEvent",
g)});dojo.connect(this.app.map,"onLayerAdd",this,this._layerAdd);dojo.connect(this.app.map,"onLayerAddResult",function(a,b){c.app.eventRegistry.event("LayerAddResultEvent").publish(a,b);c.app.eventRegistry.event("LayerAddedWithResultEvent").publish(a,b)});dojo.connect(this.app.map,"onLayerRemove",function(a){c.app.eventRegistry.event("LayerRemoveEvent").publish(a);c.app.eventRegistry.event("LayerRemovedEvent").publish(a)});dojo.connect(this.app.map,"onLayersAddResult",function(a,b){c.app.eventRegistry.event("LayersAddResultEvent").publish(a,
b);c.app.eventRegistry.event("LayersAddedWithResultEvent").publish(a,b)});dojo.connect(this.app.map,"onPanStart",function(a,b){c.app.eventRegistry.event("MapPanStartEvent").publish(a,b);c.app.eventRegistry.event("MapPanStartedEvent").publish(a,b)});dojo.connect(this.app.map,"onPan",function(a,b){c.app.eventRegistry.event("MapPanEvent").publish(a,b);c._broadcastExent(a)});dojo.connect(this.app.map,"onPanEnd",function(a,b){c.isAndroid4&&(dojo.style(c.mapDiv,"display","none"),setTimeout(function(){dojo.style(c.mapDiv,
"display","block")},0));c.app.eventRegistry.event("MapPanEndEvent").publish(a,b);c.app.eventRegistry.event("MapPanEndedEvent").publish(a,b)});dojo.connect(this.app.map,"onZoomStart",function(a,b,f,g){c.app.eventRegistry.event("MapZoomStartEvent").publish(a,b,f,g);c.app.eventRegistry.event("MapZoomStartedEvent").publish(a,b,f,g)});dojo.connect(this.app.map,"onZoom",function(a,b,f){c.app.eventRegistry.event("MapZoomEvent").publish(a,b,f);c._broadcastExent(a)});dojo.connect(this.app.map,"onZoomEnd",
function(a,b,f,g){c.app.eventRegistry.event("MapZoomEndEvent").publish(a,b,f,g);c.app.eventRegistry.event("MapZoomEndedEvent").publish(a,b,f,g)});dojo.connect(this.app.map,"onLoad",function(a){c.resize();c.app.eventRegistry.event("MapLoadedEvent").publish(a)});dojo.connect(this.app.map,"onClick",function(a){c.app.eventRegistry.event("MapClickEvent").publish(a);c.app.eventRegistry.event("MapClickedEvent").publish(a)});dojo.connect(this.app.map,"onMouseDown",function(a){c.app.eventRegistry.event("MapMouseDownEvent").publish(a)});
this.initialized=true}},_broadcastExent:function(a){var b=null,c=null;if(!this.extentEpoch)this.extentEpoch=+new Date;b=+new Date;if(b-this.extentEpoch>this.extentBroadcastFrequency)this.app.site.essentialsMap&&(c=this._getLevelOfDetails(a)),this._publishWithMapExtent("MapExtentChangingEvent",c),this.extentEpoch=b},_layerAdd:function(a){for(var b=this.app.site.essentialsMap.mapServices,c,d=0;d<b.length;d++)if(b[d].serviceLayer==a){c=b[d];break}this.app.eventRegistry.event("LayerAddEvent").publish(a,
c);this.app.eventRegistry.event("LayerAddedEvent").publish(a,c);this.app.trace.debug("Subscribing to layer start and end update events for layer: "+(c!=null?c.displayName:a.url));dojo.connect(a,"onUpdateStart",this,function(){this.app.trace.debug("Layer update start: "+(c!=null?c.displayName:a.url));this.app.eventRegistry.event("LayerUpdateStartEvent").publish(a,c);this.app.eventRegistry.event("LayerUpdateStartedEvent").publish(a,c)});dojo.connect(a,"onUpdateEnd",this,function(){this.app.trace.debug("Layer update end: "+
(c!=null?c.displayName:a.url));this.app.eventRegistry.event("LayerUpdateEndEvent").publish(a,c);this.app.eventRegistry.event("LayerUpdateEndedEvent").publish(a,c)})},_getLevelOfDetails:function(a){var b={};b.scale=this.app.site.essentialsMap.calculateScale();if(a&&this.app.map&&this.app.map.width>0)b.resolution=a.getWidth()/this.app.map.width;return b},_publishWithMapExtent:function(a,b){var c=null;if(b)c=new geocortex.essentialsHtmlViewer.mapping.infrastructure.eventArgs.MapExtentEventArgs,c.currentScale=
b.scale,c.currentResolution=b.resolution;this.app.eventRegistry.event(a).publish(c)},_toolChanged:function(a){a.tool&&this.app.commandRegistry.command("ActivateView").execute(this.id)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.map.MapViewModel");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.map.MapViewModel",geocortex.framework.ui.ViewModelBase,{siteFailed:null,temporaryGraphicsLayer:null,temporaryMarkupSymbol:null,stepZoomFactor:0,panStep:0,busyMessage:null,orientationEvent:null,geolocationCancelled:false,constructor:function(a){this.siteFailed=new Observable(false);this.busyMessage=new Observable(null);this.inherited(arguments);this.registerCommands()},initialize:function(a){this.inherited(arguments);this.stepZoomFactor=
a.stepZoomFactor||0.5;this.panStep=a.panStep||1/3;this.temporaryMarkupSymbol=new esri.symbol.SimpleMarkerSymbol(esri.symbol.SimpleMarkerSymbol.STYLE_DIAMOND,20,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new dojo.Color([0,0,0]),1),new dojo.Color([255,255,0,0.5]));this.siteFailed=new Observable(false);this.app.eventRegistry.event("SiteInitializationFailedEvent").subscribe(this,function(){this.siteFailed.set(true)})},registerCommands:function(){this.app.commandRegistry.command("AddTemporaryMarkupGeometry").register(this,
function(a){if(!this.temporaryGraphicsLayer)this.temporaryGraphicsLayer=new esri.layers.GraphicsLayer({id:"TemporaryMarkup"}),this.app.map.addLayer(this.temporaryGraphicsLayer);if(a){var b=null;switch(a.type){case "polygon":case "extent":b=new esri.symbol.SimpleFillSymbol(esri.symbol.SimpleFillSymbol.STYLE_SOLID,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new dojo.Color([255,51,51,0.8]),2),new dojo.Color([255,51,51,0.5]));break;case "polyline":b=new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,
new dojo.Color([204,51,51,0.8]),2);break;default:b=new esri.symbol.SimpleMarkerSymbol(esri.symbol.SimpleMarkerSymbol.STYLE_CIRCLE,14,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new dojo.Color([0,0,0]),1),new dojo.Color([204,51,51]))}this.temporaryGraphicsLayer.add(new esri.Graphic(a,b))}});this.app.commandRegistry.command("ClearTemporaryMarkup").register(this,function(){this.temporaryGraphicsLayer&&this.temporaryGraphicsLayer.clear()});this.app.commandRegistry.command("ZoomToInitialExtent").register(this,
function(a){param=a?parseInt(a):0;var b=this;setTimeout(function(){b.app.map!=null&&(b.app.site===null||!b.app.site.isInitialized||b.app.site.essentialsMap===null?b.app.trace.warning("Could not zoom to initial extent - Site was null or uninitialized."):!b.app.site.essentialsMap.isInitialized||b.app.site.essentialsMap.initialExtent===null?b.app.trace.warning("Could not zoom to initial extent - Map was not initialized or has no initial extent."):b.app.map.setExtent(b.app.site.essentialsMap.initialExtent))},
a)});this.app.commandRegistry.command("Geolocate").register(this,function(){this._geolocate()})},_geolocate:function(){if(navigator.geolocation){this._showBusyLocating(true);this.geolocationCancelled=false;var a=dojo.hitch(this,function(a){setTimeout(dojo.hitch(this,function(){this._zoomToLocation(a)}),0)});navigator.geolocation.getCurrentPosition(a,dojo.hitch(this,this._handleGeoLocationError))}},_showBusyLocating:function(a){a?(a=this.app.getResource(this.libraryId,"language-geolocation-in-progress"),
a=new geocortex.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a,null,dojo.hitch(this,function(){this.geolocationCancelled=true})),a.showBusyIcon=true,this.app.commandRegistry.command("AddStatus").execute(a)):this.app.commandRegistry.command("RemoveStatus").execute()},_zoomToLocation:function(a){if(!this.geolocationCancelled){var b=this;if(a&&a.coords){var c=this.app.map,d=new esri.SpatialReference({wkid:4326}),e=new esri.SpatialReference({wkid:102100}),d=new esri.geometry.Point(a.coords.longitude,
a.coords.latitude,d),f=esri.geometry.geographicToWebMercator(d),a=geocortex.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.createCircle(e,f,a.coords.accuracy,60),e=new esri.tasks.ProjectParameters;e.geometries=[a];e.outSR=b.app.map.spatialReference;geocortex.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.project(e,function(a){a=a[0];b._showBusyLocating(false);var d=new geocortex.essentialsHtmlViewer.mapping.infrastructure.eventArgs.GeolocationEventArgs;d.mapPoint=f;b.app.eventRegistry.event("GeolocatedEvent").publish(d);
var e=a.getExtent(),d=esri.geometry.getExtentForScale(c,2E4),d=d.centerAt(e.getCenter()),e=e.expand(2);c.setExtent(e.getWidth()>d.getWidth()?e:d);var d=new esri.symbol.SimpleFillSymbol(esri.symbol.SimpleFillSymbol.STYLE_SOLID,new esri.symbol.SimpleLineSymbol(esri.symbol.SimpleLineSymbol.STYLE_SOLID,new dojo.Color([42,84,155,0.65]),2),new dojo.Color([42,84,155,0.35])),a=new esri.Graphic(a,d),j=new esri.layers.GraphicsLayer;j.add(a);b.app.map.addLayer(j);var l=dojo.connect(j,"onClick",function(){b.app.map.removeLayer(j);
dojo.disconnect(l)})},function(a){b._showBusyLocating(false);a=b.app.isOffline.value?b.getResource("language-geolocation-error-offline"):b.getResource("language-geolocation-error-projection").format(a.message);b.app.trace.warning(a);b.app.commandRegistry.command("Alert").execute(a)},this.app)}}},_handleGeoLocationError:function(a){var b="";this._showBusyLocating(false);switch(a.code){case a.PERMISSION_DENIED:b="language-geolocation-error-permission";break;case a.POSITION_UNAVAILABLE:b="language-geolocation-error-position-unavailable";
break;case a.TIMEOUT:b="language-geolocation-error-timeout";break;default:b="language-geolocation-error-unknown"}a=this.app.getResource(this.libraryId,"language-geolocation-error")+this.getResource(b);this.app.trace.warning(a);this.app.commandRegistry.command("Alert").execute(a)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapCallout");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapCallout",null,{_startLeft:0,_startTop:0,_node:null,_map:null,_mapPoint:null,_isVisible:false,_connections:null,_lastUpdateTime:null,_makeVisibleAfterDelay:false,_previousPosition:null,id:null,constructor:function(){this._connections=[]},attachToMap:function(a,b,c,d,e){this.destroy();this.id=a;this._map=c;this._node=b;this._mapPoint=d;this._isVisible=false;dojo.style(b,{position:"absolute",left:"0px",top:"0px",display:"none"});
dojo.place(b,dojo.byId("map_root"));this.show(d,e)},show:function(a,b){b||(b=0);this._mapPoint=a;this._isVisible=true;b>0?(this._makeVisibleAfterDelay=true,setTimeout(dojo.hitch(this,this.doDelayedShow),b)):(dojo.style(this._node,"width","auto"),this._mapPoint=a,this._makeVisibleAfterDelay=false,this._doResetPosition(),this._disconnectEventHandlers(),this._subscribeToMapEvent("onPanStart",this._onPanStart),this._subscribeToMapEvent("onPanEnd",this._onPanEnd),this._subscribeToMapEvent("onPan",this._onPan),
this._subscribeToMapEvent("onZoomStart",this._onZoomStart),this._subscribeToMapEvent("onZoomEnd",this._onZoomEnd),this.notifyContentChanged())},doDelayedShow:function(){this._makeVisibleAfterDelay&&this.show(this._mapPoint)},hide:function(){this._makeNotVisible();this._disconnectEventHandlers();this._makeVisibleAfterDelay=this._isVisible=false},_disconnectEventHandlers:function(){for(var a=0;a<this._connections.length;a++)dojo.disconnect(this._connections[a]);this._connections.length=0},_makeNotVisible:function(){this._node!=
null&&dojo.style(this._node,"display","none")},_makeVisible:function(){this._node!=null&&dojo.style(this._node,"display","block")},destroy:function(){this.hide();this._node&&this._node.parentNode&&this._node.parentNode.removeChild(this._node)},getNode:function(){return this._node},_subscribeToMapEvent:function(a,b){this._connections.push(dojo.connect(this._map,a,this,b))},_onPanStart:function(){var a=this._setPositionByMapPoint(this._mapPoint);this._startLeft=a.x;this._startTop=a.y;this._lastUpdateTime=
(new Date).getTime()},_onPan:function(a,b){if(this._getEllapsedMilliseconds()>=0){if(a.spatialReference._isWebMercator()&&this._map.wrapAround180){for(;this._mapPoint.x<a.xmin;)this._mapPoint.x+=40075017;for(;this._mapPoint.x>a.xmax;)this._mapPoint.x-=40075017;this._setPositionByMapPoint(this._mapPoint)}this._setPositionByScreenPoint(this._startLeft+b.x,this._startTop+b.y);this._lastUpdateTime=(new Date).getTime()}},_onPanEnd:function(a){if(this._map.wrapAround180&&a.spatialReference._isWrappable()){if(a.spatialReference._isWebMercator()){for(;this._mapPoint.x<
a.xmin;)this._mapPoint.x+=40075017;for(;this._mapPoint.x>a.xmax;)this._mapPoint.x-=40075017}else if(a.spatialReference.wkid==4326){for(;this._mapPoint.x<a.xmin;)this._mapPoint.x+=360;for(;this._mapPoint.x>a.xmax;)this._mapPoint.x-=360}this._setPositionByMapPoint(this._mapPoint)}},_getEllapsedMilliseconds:function(){if(this._lastUpdateTime==null)this._lastUpdateTime=(new Date).getTime();return(new Date).getTime()-this._lastUpdateTime},fixPosition:function(){this._isVisible&&this._doResetPosition()},
notifyContentChanged:function(){var a=this;$(this._node).find("img").each(function(){if(!this.complete&&!this.naturalWidth)this.attached_calloutConnection&&(dojo.disconnect(this.attached_calloutConnection),Array.removeItem(this,this.attached_calloutConnection)),this.hasOwnProperty("attached_originalDisplayValue")||(this.attached_originalDisplayValue=dojo.style(this,"display")),dojo.style(this,"display","none"),this.attached_calloutConnection=dojo.connect(this,"load",a,function(a){this._contentLoaded(a)})})},
_contentLoaded:function(a){if(this._isVisible)console.log("img loaded"),a=a.target,dojo.style(a,"display",a.attached_originalDisplayValue),a.attached_calloutConnection&&(dojo.disconnect(a.attached_calloutConnection),Array.removeItem(a,a.attached_calloutConnection)),this._doResetPosition()},_doResetPosition:function(){var a=dojo.style(this._node,"opacity");dojo.style(this._node,"opacity",0);this._makeVisible();dojo.position(this._node).w<=0||(dojo.style(this._node,"width","auto"),this._setPositionByMapPoint(this._mapPoint,
true),dojo.style(this._node,"opacity",a))},_setPositionByMapPoint:function(a,b){var c=null,d=this._map.toScreen(a);if((c=dojo.position(this._node))&&d){var e=d.x-c.w/2,d=d.y-c.h;b&&dojo.style(this._node,"width",c.w+3+"px");this._setPositionByScreenPoint(e,d);return c=new esri.geometry.Point({x:e,y:d})}},_setPositionByScreenPoint:function(a,b){dojo.style(this._node,{left:a+"px",top:b+"px"})},_onZoomStart:function(){this._makeNotVisible()},_onZoomEnd:function(){this._isVisible&&(this._makeVisible(),
this._setPositionByMapPoint(this._mapPoint))}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapCalloutView");dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapCalloutView",geocortex.framework.ui.ViewBase,{innerContent:null,constructor:function(a){this.inherited(arguments);this.innerContent=new Observable},handleClose:function(){dojo.style(this.root,"display","none");var a=this.attached_calloutID;a&&this.app.commandRegistry.command("HideMapElement").execute(a)}});
dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapCalloutViewModel");dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapCalloutViewModel",geocortex.framework.ui.ViewModelBase,{title:null,constructor:function(a){this.inherited(arguments);this.title=new Observable},initialize:function(a){this.inherited(arguments)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapTipContent");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapTipContent",geocortex.framework.ui.ViewBase,{constructor:function(a){this.inherited(arguments)},setFeatureSetCollection:function(a){this.viewModel&&(this.viewModel.setFeatureSetCollection(a),this.destroyBindings(),this.attach(this.viewModel))}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapTipContentViewModel");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapTipContentViewModel",geocortex.framework.ui.ViewModelBase,{fsc:null,currentFeature:null,currentDescription:null,title:null,showNoResults:null,showLoading:null,libraryId:null,calloutID:null,app:null,contentField:null,containerView:null,constructor:function(a,b){this.inherited(arguments);this.app=a;this.libraryId=b;this.fsc=new ObservableCollection;this.currentFeature=new Observable;this.currentFeature.bind(this,this.currentFeatureChanged);
this.currentDescription=new Observable("");this.title=new Observable(this.app.getResource(this.libraryId,"language-common-results"));this.showNoResults=new Observable(false);this.showLoading=new Observable(true);this.app.eventRegistry.event("FSMCollectionClosedEvent").subscribe(this,this.fsmCollectionClosed)},initialize:function(a){this.inherited(arguments)},setFeatureSetCollection:function(a){this.fsc=a;this.updateCurrentFeature();a&&a.featureSets.bindingEvent.subscribe(this,function(a){a.type===
"clear"?this.clearCurrentFeature():this.updateCurrentFeature()})},updateCurrentFeature:function(){this.fsc.featureSets&&this.fsc.featureSets.value.length>0&&this.fsc.featureSets.getAt(0).features.value.length>0?this.currentFeature.set(this.fsc.featureSets.getAt(0).features.getAt(0)):this.currentFeature.set(null)},clearCurrentFeature:function(){this.currentDescription.set("");this.title.set(this.app.getResource(this.libraryId,"language-common-results"));this.isFscOpen()?(this.showNoResults.set(false),
this.showLoading.set(true)):(this.showNoResults.set(true),this.showLoading.set(false))},currentFeatureChanged:function(a){if(a){var b=this.contentField=="description"?a.description.get():a.longDescription.get();this.currentDescription.set(b);a=a.label.get();String.isNullOrEmpty(a)||this.title.set(a);String.isNullOrEmpty(b)&&this.currentDescription.set("N/A");this.showNoResults.set(false);this.showLoading.set(false)}else this.clearCurrentFeature();this.calloutID&&this.app.viewManager.notifyDimensionsChanged(this.containerView)},
isFscOpen:function(){return this.fsc?this.app.featureSetManager.isCollectionOpen(this.fsc.id):false},fsmCollectionClosed:function(a){this.fsc&&a.featureSetCollectionId==this.fsc.id&&this.updateCurrentFeature()}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapTipsModule");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapTipsModule",geocortex.framework.application.ModuleBase,{_calloutMap:null,_calloutViewMap:null,_count:0,_mapTipContentView:null,_config:null,_allowMultiple:false,_contentField:null,_isPanning:false,_isZooming:false,_pendingCommands:null,initialize:function(a){this.inherited(arguments);this._calloutMap={};this._calloutViewMap={};if((this._config=a)&&a.allowMultiple)this._allowMultiple=a.allowMultiple;if(a&&a.contentField)this._contentField=
a.contentField;this._pendingCommands=[];this.registerCommands();this.subscribeEvents()},subscribeEvents:function(){this.app.eventRegistry.event("MapPanStartedEvent").subscribe(this,function(){this._isPanning=true});this.app.eventRegistry.event("MapPanEndedEvent").subscribe(this,function(){this._isPanning=false;this._isZooming||this.flushPendingCommands()});this.app.eventRegistry.event("MapZoomStartedEvent").subscribe(this,function(){this._isZooming=true});this.app.eventRegistry.event("MapZoomEndedEvent").subscribe(this,
function(){this._isZooming=false;this._isPanning||this.flushPendingCommands()})},flushPendingCommands:function(){for(var a=0;a<this._pendingCommands.length;a++){var b=this._pendingCommands[a];this.app.commandRegistry.command(b.commandName).execute(b.commandArgs)}this._pendingCommands.length=0},registerCommands:function(){this.app.commandRegistry.command("InvokeMapTip").register(this,function(a){this.app.commandRegistry.command("Identify").execute({geometry:a,source:"MapTip"})});this.app.commandRegistry.command("ShowMapTip").register(this,
function(a){if(!this.tryQueueCommand("ShowMapTip",a)){a.length&&a.length>0&&a[0]&&(a=a[0]);var b=geocortex.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getMiddle(a.esriFeature.get().geometry);if(b==null)this.app.trace.warning("Error ShowMapTip: {0}".format(this.app.getResource(this.libraryId,"language-identify-no-geometry-for-map-tip-results")));else{if(this._mapTipContentView==null||this._allowMultiple)this._mapTipContentView=this.createMapTipView();this._mapTipContentView.viewModel.currentFeature.set(a);
this.showMapTipInCallout(this.getMapTipCalloutId(),b,0)}}});this.app.commandRegistry.command("ShowMapTipResults").register(this,function(a){if(!this.tryQueueCommand("ShowMapTipResults",a)){var b=this.app.featureSetManager.getCollectionById(a),a=geocortex.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getMiddle(b.tag);if(a==null)if(a=b.firstFeature(),a==null){var c;c=b.featureSets.bind(this,function(a){this.tryRerunShowMapTipResults(a,b,c)});return}else if(a=geocortex.essentialsHtmlViewer.mapping.infrastructure.GeometryUtils.getMiddle(a.esriFeature.get().geometry),
a==null){a=this.app.getResource(this.libraryId,"language-identify-no-geometry-for-map-tip-results");this.app.commandRegistry.command("Alert").execute(a);this.app.trace.error(a);return}if(this._mapTipContentView==null||this._allowMultiple)this._mapTipContentView=this.createMapTipView();this._mapTipContentView.setFeatureSetCollection(b);this.showMapTipInCallout(this.getMapTipCalloutId(),a,1E3)}});this.app.commandRegistry.command("ShowMapCallout").register(this,function(a){if(!this.tryQueueCommand("ShowMapCallout",
a)){var b;b=this.createView("MapCalloutView");b.innerContent.set(a.getNode());this._calloutViewMap[a.elementID]=b;dojo.addClass(b.root,"map-callout-wrapper");var c=new geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapCalloutViewModel(this.app);c.initialize({});a.title?c.title.set(a.title):a.content&&a.contentIsView()?c.title.sync(a.content.title):c.title="";b.attach(c);b=new geocortex.essentialsHtmlViewer.mapping.infrastructure.ShowMapElementArgs(a.elementID,a.mapPoint,b);b.delay=a.delay;
this.app.commandRegistry.command("ShowMapElement").execute(b)}});this.app.commandRegistry.command("ShowMapElement").register(this,function(a){if(!this.tryQueueCommand("ShowMapElement",a)){var b;this._calloutMap[a.elementID]?(b=this._calloutMap[a.elementID],b.getNode()==a.getNode()?b.show(a.mapPoint,a.delay):a.getNode()!=null?(b.attachToMap(a.elementID,a.getNode(),this.app.map,a.mapPoint,a.delay),this._calloutMap[a.elementID]=b):b.doDelayedShow()):(b=new geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapCallout,
b.attachToMap(a.elementID,a.getNode(),this.app.map,a.mapPoint,a.delay),this._calloutMap[a.elementID]=b);if(a.contentIsView())a.content.attached_calloutID=b.id}});this.app.commandRegistry.command("HideMapElement").register(this,function(a){this.tryQueueCommand("HideMapElement",a)||(this._calloutMap[a]&&(this._calloutMap[a].destroy(),Array.removeItem(this._calloutMap,this._calloutMap[a])),this._calloutViewMap[a]&&(this.app.viewManager.destroyView(this._calloutViewMap[a]),Array.removeItem(this._calloutViewMap,
this._calloutViewMap[a])))});this.app.commandRegistry.command("FixMapElementPosition").register(this,function(a){!this.tryQueueCommand("FixMapElementPosition",a)&&this._calloutMap[a]&&(this._calloutMap[a].notifyContentChanged(),this._calloutMap[a].fixPosition())});this.app.eventRegistry.event("ViewDimensionsChangedEvent").subscribe(this,function(a){if((a=a.view.attached_calloutID)&&this._calloutMap[a])this.app.commandRegistry.command("FixMapElementPosition").execute(a),a=new geocortex.essentialsHtmlViewer.mapping.infrastructure.ShowMapElementArgs(a),
this.app.commandRegistry.command("ShowMapElement").execute(a)})},createMapTipView:function(){var a=this.createView("MapTipContent"),b=new geocortex.essentialsHtmlViewer.mapping.modules.maptips.MapTipContentViewModel(this.app,this.libraryId);b.initialize({});b.contentField=this._contentField;a.attach(b);a.title.sync(b.title);return a},getMapTipCalloutId:function(){var a="MapTipResultsCallout";this._allowMultiple?a+=this._count++:this.app.commandRegistry.command("HideMapElement").execute(a);return a},
showMapTipInCallout:function(a,b,c){b=new geocortex.essentialsHtmlViewer.mapping.infrastructure.ShowMapElementArgs(a,b,this._mapTipContentView);b.delay=c;this.app.commandRegistry.command("ShowMapCallout").execute(b);this._mapTipContentView.viewModel.containerView=this._calloutViewMap[a];this._mapTipContentView.viewModel.calloutID=a},tryQueueCommand:function(a,b){return this._isPanning||this._isZooming?(this._pendingCommands.push({commandName:a,commandArgs:b}),true):false},tryRerunShowMapTipResults:function(a,
b,c){b.featureSets.unbind(c);this.app.commandRegistry.command("ShowMapTipResults").execute(b.id)},createView:function(a,b){return this.app.viewManager.createView({id:b,type:"geocortex.essentialsHtmlViewer.mapping.modules.maptips."+a,markup:this.libraryId+"/modules/MapTips/"+a+".html",visible:true,libraryId:this.libraryId})}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.Menu.MenuModule",geocortex.framework.application.ModuleBase,{app:null,constructor:function(a){this.app=a},initialize:function(a){this.app.menuRegistry.loadMenus(a)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.native.AttachPhotoView",geocortex.framework.ui.ViewBase,{constructor:function(){},handleTakeNativePhotoWithCamera:function(){this.viewModel.handleTakePhoto(true)},handleTakeNativePhotoWithGallery:function(){this.viewModel.handleTakePhoto(false)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.native.AttachPhotoViewModel",geocortex.framework.ui.ViewModelBase,{_attachPhotoViewId:null,feature:null,mode:null,constructor:function(){this.feature=new Observable(null);this.mode=new Observable("");this.app.commandRegistry.command("AttachPhotoToFeature").register(this,this._executeAttachPhoto)},initialize:function(a){this._attachPhotoViewId=a.attachPhotoViewId;this.mode.set("cordova")},handleTakePhoto:function(a,b){if(!navigator.camera){var c=
this.app.getResource(this.libraryId,"language-no-photo-no-camera-detected");this.app.commandRegistry.command("Alert").execute(c);navigator.camera={getPicture:function(a){a("iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAONJREFUeNq0lcEKwjAMhmeZFz142MW9jxdfQB+h762Cgk5wIB526FJoIZQs3WoS+A8b7PtGk7Yr51ylWaZSLnVBLQ201vo130IGnzq8lOLHhn4hLaSTXKJ0Wu6QxijBY+2NIvwoMUUcvIM8jCL8+k+TZ8H9mBpNONUD//EGspaApwK8SRpCshiOBeQmQZIieG5Mo4SC93PgWLBjJBT8BHlCLhwcC37hcMpVhL8gN8ibg2PBEP6klYSnPeAkRXCqyVOScwl8aopSySE8L4ZzVyaW+An7lMBzd3KU9PF+LTkVRwEGAMxla+k/68SdAAAAAElFTkSuQmCC")}}}var d=
this;navigator.camera.getPicture(function(a){d._handleReceivePhotoData(a,b||function(a){typeof a==="Error"&&d.app.commandRegistry.command("Alert").execute(a.toString())})},null,{quality:60,destinationType:typeof Camera!=="undefined"&&Camera.DestinationType?Camera.DestinationType.DATA_URL:1,correctOrientation:true})},_handleReceivePhotoData:function(a,b){this.app.trace.debug("Received {0} encoded characters from the camera.".format(a.length));var c=this.feature.get();c.esriFeature&&(c=c.esriFeature.get());
this.app.trace.debug("--- ESRI feature obtained.");var d=c.getLayer();if(!d||!d.isEditable())b(Error("Layer was not editable or did not have attachments enabled."));else{this.app.trace.debug("--- ESRI layer obtained.");var e=new Date,f=null;if(d.url)f=d.url;else if(d._essentialsMetadata)f=d._essentialsMetadata.serviceUrl;this.app.trace.debug("--- Creating attachment descriptor.");c={feature:c,layer:d,featureUrl:f,filename:"image-{0}-{1}-{2}.jpg".format(e.getDay(),e.getMonth(),e.getFullYear()),contentType:"image/jpeg",
payload:a,callback:b};this.app.commandRegistry.command("CreateAttachment").execute(c)}},_executeAttachPhoto:function(a){this.feature.set(a);this.app.commandRegistry.command("ActivateView").execute(this._attachPhotoViewId)}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.native.NativeModule",geocortex.framework.application.ModuleBase,{constructor:function(){},initialize:function(){}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.offline.OfflineModule",geocortex.framework.application.ModuleBase,{_hooked_esri_request:null,_hooked_esri_getTileUrl:null,_hooked_esri_getImageUrl:null,_isOnline:null,_isActiveCaching:null,_offlineViewerId:null,_offlineSiteId:null,_index:null,_resourcesToAdd:null,_handlers:null,_rules:null,_rewriteRules:null,_ready:false,_onReadyConnect:null,_temporaryDevelopmentFlag_alwaysCreateNewIndex:false,_temporaryDevelopmentFlag_alwaysOverrideResources:true,
constructor:function(){this._offlineSiteId=this._offlineViewerId="__default";this._isOnline=new Observable(true);this._isActiveCaching=new Observable(false);this._handlers={};this._rules=[];this._rewriteRules=[]},initialize:function(){var a=this;this._isOnline.get=function(){return!a.app.isOffline.get()};this._isActiveCaching.set(false);this._loadResourceIndex();this._loadRoutingRules();this.app.commandRegistry.command("DownloadOfflineResources").register(this,function(a){this._provision(a)});this.app.commandRegistry.command("TakeApplicationOffline").register(this,
function(){this.app.isOffline.set(true)});this.app.commandRegistry.command("TakeApplicationOnline").register(this,function(){this.app.isOffline.set(false)});this.app.commandRegistry.command("ClearStorageForDomain").register(this,function(){this.app.store.clearAllData(function(){a.app.trace.info("Offline data cleared.");a.app.eventRegistry.event("DomainStorageClearedEvent").publish();var b=a.app.getResource(a.libraryId,"language-offline-data-cleared");a.app.commandRegistry.command("Alert").execute(b)},
function(b){a.app.trace.info("There was an error clearing offline data.");var c=a.app.getResource(a.libraryId,"language-offline-error-clearing-data");a.app.commandRegistry.command("Alert").execute(c.format(b))})});a=this;this.registerHandler("ServeSharedResource",function(b,c,d){a._serveSharedResource.apply(a,arguments)});this.registerHandler("ServeNonSharedResource",function(b,c,d){a._serveNonSharedResource.apply(a,arguments)});this.registerHandler("Fail",function(b,c,d){a._failRequest.apply(a,arguments)});
this.registerHandler("Rewrite",function(b,c,d){a._rewriteRequest.apply(a,arguments)});esri._request?(this._hooked_esri_request=esri._request,a=this,esri._request=function(b,c){return a._isOnline.get()===true?a._hooked_esri_request.apply(esri,[b,c]):a._handleOfflineRequest(b,c)},this._hooked_esri_getTileUrl=esri.layers.ArcGISTiledMapServiceLayer._meta.hidden.getTileUrl,this._esri__tileLoadHandler=esri.layers.ArcGISTiledMapServiceLayer.superclass._tileLoadHandler,esri.layers.ArcGISTiledMapServiceLayer.extend({getTileUrl:function(b,
c,d){b=a._hooked_esri_getTileUrl.apply(this,[b,c,d]);return a._isOnline.get()===true?b:(c=a._matchAndRewrite(b))?c:b},_tileLoadHandler:function(b){a._esri__tileLoadHandler.apply(this,[b])}}),this._hooked_esri_getImageUrl=esri.layers.ArcGISDynamicMapServiceLayer._meta.hidden.getImageUrl,esri.layers.ArcGISDynamicMapServiceLayer.extend({getImageUrl:function(b,c,d,e){a._isOnline.get()===true?a._hooked_esri_getImageUrl.apply(this,arguments):a._hooked_esri_getImageUrl.apply(this,[b,c,d,function(b){var c=
a._matchAndRewrite(b);e&&e(c?c:b)}])}})):this.app.trace.warning("Offline module could not hook into ESRI API.")},_matchAndRewrite:function(a){for(var b=0;b<this._rewriteRules.length;++b){var c=this._rewriteRules[b],d=RegExp(c.pattern).exec(a);if(d&&d.length&&d.length>0)return this._rewriteRequest(null,c,d)}return null},registerHandler:function(a,b){this._handlers[a]=b},_downloadBundle:function(a){var b=this;dojo.xhrGet({url:a,load:function(a){b._startUpdatingResources(a)},error:function(){b.app.trace.error("There was an error fetching a bundle resource for offline use: {0}".format(a));
var c=b.app.getResource(b.libraryId,"language-offline-viewer-provisioning-failed");b.app.commandRegistry.command("Alert").execute(c)},preventCache:true})},_startUpdatingResources:function(a){this._index=null;var b=dojo.fromJson(a);if(!b||!b.id)return this.app.trace.error("Downloaded an invalid bundle."),false;var c=this;this.app.store.get("{0}.{1}.__index".format(this._offlineSiteId,this._offlineViewerId),function(a){c._temporaryDevelopmentFlag_alwaysCreateNewIndex&&(a=null);a?a=dojo.fromJson(a):
(a=new geocortex.essentialsHtmlViewer.mapping.modules.offline.OfflineResourceIndex,a.siteId=c._offlineSiteId,a.viewerId=c._offlineViewerId);c._index=a;c._indexBundleContents.apply(c,[b])},function(a){c._isOnline.get()===false&&c.app.trace.error("Offline storage failed while trying to start the application in an offline state: {0}".format(a))})},_indexBundleContents:function(a){var b=this;if(this._index&&a){this._resourcesToAdd={};for(var c in a.resources)if(a.resources.hasOwnProperty(c)){var d=a.resources[c],
e=d.isShared===true?d.key:"{0}.{1}.{2}".format(this._offlineSiteId,this._offlineViewerId,d.key);d.key=e;if(!this._index.entries.hasOwnProperty(d.key)||!(d.timestamp<=this._index.entries[d.key].timestamp)||this._temporaryDevelopmentFlag_alwaysOverrideResources)this._resourcesToAdd[e]=new geocortex.essentialsHtmlViewer.mapping.modules.offline.OfflineResourceEntry(d),this._index.entries[e]=new geocortex.essentialsHtmlViewer.mapping.modules.offline.OfflineResourceEntry(d),delete this._index.entries[e].value}b=
this;this.app.store.set(this._offlineSiteId+"."+this._offlineViewerId+".__index",dojo.toJson(this._index),function(){b.app.trace.debug("Created and saved offline storage index for viewer '{0}'.".format(b._offlineViewerId));b._addBundleResources(a)},function(a,c){b.app.trace.error("Could not save offline storage index for viewer '{0}': {1}".format(b._offlineViewerId,c));var d=b.app.getResource(b.libraryId,"language-offline-bundle-index-error");b.app.commandRegistry.command("Alert").execute(d.format(c))})}},
_addBundleResources:function(){function a(a){c.app.trace.debug("Offline resource '{0}' saved.".format(a));--d;if(d<=0)c._resourcesToAdd=[],a=e?c.app.getResource(c.libraryId,"language-offline-provisioning-succeeded"):c.app.getResource(c.libraryId,"language-offline-provisioning-failed"),c.app.commandRegistry.command("Alert").execute(a),c._loadResourceIndex(),c._loadRoutingRules()}function b(a,b){c.app.trace.warning("Failed to save offline resource '{0}': {1}.".format(a,b));--d;e=false;c.index&&c._index.entries&&
c._index.entries.hasOwnProperty(a)&&delete c._index.entries[a];if(d<=0){c._resourcesToAdd=[];var f=c.app.getResource(c.libraryId,"language-offline-provisioning-failed");c.app.commandRegistry.command("Alert").execute(f)}}var c=this,d=0,e=true,f;for(f in this._resourcesToAdd)if(this._resourcesToAdd.hasOwnProperty(f)){d+=1;var g=this._resourcesToAdd[f],h=g.value;typeof h==="object"&&(h=dojo.toJson(h));this.app.store.set(g.key,h,a,b)}},_provision:function(a){var b=this;dojo.xhrGet({url:a,load:function(a){a=
"Resources/Bundled/"+dojo.fromJson(a)[0].bundleId+".json.js";b._downloadBundle(a)},error:function(){b.app.trace.error("There was an error fetching the bundle manifest for offline use: {0}".format(a));var c=b.app.getResource(b.libraryId,"language-offline-viewer-provisioning-failed");b.app.commandRegistry.command("Alert").execute(c)},preventCache:true})},_loadResourceIndex:function(){var a=this;this.app.store.get("{0}.{1}.__index".format(this._offlineSiteId,this._offlineViewerId),function(b){if(b)try{a._index=
new geocortex.essentialsHtmlViewer.mapping.modules.offline.OfflineResourceIndex(dojo.fromJson(b))}catch(c){a.app.trace.error("Could not load offline resource index, an error occurred while parsing the resource index: {0}".format(c)),a._index=new geocortex.essentialsHtmlViewer.mapping.modules.offline.OfflineResourceIndex}else a._index=new geocortex.essentialsHtmlViewer.mapping.modules.offline.OfflineResourceIndex},function(b){a._isOnline.get()===false&&a.app.trace.warning("An error occurred while attempting to fetch offline request routing rules: {0}".format(b))})},
onReady:function(){this._ready=true},_loadRoutingRules:function(){var a=this;this.app.store.get("{0}.{1}.__routing".format(this._offlineSiteId,this._offlineViewerId),function(b){if(b){b=dojo.fromJson(b);a._rules=[];a._rewriteRules=[];for(var c=0;c<b.length;++c){var d=new geocortex.essentialsHtmlViewer.mapping.modules.offline.RoutingRule(b[c]);a._rules.push(d);b[c].handlerName==="Rewrite"&&a._rewriteRules.push(d)}a.onReady()}else a.app.trace.debug("No offline request routing table was found.")},function(b){a._isOnline.get()===
false&&a.app.trace.warning("An error occurred while attempting to fetch offline request routing rules: {0}".format(b))})},_handleOfflineRequest:function(a,b){function c(){for(var c=new geocortex.essentialsHtmlViewer.mapping.modules.offline.RequestContext(a,d,b),f=false,g=0;g<this._rules.length;++g){var h=this._rules[g],k=RegExp(h.pattern).exec(c.url);if(k&&k.length&&k.length>0){var j=this._handlers[h.handlerName];if(j){f=true;try{if(j(c,h,k)===false)f=false;else break}catch(l){this.app.trace.warning("Offline request failed for resource '{0}': {1}".format(a.url,
l));d.errback(Error("Offline request failed"));break}}}}if(!f)if(this._isOnline.get()===true)return this._hooked_esri_request(a,b);else this.app.trace.warning("Offline request failed for resource '{0}'.".format(a.url))}var d=new dojo.Deferred;this._ready?c.apply(this,[]):this._onReadyConnect=dojo.connect(this,"onReady",function(){c.apply(this,[])});return d},_failRequest:function(a){a.dfd.reject()},_rewriteRequest:function(a,b,c){a=b.parameters.newUrl;return a=a.format.apply(a,c)},_serveNonSharedResource:function(a,
b,c){return this._serveResourceImpl(a,b,c,false)},_serveSharedResource:function(a,b,c){return this._serveResourceImpl(a,b,c,true)},_serveResourceImpl:function(a,b,c,d){var e=this;if(!b.parameters||!b.parameters.key)return false;var f=b.parameters.key,f=f.format.apply(f,c);d||(f="{0}.{1}.{2}".format(this._offlineSiteId,this._offlineViewerId,f));this.app.store.get(f,function(b){if(b){var c=e._index.entries[f];c?(c.isEncoded===true&&(b=geocortex.framework.utils.base64Decode(b)),c.isJson===true&&(b=dojo.fromJson(b)),
setTimeout(function(){a.dfd.resolve.apply(a.dfd,[b])},10)):e.app.trace.warning("Missing metadata for offline resource '{0}'.".format(f))}else e.app.trace.warning("Missing offline resource '{0}'.".format(f))},function(a){e.app.trace("Error occurred fetching resource offline: {0}"+a)});return true}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.offline.OfflineResourceEntry",null,{key:null,constructor:function(a){a?dojo.safeMixin(this,a):this.key=""}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.offline.OfflineResourceIndex",null,{siteId:null,viewerId:null,generated:null,entries:null,constructor:function(a){a?dojo.mixin(this,a):(this.viewerId=this.siteId="_default",this.entries={})},addEntry:function(a){this.entries.push(a)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.offline.RequestContext",null,{constructor:function(a,b,c){a&&dojo.mixin(this,a);this.dfd=b||new dojo.Deferred;this.options=c||null},url:null,dfd:null,options:null,content:null,format:null,deepInitialize:null,callbackName:null,timeout:null,preventCache:null,handle:null,handleAs:null});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.offline.RoutingRule",null,{constructor:function(a){a&&dojo.mixin(this,a)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.prompt.PromptModule",geocortex.framework.application.ModuleBase,{promptRegion:"ModalWindowRegion",oldPrompt:null,initialize:function(a){this.inherited(arguments);this.promptRegion=a.promptRegion;this.oldPrompt=window.prompt;this.app.commandRegistry.command("Prompt").register(this,function(a){var c=this.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.modules.prompt.PromptView",markup:"Mapping/modules/Prompt/PromptView.html",
visible:false,region:this.promptRegion,libraryId:this.libraryId}),d=a.title;d||(d=this.app.getResource(this.libraryId,"language-prompt-default-title"));a.promptText=new Observable(a.defaultText);c.attach(a);c.title.set(d);this.app.viewManager.activateView(c)})}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.prompt.PromptView",geocortex.framework.ui.ViewBase,{hasSubscribed:false,promptResult:null,attach:function(a){this.inherited(arguments);this.promptResult=null;this.title.set(a.promptTitle);this.okButtonElement&&this.okButtonElement.focus();if(!this.hasSubscribed)this.hasSubscribed=true,this.app.eventRegistry.event("ViewContainerViewClosedEvent").subscribe(this,function(a){a&&a.viewId===this.id&&this._deactivateForUser()})},handleClickOk:function(){if(this.viewModel)this.promptResult=
this.viewModel.promptText.get();this._deactivateForUser();return false},handleClickCancel:function(){this.promptResult=null;this._deactivateForUser();return false},_deactivateForUser:function(){this.app.viewManager.deactivateView(this);this.app.viewManager.destroyView(this);this.viewModel&&this.viewModel.callback&&this.viewModel.callback(this.promptResult)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.results.FeatureSetManagerView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.results.FeatureSetManagerView",geocortex.framework.ui.ViewBase,{activated:function(){this.inherited(arguments);this.title.set("Feature Set Collection Manager")}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.results.FeatureSetManagerViewModel",geocortex.framework.ui.ViewModelBase,{featureSetCollections:null,constructor:function(){this.featureSetCollections=this.app.featureSetManager.featureSetCollections},initialize:function(a){this.inherited(arguments)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.results.ResultsFeatureActionsView",geocortex.framework.ui.ViewBase,{handleMenuItemClick:function(a,b,c){c.execute(this.viewModel.currentFeature.get())},handleGetDescription:function(a,b,c){b.title=c.description.get()}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.results.ResultsListView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.results.ResultsListView",geocortex.essentialsHtmlViewer.mapping.modules.results.ResultsViewBase,{_featureSetsBindingToken:null,_scrollTop:null,constructor:function(){this.featureClickedEventName="ResultsListFeatureClickedEvent";this.featurePressedEventName="ResultsListFeaturePressedEvent";this._scrollTop=0;this.registerCommands()},activated:function(){this.inherited(arguments);if(this.resultsList){var a=this.resultsList;setTimeout(function(){dojo.style(a,
{display:"block"})},1)}},attach:function(a){this.title.sync(a.headerText);this.isBusy.sync(a.isBusy);a.rlvIsPaged=this.configuration.isPaged!=void 0?new Observable(this.configuration.isPaged):new Observable(a.defaultIsPaged);a.rlvPageSize=this.configuration.pageSize?new Observable(this.configuration.pageSize):new Observable(a.defaultPageSize);a.rlvResultsPage=new ObservableCollection;a.rlvPageControlsEnabled=new Observable(false);a.rlvResultsList=new Observable("results-list");a.rlvPageNumber=new Observable(1);
a.rlvMaxPageNumber=new Observable(1);a.rlvPageStartIdx=new Observable(0);a.rlvPageEndIdx=new Observable(0);a.rlvResultsTotal=new Observable(0);a.rlvPageNumber.bind(this,this.syncPage);a.rlvPageSize.bind(this,this.syncPage);a.featureSetCollection.bind(this,this.addSyncHandlerToFSC);this.scrollViewTop(this._scrollTop);this.inherited(arguments)},registerCommands:function(){this.app.commandRegistry.command("ShowResultsList").register(this,function(a){if(a=typeof a==="string"?this.app.featureSetManager.getCollectionById(a):
a)this._featureSetsBindingToken&&this.viewModel.featureSetCollection.get()&&this.viewModel.featureSetCollection.get().featureSets.unbind(this._featureSetsBindingToken),this.viewModel.featureSetCollection.set(a);this.viewModel.showMaster.set(true);this.app.viewManager.activateView(this)})},addSyncHandlerToFSC:function(){if(this.viewModel.featureSetCollection&&this.viewModel.featureSetCollection.get()&&this.viewModel.featureSetCollection.get().featureSets)this.viewModel.rlvPageNumber.set(1),this._featureSetsBindingToken=
this.viewModel.featureSetCollection.get().featureSets.bind(this,this.syncPage)},syncPage:function(){if(this.viewModel.featureSetCollection&&this.viewModel.featureSetCollection.get()&&this.viewModel.featureSetCollection.get().featureSets&&this.viewModel.featureSetCollection.get().featureSets.get()){var a=[],b=0;dojo.forEach(this.viewModel.featureSetCollection.get().featureSets.get(),function(c){c&&c.features&&c.features.get()&&(b+=c.features.get().length,a=a.concat(c.features.get()))});var c,d,e,f;
if(this.viewModel.rlvIsPaged.get()){c=(this.viewModel.rlvPageNumber.get()-1)*this.viewModel.rlvPageSize.get();d=c+this.viewModel.rlvPageSize.get();if(d>a.length)d=a.length;e=a.slice(c,d);f=parseInt(1+(a.length-1)/this.viewModel.rlvPageSize.get())}else c=0,d=a.length,e=a.slice(c,d),f=1;f<=1?(this.viewModel.rlvPageControlsEnabled.set(false),this.viewModel.rlvResultsList.set("results-list")):(this.viewModel.rlvPageControlsEnabled.set(true),this.viewModel.rlvResultsList.set("results-list paged"));this.viewModel.rlvResultsPage.clear();
this.viewModel.rlvResultsPage.addItems(e);this.viewModel.rlvPageStartIdx.set(c+1);this.viewModel.rlvPageEndIdx.set(d);this.viewModel.rlvResultsTotal.set(a.length);this.viewModel.rlvMaxPageNumber.set(f);this.viewModel.updateHeaderText(b)}},handlePageFirst:function(){this.viewModel.rlvPageNumber.get()!=1&&(this.viewModel.rlvPageNumber.set(1),this.scrollViewTop())},handlePagePrev:function(){this.viewModel.rlvPageNumber.get()!=1&&(this.viewModel.rlvPageNumber.set(this.viewModel.rlvPageNumber.get()-1),
this.scrollViewTop())},handlePageNext:function(){this.viewModel.rlvMaxPageNumber.get()>this.viewModel.rlvPageNumber.get()&&(this.viewModel.rlvPageNumber.set(this.viewModel.rlvPageNumber.get()+1),this.scrollViewTop())},handlePageLast:function(){this.viewModel.rlvPageNumber.get()!=this.viewModel.rlvMaxPageNumber.get()&&(this.viewModel.rlvPageNumber.set(this.viewModel.rlvMaxPageNumber.get()),this.scrollViewTop())},handleScrollChange:function(a,b,c){if(c)this._scrollTop=b.scrollTop},getDescription:function(a,
b,c){b.title=c.description.get()},scrollViewTop:function(a){if(this.scrollContainerElement)this.scrollContainerElement.scrollTop=a||0}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.results.ResultsModule");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.results.ResultsModule",geocortex.framework.application.ModuleBase,{resultMappings:null,initialize:function(a){this.inherited(arguments);if(a)this.resultMappings=a.resultMappings;this.wireUpResultMapping();this.wireUpConfiguredEventHandlers(a)},wireUpResultMapping:function(){this.app.eventRegistry.event("FSMCollectionOpenedEvent").subscribe(this,this.fsmCollectionOpenedHandler)},fsmCollectionOpenedHandler:function(a){a=a.featureSetCollection;
if(this.resultMappings){var b=this.resultMappings[a.sourceName];if(b)for(var c=0;c<b.length;c++)this.app.commandRegistry.command(b[c]).execute(a.id)}},wireUpConfiguredEventHandlers:function(a){for(var b in a.eventMappings)for(var c in a.eventMappings[b])this.wireUpConfiguredEventHandler(b,c,a)},wireUpConfiguredEventHandler:function(a,b,c){var d=c.eventMappings[a][b];this.app.eventRegistry.event(a).subscribe(this,function(a){this.app.commandRegistry.command(d).execute(a)})}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.results.ResultsTableView",geocortex.essentialsHtmlViewer.mapping.modules.results.ResultsViewBase,{_featureSetsBindingToken:null,_emptyFeatureSet:null,constructor:function(a){this.featureClickedEventName="ResultsTableFeatureClickedEvent";this.featurePressedEventName="ResultsTableFeaturePressedEvent";this.inherited(arguments);this._emptyFeatureSet=new FeatureSet;this.registerCommands()},attach:function(a){this.title.sync(a.headerText);this.isBusy.sync(a.isBusy);
a.rtvIsPaged=this.configuration.isPaged!=void 0?new Observable(this.configuration.isPaged):new Observable(a.defaultIsPaged);a.rtvPageSize=this.configuration.pageSize?new Observable(this.configuration.pageSize):new Observable(a.defaultPageSize);a.rtvCurFeatureSet=new Observable(this._emptyFeatureSet);a.rtvTabControlsEnabled=new Observable(false);a.rtvResultsPage=new ObservableCollection;a.rtvPageControlsEnabled=new Observable(false);a.rtvResultsTable=new Observable("results-table");a.rtvPageNumber=
new Observable(1);a.rtvMaxPageNumber=new Observable(1);a.rtvPageStartIdx=new Observable(0);a.rtvPageEndIdx=new Observable(0);a.rtvResultsTotal=new Observable(0);a.rtvPageNumber.bind(this,this.syncPage);a.rtvPageSize.bind(this,this.syncPage);a.rtvCurFeatureSet.bind(this,this.syncPage);a.featureSetCollection.bind(this,this.addSyncHandlerToFSC);this.inherited(arguments)},registerCommands:function(){this.app.commandRegistry.command("ShowResultsTable").register(this,function(a){if(this.featureSetCollection=
a=typeof a==="string"?this.app.featureSetManager.getCollectionById(a):a)this._featureSetsBindingToken&&this.viewModel.featureSetCollection.get()&&this.viewModel.featureSetCollection.get().featureSets.unbind(this._featureSetsBindingToken),this.viewModel.featureSetCollection.set(a),this.viewModel.headerText.set(a.displayName.get()?a.displayName.get():this.app.getResource(this.libraryId,"language-common-results"));this.app.commandRegistry.command("ActivateView").execute("ResultsTableView")})},addSyncHandlerToFSC:function(){if(this.viewModel.featureSetCollection&&
this.viewModel.featureSetCollection.get()&&this.viewModel.featureSetCollection.get().featureSets&&this.viewModel.featureSetCollection.get().featureSets.get()){this.viewModel.featureSetCollection.get().featureSets.get().length>1?this.viewModel.rtvTabControlsEnabled.set(true):this.viewModel.rtvTabControlsEnabled.set(false);this.viewModel.rtvPageNumber.set(1);var a;a=this.viewModel.featureSetCollection.get().featureSets.getAt(0)?this.viewModel.featureSetCollection.get().featureSets.getAt(0):this._emptyFeatureSet;
a!==this.viewModel.rtvCurFeatureSet.get()&&(this.viewModel.rtvCurFeatureSet.get().isSelectedInCollection.set(false),a.isSelectedInCollection.set(true),this.viewModel.rtvCurFeatureSet.set(a));this._featureSetsBindingToken=this.viewModel.featureSetCollection.get().featureSets.bind(this,this.syncPage)}},syncPage:function(){if(this.viewModel.featureSetCollection&&this.viewModel.featureSetCollection.get()&&this.viewModel.featureSetCollection.get().featureSets&&this.viewModel.featureSetCollection.get().featureSets.get()){this.viewModel.featureSetCollection.get().featureSets.length()>
1?this.viewModel.rtvTabControlsEnabled.set(true):this.viewModel.rtvTabControlsEnabled.set(false);this.viewModel.rtvCurFeatureSet.get()===this._emptyFeatureSet&&this.viewModel.featureSetCollection.get().featureSets.getAt(0)&&(this.viewModel.rtvCurFeatureSet.get().isSelectedInCollection.set(false),this.viewModel.featureSetCollection.get().featureSets.getAt(0).isSelectedInCollection.set(true),this.viewModel.rtvCurFeatureSet.set(this.viewModel.featureSetCollection.get().featureSets.getAt(0)));var a,b,
c,d;this.viewModel.rtvIsPaged.get()?(a=(this.viewModel.rtvPageNumber.get()-1)*this.viewModel.rtvPageSize.get(),b=a+this.viewModel.rtvPageSize.get(),b>this.viewModel.rtvCurFeatureSet.get().features.getLength()&&(b=this.viewModel.rtvCurFeatureSet.get().features.getLength()),c=this.viewModel.rtvCurFeatureSet.get().features.get().slice(a,b),d=parseInt(1+(this.viewModel.rtvCurFeatureSet.get().features.getLength()-1)/this.viewModel.rtvPageSize.get())):(a=0,b=this.viewModel.rtvCurFeatureSet.get().features.getLength(),
c=this.viewModel.rtvCurFeatureSet.get().features.get().slice(a,b),d=1);d<=1?(this.viewModel.rtvPageControlsEnabled.set(false),this.viewModel.rtvResultsTable.set("results-table")):(this.viewModel.rtvPageControlsEnabled.set(true),this.viewModel.rtvResultsTable.set("results-table paged"));this.viewModel.rtvResultsPage.clear();this.viewModel.rtvResultsPage.addItems(c);this.viewModel.rtvPageStartIdx.set(a+1);this.viewModel.rtvPageEndIdx.set(b);this.viewModel.rtvResultsTotal.set(this.viewModel.rtvCurFeatureSet.get().features.getLength());
this.viewModel.rtvMaxPageNumber.set(d);var e=0;dojo.forEach(this.viewModel.featureSetCollection.get().featureSets.get(),function(a){a&&a.features&&a.features.get()&&(e+=a.features.get().length)});this.viewModel.updateHeaderText(e)}},handleTabClick:function(a,b,c){if((a=dojo.filter(this.viewModel.featureSetCollection.get().featureSets.get(),function(a){return a.uniqueId===c.uniqueId}))&&a[0])this.viewModel.rtvCurFeatureSet.get().isSelectedInCollection.set(false),a[0].isSelectedInCollection.set(true),
this.viewModel.rtvPageNumber.set(1),this.viewModel.rtvCurFeatureSet.set(a[0]),this.scrollViewTop()},handlePageFirst:function(){this.viewModel.rtvPageNumber.get()!=1&&(this.viewModel.rtvPageNumber.set(1),this.scrollViewTop())},handlePagePrev:function(){this.viewModel.rtvPageNumber.get()!=1&&(this.viewModel.rtvPageNumber.set(this.viewModel.rtvPageNumber.get()-1),this.scrollViewTop())},handlePageNext:function(){this.viewModel.rtvMaxPageNumber.get()>this.viewModel.rtvPageNumber.get()&&(this.viewModel.rtvPageNumber.set(this.viewModel.rtvPageNumber.get()+
1),this.scrollViewTop())},handlePageLast:function(){this.viewModel.rtvPageNumber.get()!=this.viewModel.rtvMaxPageNumber.get()&&(this.viewModel.rtvPageNumber.set(this.viewModel.rtvMaxPageNumber.get()),this.scrollViewTop())},handleClickFeature:function(a,b,c){this.app.eventRegistry.event("ResultsTableFeatureClickedEvent").publish(c)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.results.ResultsViewModel");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.results.ResultsViewModel",geocortex.framework.ui.ViewModelBase,{headerText:null,featureSetCollection:null,app:null,libraryId:null,featureActions:null,currentFeature:null,showMaster:null,isBusy:null,defaultIsPaged:true,defaultPageSize:50,constructor:function(a,b){this.app=a;this.libraryId=b;this.headerText=new Observable(this.app.getResource(this.libraryId,"language-common-results"));this.featureSetCollection=new Observable;this.featureActions=
new ObservableCollection;this.currentFeature=new Observable;this.showMaster=new Observable(true);this.isBusy=new Observable(false);this.registerCommand();this.app.eventRegistry.event("FSMCollectionOpenedEvent").subscribe(this,this._openFSC);this.app.eventRegistry.event("FSMCollectionClosedEvent").subscribe(this,this._closeFSC)},initialize:function(){},updateHeaderText:function(a){var b=null,c="";a&&(c=" ("+a+")");this.featureSetCollection.get()&&(b=this.featureSetCollection.get().displayName.get());
this.headerText.set((b?b:this.app.getResource(this.libraryId,"language-common-results"))+c)},_openFSC:function(a){this.featureSetCollection.get()&&a&&a.featureSetCollectionId&&a.featureSetCollectionId==this.featureSetCollection.get().id&&this.isBusy.set(true)},_closeFSC:function(a){this.featureSetCollection.get()&&a&&a.featureSetCollectionId&&a.featureSetCollectionId==this.featureSetCollection.get().id&&this.isBusy.set(false)},registerCommand:function(){var a=this;this.app.commandRegistry.command("ShowResultsListFeatureAction").register(this,
function(b){a.currentFeature.set(b);a.getResultsFeatureActions();a.app.commandRegistry.command("ActivateView").execute("ResultsFeatureActionsView")})},getResultsFeatureActions:function(){this.featureActions.clear();var a=this.app.menuRegistry.getMenu("ResultsListFeatureAction"),b=this.app.menuRegistry.getDefaultIconUri("ResultsListFeatureAction");if(a){if(this.featureActions.addItems(a),b)for(a=0;a<this.featureActions.getLength();a++)this.featureActions.getAt(a).iconUri.get()||this.featureActions.getAt(a).iconUri.set(b)}else throw Error("Results Feature Actions not found");
}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.search.ArcGisGeocodeSearchProvider",geocortex.essentialsHtmlViewer.mapping.infrastructure.search.SearchProviderBase,{constructor:function(){this.name="ArcGIS Geocode";this.description="Search provider for the ArcGIS Geocode Service.";this.isEnabled=true;this._searchCancelState={};this.iconUri="Resources/Images/Icons/pin-blue-32.png";this.singleLineField=null;this.defaultZoomScale=8E3;this.minimumScore=70},_intSearchUniqueID:0,_currentSearchID:null,_searchCancelState:null,
_geocoder:null,_offlineSwitchToken:null,initialize:function(a){this.inherited(arguments);if(a&&a.url)this.locatorUrl=a.url;if(a&&a.iconUri)this.iconUri=a.iconUri;if(a&&a.defaultZoomScale)this.defaultZoomScale=a.defaultZoomScale;if(a&&a.singleLineField)this.singleLineField=a.singleLineField;if(a&&a.minimumScore)this.minimumScore=a.minimumScore;!this.singleLineField&&this.locatorUrl&&(this.app.site&&this.app.site.isInitialized?this._loadGeocodeDefinition():this.app.eventRegistry.event("SiteInitializedEvent").subscribe(this,
function(){this._loadGeocodeDefinition()}))},_loadGeocodeDefinition:function(){var a=this;this.app.isOffline.get()?this._offlineSwitchToken=this.app.eventRegistry.event("ApplicationOnlineEvent").subscribe(this,function(){a.app.eventRegistry.event("ApplicationOnlineEvent").unsubscribe(a._offlineSwitchToken);a._loadGeocodeDefinition()}):!this.singleLineField&&this.locatorUrl&&esri.request({url:this.locatorUrl+"?f=json"}).then(function(b){b&&b.singleLineAddressField&&b.singleLineAddressField.name?a.singleLineField=
b.singleLineAddressField.name:a.app.trace.error("ArcGIS geocode server does not support single address line query: '"+a.locatorUrl+"'.")},function(b){a.app.trace.error("Unable to retrieve geocode server information at: '"+a.locatorUrl+"': "+b.message)})},_getGeocoder:function(){if(!this._geocoder&&(this._geocoder=new esri.tasks.Locator(this.locatorUrl),this.app&&this.app.map))this._geocoder.outSpatialReference=this.app.map.spatialReference;return this._geocoder},iconUri:null,locatorUrl:null,minimumScore:null,
defaultZoomScale:null,singleLineField:null,search:function(a,b){var c=this,d=this._intSearchUniqueID++;this._currentSearchID=d;this._searchCancelState[d]=false;var e=new geocortex.essentialsHtmlViewer.mapping.infrastructure.search.SearchProgressEventArgs;e.results=a;e.error=null;e.message="";var f=function(){c.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE};if(a)if(b)if(this.singleLineField){c.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING;
var g=this._getGeocoder(),h={};h[this.singleLineField]=b;var h={address:h},k=parseInt(this.minimumScore);if(!isNaN(k)&&(k<0||k>100))k=null;g.addressToLocations(h).then(function(b){if(!c._searchCancelState[d]&&b.length>0){var g=new FeatureSet;g.iconUri.set(c.iconUri);g.attributes.addItem(new FeatureAttribute("","address","address",c.app.getResource(c.libraryId,"language-search-arcgis-address")));g.attributes.addItem(new FeatureAttribute("","score","score",c.app.getResource(c.libraryId,"language-search-arcgis-score")));
g.displayName.set(c.name);dojo.forEach(b,function(a){if(isNaN(k)||a.score>=k){attributes={address:a.address,score:a.score};var b=new esri.Graphic(a.location,null,attributes),b=new Feature({graphic:b,allowUnsafeContent:c.app.configuration.allowUnsafeContent});b.label.set(a.address);b.zoomScale.set(c.defaultZoomScale);b.description.set("Score: "+a.score);g.addFeature(b)}});g.features.length()>0&&a.featureSets.addItem(g)}f();e.status=c.status;c.app.eventRegistry.event("SearchProgress").publish(e);c.app.eventRegistry.event("SearchInProgressEvent").publish(e)},
function(a){f();if(!c._searchCancelState[d])e.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR,e.error=a,e.message=a.message,c.app.eventRegistry.event("SearchProgress").publish(e),c.app.eventRegistry.event("SearchInProgressEvent").publish(e)})}else this.app.trace.error("ArcGIS Geocode Search Provider: Cannot perform search with a service that doesn't support single address line queries.");else this.app.trace.error("ArcGIS Geocode Search Provider: Cannot perform search without search text.");
else this.app.trace.error("ArcGIS Geocode Search Provider: Cannot perform search without a feature set collection.")},cancelSearch:function(){if(this.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING)this._searchCancelState[this._currentSearchID]=true}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.search.BingGeocodeSearchProvider",geocortex.essentialsHtmlViewer.mapping.infrastructure.search.SearchProviderBase,{constructor:function(){this.name="Bing Geocode";this.description="Search provider for the Bing Geocode Service.";this.isEnabled=true;this._searchCancelState={};this.iconUri="Resources/Images/Icons/pin-red-32.png"},_intSearchUniqueID:0,_currentSearchID:null,_searchCancelState:null,_bingGeocoder:null,initialize:function(a){this.inherited(arguments);
if(a&&a.bingMapsKey)this.bingMapsKey=a.bingMapsKey;this.culture=a&&a.culture?a.culture:!this.culture&&this.app.locale?this.app.locale:"en-US";if(a&&a.iconUri)this.iconUri=a.iconUri},_getGeocoder:function(){if(!this._bingGeocoder)this._bingGeocoder=new esri.virtualearth.VEGeocoder({bingMapsKey:this.bingMapsKey,culture:this.culture});return this._bingGeocoder},iconUri:null,bingMapsKey:null,culture:null,search:function(a,b){var c=this,d=this._intSearchUniqueID++;this._currentSearchID=d;this._searchCancelState[d]=
false;var e=new geocortex.essentialsHtmlViewer.mapping.infrastructure.search.SearchProgressEventArgs;e.results=a;e.error=null;e.message="";var f=function(){c.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE};a?b?(c.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING,this._getGeocoder().addressToLocations(b).then(function(b){if(!c._searchCancelState[d]&&b.length>0){var h=new FeatureSet;h.iconUri.set(c.iconUri);h.attributes.addItem(new FeatureAttribute("",
"addressLine","addressLine",c.app.getResource(c.libraryId,"language-search-bing-address")));h.attributes.addItem(new FeatureAttribute("","adminDistrict","adminDistrict",c.app.getResource(c.libraryId,"language-search-bing-admin-district")));h.attributes.addItem(new FeatureAttribute("","countryRegion","countryRegion",c.app.getResource(c.libraryId,"language-search-bing-country")));h.attributes.addItem(new FeatureAttribute("","district","district",c.app.getResource(c.libraryId,"language-search-bing-district")));
h.attributes.addItem(new FeatureAttribute("","formattedAddress","formattedAddress",c.app.getResource(c.libraryId,"language-search-bing-formatted")));h.attributes.addItem(new FeatureAttribute("","locality","locality",c.app.getResource(c.libraryId,"language-search-bing-locality")));h.attributes.addItem(new FeatureAttribute("","postalCode","postalCode",c.app.getResource(c.libraryId,"language-search-bing-postal-code")));h.attributes.addItem(new FeatureAttribute("","postalTown","postalTown",c.app.getResource(c.libraryId,
"language-search-bing-postal-town")));h.displayName.set(c.name);dojo.forEach(b,function(a){attributes=dojo.fromJson(dojo.toJson(a.address));delete attributes.declaredClass;var b=new esri.Graphic(esri.geometry.geographicToWebMercator(a.location),null,attributes),b=new Feature({graphic:b,allowUnsafeContent:c.app.configuration.allowUnsafeContent});b.label.set(a.address.formattedAddress);b.description.set("Score: "+a.confidence);b.zoomExtent.set(esri.geometry.geographicToWebMercator(a.bestView));h.addFeature(b)});
a.featureSets.addItem(h)}f();e.status=c.status;c.app.eventRegistry.event("SearchProgress").publish(e);c.app.eventRegistry.event("SearchInProgressEvent").publish(e)},function(a){f();if(!c._searchCancelState[d]){var b="Bing Geocode error: "+a.message;e.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR;e.error=a;e.message=b;c.app.trace.error(b);c.app.eventRegistry.event("SearchProgress").publish(e);c.app.eventRegistry.event("SearchInProgressEvent").publish(e)}})):this.app.trace.error("Bing Geocode Search Provider: Cannot perform search without search text."):
this.app.trace.error("Bing Geocode Search Provider: Cannot perform search without a feature set collection.")},cancelSearch:function(){if(this.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING)this._searchCancelState[this._currentSearchID]=true}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.search.LayerSearchProvider",geocortex.essentialsHtmlViewer.mapping.infrastructure.search.SearchProviderBase,{constructor:function(){this.name="Map Services";this.description="Search provider for searching a Geocortex site's map services.";this.isEnabled=true;this.exactMatch=false;this.returnGeometry=true;this._searchCancelState={}},_intSearchUniqueID:0,_currentSearchID:null,_searchCancelState:null,initialize:function(a){this.inherited(arguments);
if(a&&a.exactMatch)this.exactMatch=true;if(a&&a.hasOwnProperty("returnGeometry"))this.returnGeometry=a.returnGeometry},exactMatch:null,returnGeometry:null,search:function(a,b){var c=this,d=0,e=this._intSearchUniqueID++;this._currentSearchID=e;this._searchCancelState[e]=false;var f=new geocortex.essentialsHtmlViewer.mapping.infrastructure.search.SearchProgressEventArgs;f.results=a;f.error=null;f.message="";var g=function(){if(d==0)c.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.IDLE},
h=function(h){var j=[],k;for(k=0;k<h.fields.length;k++)h.fields[k].searchable&&j.push(h.fields[k].name);k=h.mapService.serviceLayer.url;h.mapService.mapServiceType===geocortex.essentials.MapServiceType.FEATURE&&(k=k.substr(0,k.lastIndexOf("/")),k=k.replace("/FeatureServer","/MapServer"));findTask=new esri.tasks.FindTask(k);findParams=new esri.tasks.FindParameters;findParams.returnGeometry=c.returnGeometry;findParams.layerIds=[parseInt(h.id)];findParams.contains=!c.exactMatch;findParams.searchFields=
j;findParams.outSpatialReference=c.app.map.spatialReference;findParams.searchText=b;f.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING;c.app.eventRegistry.event("SearchProgress").publish(f);c.app.eventRegistry.event("SearchInProgressEvent").publish(f);d++;findTask.execute(findParams).then(function(b){if(!c._searchCancelState[e]){var j=new esri.tasks.FeatureSet;dojo.forEach(b,function(a){geocortex.essentialsHtmlViewer.mapping.infrastructure.GraphicUtils.sanitizeAttributeNames(a.feature,
h);j.displayFieldName=a.displayFieldName;j.features.push(a.feature)});j.features.length>0&&(b=new FeatureSet({esriFeatureSet:j,layer:h,allowUnsafeContent:c.app.configuration.allowUnsafeContent}),a.featureSets.addItem(b))}d--;g();f.status=c.status;c.app.eventRegistry.event("SearchProgress").publish(f);c.app.eventRegistry.event("SearchInProgressEvent").publish(f)},function(b){d--;g();c._searchCancelState[e]||c._handleError(b,a,h.displayName)})};if(a)if(!b||b.replace(" ","")=="")this._handleError(Error("Cannot perform search without search text."),
a);else if(!this.app.site||!this.app.site.isInitialized)this._handleError(Error("The site needs to be initialized before a search is performed."),a);else{var k=this.app.site.essentialsMap.filteredLayers(),j,l=[];for(j=0;j<k.length;j++)k[j].searchable&&this._layerTypeSupported(k[j])&&l.push(k[j]);if(l.length==0)this._handleError(Error("No layers to search. Make sure you mark some layers as searchable in your site."),a);else{c.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING;
for(j=0;j<l.length;j++)h(l[j])}}else this._handleError(Error("Cannot perform search without a feature set collection."),a)},_handleWarning:function(a,b,c){var c="Layer Search Provider"+(c?" ("+c+"): ":": ")+a.message,d=new geocortex.essentialsHtmlViewer.mapping.infrastructure.search.SearchProgressEventArgs;d.results=b;d.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR;d.error=a;d.message=c;this.app.trace.warning(c);this.app.eventRegistry.event("SearchProgress").publish(d);
this.app.eventRegistry.event("SearchInProgressEvent").publish(d)},_handleError:function(a,b,c){var c="Layer Search Provider"+(c?" ("+c+"): ":": ")+a.message,d=new geocortex.essentialsHtmlViewer.mapping.infrastructure.search.SearchProgressEventArgs;d.results=b;d.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.ERROR;d.error=a;d.message=c;this.app.trace.error(c);this.app.eventRegistry.event("SearchProgress").publish(d);this.app.eventRegistry.event("SearchInProgressEvent").publish(d)},
_layerTypeSupported:function(a){return!a||!a.mapService?false:a.mapService.mapServiceType===geocortex.essentials.MapServiceType.DYNAMIC?true:a.mapService.mapServiceType===geocortex.essentials.MapServiceType.TILED?true:a.mapService.mapServiceType===geocortex.essentials.MapServiceType.FEATURE?true:false},cancelSearch:function(){if(this.status=geocortex.essentialsHtmlViewer.mapping.infrastructure.search.Status.SEARCHING)this._searchCancelState[this._currentSearchID]=true}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.search.SearchModule",geocortex.framework.application.ModuleBase,{app:null,autoLoadSiteGeocoders:null,constructor:function(a){this.app=a;this.autoLoadSiteGeocoders=true},initialize:function(a){var b=this;a&&a.searchProviders&&dojo.forEach(a.searchProviders,function(a){var d=dojo.getObject(a.type);if(d){d=new d(b.app);d.libraryId=b.libraryId;d.initialize(a.configuration);if(a.hasOwnProperty("enable"))d.isEnabled=a.enable;if(a.hasOwnProperty("name"))d.name=
a.name;if(a.hasOwnProperty("description"))d.description=a.description;b.app.commandRegistry.command("RegisterSearchProvider").execute(d)}});if(a&&a.hasOwnProperty("autoLoadSiteGeocoders")&&a.autoLoadSiteGeocoders==false)this.autoLoadSiteGeocoders=false;this.autoLoadSiteGeocoders&&(this.app.site&&this.app.site.isInitialized?this._loadGeocoders():this.app.eventRegistry.event("SiteInitializedEvent").subscribe(this,function(){this._loadGeocoders()}))},_loadGeocoders:function(){if(this.app.site&&this.app.site.isInitialized&&
this.app.site.geocodingEndpoints&&this.app.site.geocodingEndpoints.length>0)for(var a=0;a<this.app.site.geocodingEndpoints.length;a++){var b=this.app.site.geocodingEndpoints[a];if(b.geocoderType==geocortex.essentials.GeocodingEndpointType.BING_GEOCODER){var c=new geocortex.essentialsHtmlViewer.mapping.modules.search.BingGeocodeSearchProvider(this.app);c.libraryId=this.libraryId;c.name=b.displayName;c.initialize({});c.bingMapsKey=b.bingProperties.bingMapsKey;if(b.bingProperties.culture)c.culture=b.bingProperties.culture;
this.app.commandRegistry.command("RegisterSearchProvider").execute(c)}else if(b.geocoderType==geocortex.essentials.GeocodingEndpointType.ARCGIS_GEOCODER)c=new geocortex.essentialsHtmlViewer.mapping.modules.search.ArcGisGeocodeSearchProvider(this.app),c.libraryId=this.libraryId,c.locatorUrl=b.geocoderUrl,c.name=b.displayName,c.minimumScore=70,c.initialize({}),this.app.commandRegistry.command("RegisterSearchProvider").execute(c)}}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.search.SearchView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.search.SearchView",geocortex.framework.ui.ViewBase,{constructor:function(){},handleKeyDown:function(a,b){if(!dojo.isIE&&(a.which?a.which:a.keyCode)==13&&b.value)b.blur(),this.app.commandRegistry.command("Search").execute(b.value);return true},handleSearchClick:function(){this.viewModel.searchText.get()&&this.app.commandRegistry.command("Search").execute(this.viewModel.searchText.get())}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.search.SearchViewModel",geocortex.framework.ui.ViewModelBase,{searchText:null,enableUI:null,constructor:function(){this.searchText=new Observable("");this.enableUI=new Observable(false);this.app.site&&this.app.site.isInitialized?this.enableUI.set(true):this.app.eventRegistry.event("SiteInitializedEvent").subscribe(this,function(){this.enableUI.set(true)})}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.shells.CommonShellView",geocortex.framework.ui.ViewBase,{_waitForEsc:null,_escTimer:null,constructor:function(){this._waitForEsc=false;this._escTimer=null},attach:function(){this.inherited(arguments);window&&dojo.connect(window,"onkeyup",this,this.handleKeyUp);this.app.eventRegistry.event("ViewActivatedEvent").subscribe(this,function(a){a.declaredClass=="geocortex.essentialsHtmlViewer.mapping.modules.map.MapView"&&this.app.commandRegistry.command("CloseModalRegion").execute()})},
handleKeyUp:function(a){if(a.shiftKey===true&&a.keyCode===27)if(this._waitForEsc)this._waitForEsc=false,this.app.commandRegistry.command("ToggleLogView").execute();else{this._waitForEsc=true;var b=this;this._escTimer=setTimeout(function(){b._waitForEsc=false},1E3)}else a.ctrlKey===true&&a.shiftKey===true&&a.keyCode===192&&this.app.commandRegistry.command("ToggleLogView").execute();return true},scrollToTop:function(){window.scrollTo&&window.scrollTo(0,0)},handleCloseModalRegionClick:function(){this.app.modalRegionSingleton&&
this.app.modalRegionSingleton.deactivateActiveView()}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.shells.CommonShellViewModel",geocortex.framework.ui.ViewModelBase,{});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.shells.DataFrameTabView",geocortex.framework.ui.ViewBase,{attach:function(a){this.inherited(arguments)},handleClickTab:function(){this.app.commandRegistry.command("ToggleDataFrame").execute()}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.shells.DataFrameTabViewModel",geocortex.framework.ui.ViewModelBase,{dataFrameOpen:null,constructor:function(){this.dataFrameOpen=new Observable(false)},initialize:function(a){this.inherited(arguments);this.app.eventRegistry.event("DataFrameOpenedEvent").subscribe(this,function(){this.dataFrameOpen.set(true)});this.app.eventRegistry.event("DataFrameClosedEvent").subscribe(this,function(){this.dataFrameOpen.set(false)})}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.shells.HandheldShellView",geocortex.essentialsHtmlViewer.mapping.modules.shells.CommonShellView,{constructor:function(){},attach:function(){this.inherited(arguments);this.app.eventRegistry.event("ViewActivatedEvent").subscribe(this,function(a){this.resizeShell();a.declaredClass=="geocortex.essentialsHtmlViewer.mapping.modules.map.MapView"&&(window.scrollTo&&window.scrollTo(0,0),this.app.viewManager.activateView(this))});this.app.eventRegistry.event("ViewDeactivatedEvent").subscribe(this,
function(){this.resizeShell()});this.app.eventRegistry.event("ApplicationResizedEvent").subscribe(this,function(){this.resizeShell()});this.resizeShell();if(!(this.configuration&&this.configuration.disableHideAddressBar===true)){var a=this.root,b=navigator.userAgent,c=~b.indexOf("iPhone")||~b.indexOf("iPod"),d=~b.indexOf("iPad"),e=c||d,f=window.navigator.standalone,g=~b.indexOf("Android"),h=~b.indexOf("Android 4"),k=0;if(g&&!h)window.onscroll=function(){a.style.height=window.innerHeight+"px"};var j=
window.onload=function(){if(e){var b=document.documentElement.clientHeight;c&&!f&&(b+=60);a.style.height=b+"px"}else if(g&&!h)a.style.height=window.innerHeight+56+"px";setTimeout(scrollTo,0,0,1)};(window.onresize=function(){var b=a.offsetWidth;k!=b&&(k=b,j())})()}},resizeShell:function(){if(this.screenRegionElement&&this.bannerContainerElement){var a=dojo.window.getBox(),b=this.screenRegionElement,c=dojo.position(this.bannerContainerElement);dojo.style(b,"height",a.h-(c?c.h:50)+"px")}}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.shells.LargeShellView",geocortex.essentialsHtmlViewer.mapping.modules.shells.CommonShellView,{dataFrameAwaitsViewModel:null,constructor:function(a){this.app=a;this._hostedViewCount=0;this.app.eventRegistry.event("ViewActivatedEvent").subscribe(this,function(a){this.resizeAll();a.id==="MapView"&&this.scrollToTop();(a=this.app.viewManager.getRegionForViewId(a.id))&&a.name==="LeftPanelRegion"&&this.app.commandRegistry.command("OpenDataFrame").execute()});
this.app.eventRegistry.event("ViewDeactivatedEvent").subscribe(this,function(){this.resizeAll()});this.app.eventRegistry.event("ApplicationResizedEvent").subscribe(this,function(){this.resizeAll()});this.app.commandRegistry.command("ActivateView").register(this,function(a){(a=this.app.viewManager.getRegionForViewId(a))&&a.name==="LeftPanelRegion"&&this.app.commandRegistry.command("OpenDataFrame").execute();a&&a.name==="BottomPanelRegion"&&this.app.commandRegistry.command("OpenBottomRegion").execute()});
this.app.commandRegistry.command("OpenDataFrame").register(this,this._executeOpenLeftPanel);this.app.commandRegistry.command("CloseDataFrame").register(this,this._executeCloseLeftPanel);this.app.commandRegistry.command("ToggleDataFrame").register(this,this._executeToggleLeftPanel);this.app.commandRegistry.command("OpenResultsFrame").register(this,this._executeOpenBottomRegion);this.app.commandRegistry.command("CloseResultsFrame").register(this,this._executeCloseBottomRegion);this.app.commandRegistry.command("ToggleResultsFrame").register(this,
this._executeToggleButtonRegion);this.app.eventRegistry.event("RegionActivatedEvent").subscribe(this,function(a){a.name==="LeftPanelRegion"&&this._activateDataRegion(true);a.name==="BottomPanelRegion"&&this._activateBottomRegion(true)});this.app.eventRegistry.event("RegionDeactivatedEvent").subscribe(this,function(a){a.name==="LeftPanelRegion"&&this._activateDataRegion(false);a.name==="BottomPanelRegion"&&this._activateBottomRegion(false)})},_activateDataRegion:function(a){typeof a==="boolean"&&(a?
this._executeOpenLeftPanel():this._executeCloseLeftPanel(),this.viewModel&&this.viewModel.dataFrameHasViews.set(a))},_activateBottomRegion:function(a){typeof a==="boolean"&&(a?this._executeOpenBottomRegion():this._executeCloseBottomRegion(),this.viewModel&&this.viewModel.bottomRegionHasViews.set(a))},attach:function(){this.inherited(arguments);if(this.dataFrameAwaitsViewModel)this._activateDataRegion(true),this.dataFrameAwaitsViewModel=false,this.resizeAll()},handleClickCloseDataFrame:function(){this.app.commandRegistry.command("CloseDataFrame").execute()},
handleClickDataRegionTab:function(){this.app.commandRegistry.command("OpenDataFrame").execute()},resizeAll:function(){this.resizeShell();this.resizeScreenRegion()},resizeScreenRegion:function(){if(this.viewModel){var a=dojo.window.getBox(),b=this.screenRegionElement,c=this.bannerContainerElement;if(c&&b){var d=this.viewModel.dataFrameIsOpen.get()?this.viewModel.dataFrameWidth.get():0,e=this.viewModel.bottomRegionIsOpen.get()?this.viewModel.bottomRegionHeight.get():0,a=a.w-d;dojo.position(c);dojo.style(b,
"top","0px");dojo.style(b,"width",a+"px");dojo.style(b,"right",0);dojo.style(b,"bottom",e+"px");if(this.centerElement){var f=this.centerElement;setTimeout(function(){dojo.style(f,{display:"block"})},0)}this.app.commandRegistry.command("MapResize").execute()}}},resizeShell:function(){if(this.viewModel){dojo.window.getBox();var a=this.bannerContainerElement,b=this.mainElement,c=this.leftElement,d=this.centerElement,e=this.bottomElement,a=(a=a?dojo.position(a):null)?a.h:0,f=this.viewModel.dataFrameIsOpen.get()?
this.viewModel.dataFrameWidth.get():0,g=this.viewModel.bottomRegionIsOpen.get()?this.viewModel.bottomRegionHeight.get():0;dojo.style(b,"top",a+"px");dojo.style(b,"bottom",g+"px");dojo.style(c,"width",f+"px");dojo.style(d,"left",f+"px");dojo.style(e,"height",g+"px")}},_executeOpenLeftPanel:function(){if(this.viewModel){if(this.viewModel.dataFrameIsOpen.get()===false){this.viewModel.dataFrameIsOpen.set(true);var a=this.leftElement;a&&(this.app.commandRegistry.command("RecenterMapOnNextMapResize").execute(),
dojo.removeClass(a,"panel-closed"),dojo.addClass(a,"panel-open"),this.resizeAll());this.app.eventRegistry.event("DataFrameOpenedEvent").publish();this.app.eventRegistry.event("ApplicationResizeEvent").publish();this.app.eventRegistry.event("ApplicationResizedEvent").publish()}}else this.dataFrameAwaitsViewModel=true},_executeCloseLeftPanel:function(){if(this.viewModel&&this.viewModel.dataFrameIsOpen.get()===true){this.viewModel.dataFrameIsOpen.set(false);var a=this.leftElement;a&&(this.app.commandRegistry.command("RecenterMapOnNextMapResize").execute(),
dojo.removeClass(a,"panel-open"),dojo.addClass(a,"panel-closed"),this.resizeAll());this.app.eventRegistry.event("DataFrameClosedEvent").publish();this.app.eventRegistry.event("ApplicationResizeEvent").publish();this.app.eventRegistry.event("ApplicationResizedEvent").publish()}},_executeToggleLeftPanel:function(){this.viewModel.dataFrameIsOpen.get()===false?this.app.commandRegistry.command("OpenDataFrame").execute():this.app.commandRegistry.command("CloseDataFrame").execute()},_executeOpenBottomRegion:function(){if(this.viewModel&&
this.viewModel.bottomRegionIsOpen.get()===false){this.viewModel.bottomRegionIsOpen.set(true);var a=this.bottomElement;a&&(this.app.commandRegistry.command("RecenterMapOnNextMapResize").execute(),dojo.removeClass(a,"panel-closed"),dojo.addClass(a,"panel-open"),this.resizeAll());this.app.eventRegistry.event("ResultsRegionOpenedEvent").publish();this.app.eventRegistry.event("ApplicationResizeEvent").publish();this.app.eventRegistry.event("ApplicationResizedEvent").publish()}},_executeCloseBottomRegion:function(){if(this.viewModel&&
this.viewModel.bottomRegionIsOpen.get()===true){this.viewModel.bottomRegionIsOpen.set(false);var a=this.bottomElement;a&&(this.app.commandRegistry.command("RecenterMapOnNextMapResize").execute(),dojo.removeClass(a,"panel-open"),dojo.addClass(a,"panel-closed"),this.resizeAll());this.app.eventRegistry.event("ResultsRegionClosedEvent").publish();this.app.eventRegistry.event("ApplicationResizeEvent").publish();this.app.eventRegistry.event("ApplicationResizedEvent").publish()}},_executeToggleButtonRegion:function(){this.viewModel.bottomRegionIsOpen.get()===
false?this.app.commandRegistry.command("OpenBottomRegion").execute():this.app.commandRegistry.command("CloseBottomRegion").execute()}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.shells.LargeShellViewModel",geocortex.framework.ui.ViewModelBase,{dataFrameIsOpen:null,dataFrameHasViews:null,dataFrameWidth:null,bottomRegionIsOpen:null,bottomRegionHasViews:null,bottomRegionHeight:null,constructor:function(){this.dataFrameIsOpen=new Observable(false);this.dataFrameHasViews=new Observable(false);this.dataFrameWidth=new Observable(300);this.bottomRegionIsOpen=new Observable(false);this.bottomRegionHasViews=new Observable(false);
this.bottomRegionHeight=new Observable(300)},initialize:function(a){if(a.dataFrameWidth)this.dataFrameWidth=new Observable(parseInt(a.dataFrameWidth));if(a.bottomRegionHeight)this.bottomRegionHeight=new Observable(parseInt(a.bottomRegionHeight))}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.shells.ShellModule",geocortex.framework.application.ModuleBase,{});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.EventMapper",null,{constructor:function(a,b){this.app=a;this.eventMappings=b||{};this._wireUpEvents()},eventMappings:null,app:null,_wireUpEvents:function(){if(this.eventMappings){var a=null,b=null;for(a in this.eventMappings){var c=this.eventMappings[a];for(b in c)this._handleEvent(b,c[b])}}},_handleEvent:function(a,b){b&&this.app.eventRegistry.event(a).subscribe(this,function(a){var d=b.commandName,e=b.commandParameter||
a;if(d)this.app.commandRegistry.command(d).execute(e);else if(b&&b.length>0)for(d=0;d<b.length;d++)this.app.commandRegistry.command(b[d]).execute(a)})}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.LayerViewModel");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.LayerViewModel",geocortex.framework.ui.ViewModelBase,{layerList:null,layerModel:null,layerId:null,visible:null,displayName:null,canNotAssignVisibility:null,enabledCss:null,enabledCheckboxCss:null,tooltip:null,constructor:function(a){this.layerList=new ObservableCollection;this.displayName=new Observable;this.visible=new Observable(false);this.canNotAssignVisibility=new Observable(false);this.toolTip=new Observable("");this.enabledCss=
new Observable("");this.enabledCheckboxCss=new Observable("");this.layerModel=a},initialize:function(a){this.inherited(arguments)},setVisibility:function(a){this.layerModel.setVisibility(a);this.visible.set(this.layerModel.isVisible())},setAccessability:function(a){a?(this.enabledCss.set("layer-info layer-enabled"),this.enabledCheckboxCss.set("enabled")):(this.enabledCss.set("layer-info layer-disabled"),this.enabledCheckboxCss.set("disabled"))},processLayer:function(a){if(a){this.layerModel=a;this.layerId=
a.id;this.visible=new Observable(a.isVisible());var b=true;a.mapService&&a.mapService.mapServiceType===geocortex.essentials.MapServiceType.TILED&&(b=false);this.displayName.set(a.displayName);this.canNotAssignVisibility.set(!b);this.enabledCss.set("");this.enabledCheckboxCss.set("");this.toolTip.set("")}},addSubLayer:function(a){this.layerList.addItem(a)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.MapServiceViewModel");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.MapServiceViewModel",geocortex.framework.ui.ViewModelBase,{mapService:null,layerList:null,serviceId:null,displayName:null,hideServiceName:null,serviceLayersCss:null,visible:null,iconUri:null,tooltip:null,constructor:function(a){var b="layers";this.layerList=new ObservableCollection;this.serviceId=new Observable;this.displayName=new Observable;this.hideServiceName=new Observable(a);a&&(b="flat-layers");this.serviceLayersCss=
new Observable(b);this.toolTip=new Observable("");this.visible=new Observable;this.iconUri=new Observable},initialize:function(a){this.inherited(arguments);this.toolTip.set("")},setVisibility:function(a){this.mapService.setVisibility(a);this.visible.set(this.mapService.isVisible())},applyToLayerTree:function(a,b){var c=this;dojo.forEach((a||this.layerList).get(),function(a){var e=a.layerList;b(a);e&&e.getLength()>0&&c.applyToLayerTree(e,b)})},_recursLayers:function(a,b){var c=a.layerModel;if(c.includeInLayerList&&
(b&&b.addSubLayer(a),c=c.subLayerIds||[],c.length>0))for(var d=0;d<c.length;d++){var e=this._getModelLayerById(c[d]);e.processed=true;var f=new geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.LayerViewModel;f.processLayer(e);this._recursLayers(f,a)}},_traverseLayers:function(a){var b=[],c=null;dojo.forEach(a,function(a){a.includeInLayerList&&!a.processed&&(c=new geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.LayerViewModel,c.processLayer(a),this._recursLayers(c,null),
b.push(c))},this);this.layerList.addItems(b)},loadLayers:function(a){a?(this.mapService=a,this.setVisibility(a.isVisible()),this.serviceId.set(a.id),this.displayName.set(a.displayName),a.iconUri&&this.iconUri.set(a.iconUri),a.mapServiceFunction!=="Base"&&a.mapServiceType!==geocortex.essentials.MapServiceType.GEORSS&&(this._traverseLayers(a.layers),this.enableVisibleLayersWithinScale())):this.app.trace.error("Error processing MapServiceViewModel.loadLayers. - map service is not provided.")},_getModelLayerById:function(a){var b=
dojo.filter(this.mapService.layers||[],function(b){return b.id===a});return b.length>0?b[0]:null},getLayerById:function(a){return this._getLayerRecursivelyById(a,this.layerList.get())},_getLayerRecursivelyById:function(a,b){for(var c=null,d=null,c=0;c<b.length;c++)if(d=b[c],d.layerId===a)return d;else if(d.layerList.getLength()>0&&(d=this._getLayerRecursivelyById(a,d.layerList.get())))return d},_enableLayers:function(a,b){dojo.forEach(a,function(a){var d=a.layerModel.withinScaleRange(b);a.setAccessability(d);
a.layerList&&a.layerList.getLength()>0&&this._enableLayers(a.layerList.get(),b)},this)},enableVisibleLayersWithinScale:function(){if(this.mapService){var a=this.mapService.essentialsMap.site.essentialsMap.calculateScale();this._enableLayers(this.layerList.get(),a)}}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.SimpleLayerListModule");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.SimpleLayerListModule",geocortex.framework.application.ModuleBase,{constructor:function(){},initialize:function(a){new geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.EventMapper(this.app,a)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.SimpleLayerListView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.SimpleLayerListView",geocortex.framework.ui.ViewBase,{initialized:false,title:null,_longPressTimer:null,_pressLengthMs:2E3,constructor:function(){this.title=new Observable;this.registerCommands()},registerCommands:function(){this.app.commandRegistry.command("ShowLayerList").register(this,function(){this.app.commandRegistry.command("ActivateView").execute(this.id)})},activated:function(){this.inherited(arguments);this.initialized||
this.initialize()},deactivated:function(){this.inherited(arguments)},attach:function(a){this.inherited(arguments);this.viewModel&&(this.initialized||this.initialize())},initialize:function(){if(!this.initialized&&this.viewModel&&this.root)this.title.set(this.app.getResource(this.libraryId,"language-layerlist-title")),this.app.eventRegistry.event("MapExtentChangeEvent").subscribe(this,function(){this.viewModel.filterInvisibleLayers()}),this.app.eventRegistry.event("SimpleLayerListLoadedEvent").subscribe(this,
function(){this.app.viewManager.notifyDimensionsChanged(this)}),this.initialized=true},toggleLayerVisibility:function(a,b,c){if(c)return this.app.eventRegistry.event("LayerClickedEvent").publish(c),this.app.eventRegistry.event("LayerPressedEvent").publish(c),this.viewModel.toggleLayerVisibility(c),true},toggleServiceVisibility:function(a,b,c){if(c)return this.app.eventRegistry.event("MapServiceClickedEvent").publish(c),this.app.eventRegistry.event("LayerPressedEvent").publish(c),this.viewModel.toggleServiceVisibility(c),
true},handleClickEvent:function(a,b){b.blur();b.focus();return true},handleTouchStart:function(){this._beginLongPress();return true},handleMouseDown:function(){this._beginLongPress();return true},handleTouchEnd:function(){this._cancelLongPress();return true},handleMouseUp:function(){this._cancelLongPress();return true},_beginLongPress:function(){this._longPressTimer&&clearTimeout(this._longPressTimer);var a=this;this._longPressTimer=setTimeout(function(){a.app.eventRegistry.event("LayerLongPressedEvent").publish()},
a._pressLengthMs)},_cancelLongPress:function(){if(this._longPressTimer)clearTimeout(this._longPressTimer),this._longPressTimer=null},handleClickClose:function(){this.app.viewManager.deactivateView(this)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.SimpleLayerListViewModel");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.SimpleLayerListViewModel",geocortex.framework.ui.ViewModelBase,{mapServices:null,hideOperationalMapServices:null,hideBaseMapServices:null,hideOperationalMapServiceNames:null,allowMultipleVisibleBaseMaps:null,constructor:function(){this.mapServices=new ObservableCollection},initialize:function(a){this.inherited(arguments);this.hideOperationalMapServices=a.hideOperationalMapServices||false;this.hideBaseMapServices=a.hideBaseMapServices||
false;this.hideOperationalMapServiceNames=a.hideOperationalMapServiceNames||false;this.allowMultipleVisibleBaseMaps=a.allowMultipleVisibleBaseMaps||false;this.app.eventRegistry.event("SiteInitializedEvent").subscribe(this,function(a){this._onSiteInitialized(a)})},_onSiteInitialized:function(a){var b=null;!a||!a.isInitialized?this.app.trace.error("Error processing SimpleLayerListModule._onSiteInitialized. - site was not initialized."):a.essentialsMap&&(b=a.essentialsMap.mapServices||[],b.length<=0||
(this._loadServiceLayers(b),this.app.eventRegistry.event("SimpleLayerListLoadedEvent").publish()))},_getMapServiceById:function(a){var b=this.mapServices.get()||[],b=dojo.filter(b,function(b){return b.serviceId.get()===a});return b.length>0?b[0]:null},_loadServiceLayers:function(a){var b=null,c=null,d=null;if(!a||a.length<=0)this.app.trace.error("Error processing SimpleLayerListViewModel.loadServiceLayers. - map services are not provided.");else{d=[];for(b=0;b<a.length;b++){var e=a[b],c=false;if(e.mapServiceFunction===
"Operational"){if(this.hideOperationalMapServices)continue;c=this.hideOperationalMapServiceNames}e.mapServiceFunction==="Base"&&this.hideBaseMapServices||(e.includeInLayerList||(c=true),c=new geocortex.essentialsHtmlViewer.mapping.modules.simplelayerlist.MapServiceViewModel(c),c.loadLayers(e),d.push(c))}this.mapServices.addItems(d)}},filterInvisibleLayers:function(){var a=this.mapServices.get()||[];dojo.forEach(a,function(a){a.enableVisibleLayersWithinScale()})},toggleServiceVisibility:function(a){if(a){var b=
this.mapServices.get()||[],c=!a.mapService.isVisible();c&&a.mapService.mapServiceFunction==="Base"&&!this.allowMultipleVisibleBaseMaps&&dojo.forEach(b,function(b){b.serviceId.get()!==a.serviceId.get()&&b.mapService.mapServiceFunction==="Base"&&b.setVisibility(false)});a.setVisibility(c);a.mapService.layers&&a.mapService.layers.length===1&&(b=a.layerList.get()[0])&&b.layerModel.type===geocortex.essentials.LayerType.FEATURE_LAYER&&b.setVisibility(c)}},toggleLayerVisibility:function(a){if(a){var b=this._getMapServiceById(a.layerModel.mapService.id),
c=!a.visible.get();if((a=b.getLayerById(a.layerId))&&!a.canNotAssignVisibility.get())a.setVisibility(c),b.mapService.layers&&b.mapService.layers.length===1&&a.layerModel.type===geocortex.essentials.LayerType.FEATURE_LAYER&&b.setVisibility(c)}}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.site.SiteModule");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.site.SiteModule",geocortex.framework.application.ModuleBase,{siteUri:"",proxyUri:"",essentialsSite:null,app:null,constructor:function(a){this.app=a},initialize:function(a){this.inherited(arguments);this.siteUri=a.siteUri;this.proxyUri=this.app.configuration.proxyUri||null;this.registerCommands()},registerCommands:function(){var a=this;this.app.commandRegistry.command("InitializeSite").register(this,function(b){var c=function(a,b){if(!(new dojo._Url(a)).host){var c=
b?b:"{0}//{1}{2}".format(window.location.protocol,window.location.host,window.location.pathname);if(c.charAt(c.length-1)!="/"||c.charAt(c.length-1)!="\\")c=c.split("/"),--c.length,c=c.join("/"),c+="/";if(a.charAt(0)=="/"||a.charAt(0)=="\\")a=window.location.protocol+"//"+window.location.host+"/"+a.substring(1);else{for(var d=c.split("/"),c=a.split("../"),k=0,j=0;j<c.length;++j)c[j]==""&&++k;d=d.slice(0,d.length-(k>0?k+1:k));c=c.slice(k>0?k-1:k);a=d.join("/")+c.join("/")}}return a}(a.siteUri);this.app.site=
new geocortex.essentials.Site(c,b);if(a.proxyUri)esri.config.defaults.io.proxyUrl=a.proxyUri;var d=this;dojo.connect(this.app.site,"onInitializationFailed",function(a){d.app.eventRegistry.event("SiteInitializationFailedEvent").publish(a);a=d.app.getResource(d.libraryId,"language-site-initialization-failure").format(a.message);d.app.trace.error(a);d.app.commandRegistry.command("Alert").execute(a)});dojo.connect(this.app.site,"onInitialized",function(){d.app.eventRegistry.event("SiteInitializedEvent").publish(d.app.site)});
dojo.connect(this.app.site,"onLayerLoad",function(a){d.app.eventRegistry.event("SiteLayerLoad").publish(a);d.app.eventRegistry.event("SiteLayerLoadedEvent").publish(a)});dojo.connect(this.app.site,"onLayerLoadError",function(a){d.app.eventRegistry.event("SiteLayerLoadError").publish(a);d.app.eventRegistry.event("SiteLayerLoadFailedEvent").publish(a)});dojo.connect(this.app.site,"onServiceLayersLoaded",function(a){d.app.eventRegistry.event("SiteServiceLayersLoaded").publish(a);d.app.eventRegistry.event("SiteServiceLayersLoadedEvent").publish(a)});
this.app.site.deepInitialize=true;this.app.site.initialize()})}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.status.StatusIndicatorView",geocortex.framework.ui.ViewBase,{constructor:function(){}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.status.StatusMessageView",geocortex.framework.ui.ViewBase,{constructor:function(){},handleClickClose:function(a,b,c){this.app.viewManager.destroyView(this);c&&c.userClosedCallback&&c.userClosedCallback.call(this,this)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.status.StatusMessageViewModel",geocortex.framework.ui.ViewModelBase,{text:null,imageUri:null,imageClass:null,timer:null,userClosedCallback:null,constructor:function(){this.text=new Observable;this.imageUri=new Observable;this.imageClass=new Observable},initialize:function(){}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.status.StatusModule");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.status.StatusModule",geocortex.framework.application.ModuleBase,{messageRegionName:"StatusIndicatorMessageRegion",statusViewName:"StatusIndicatorView",lastTestAddArgs:null,config:null,constructor:function(){this.app.commandRegistry.command("AddStatus").register(this,this.addStatus);this.app.commandRegistry.command("PulseStatus").register(this,this.pulseStatus);this.app.commandRegistry.command("RemoveStatus").register(this,this.removeStatus);
this.app.eventRegistry.event("ViewUnhostedEvent").subscribe(this,this.viewUnhostedHandler)},initialize:function(a){this.inherited(arguments);a||(a={});this.config=a;if(!a.busyIcon)a.busyIcon="Resources/Images/loader-small.gif"},viewInstanceCounter:0,addStatus:function(a){a=typeof a==="string"||a instanceof String?new geocortex.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a):a;this.app.commandRegistry.command("ActivateView").execute(this.statusViewName);var b=a.id?a.id:"StatusMessageView"+
this.viewInstanceCounter++,c=this.app.viewManager.getViewById(b),d=c?c.viewModel:null;c||(c=this.createView("StatusMessageView",b,this.messageRegionName));a.id=b;d||(d=new geocortex.essentialsHtmlViewer.mapping.modules.status.StatusMessageViewModel(this.app,this.libraryId),c.attach(d));d.text.set(a.text);d.imageUri.set(a.imageUri);d.imageClass.set(a.imageClass);d.userClosedCallback=a.userClosedCallback;a.showBusyIcon&&d.imageUri.set(this.config.busyIcon);if(d.timer)d.timer.reset();else if(a.timeoutMS&&
a.timeoutMS>0)d.timer=new geocortex.framework.utils.TimeDelayedAction(a.timeoutMS,function(){this.removeStatus(b)},this),d.timer.start()},pulseStatus:function(a){if(a&&(a=this.app.viewManager.getViewById(a)))(a=a.viewModel)&&a.timer&&a.timer.reset()},removeStatus:function(a){a?(a=this.app.viewManager.getViewById(a))&&this.app.viewManager.destroyView(a):(a=this.app.viewManager.getExistingRegionByName(this.messageRegionName),a.views.length>=1&&(a=a.views[a.views.length-1],this.app.viewManager.destroyView(a)))},
createView:function(a,b,c){return this.app.viewManager.createView({id:b,type:"geocortex.essentialsHtmlViewer.mapping.modules.status."+a,markup:this.libraryId+"/modules/Status/"+a+".html",visible:true,libraryId:this.libraryId,regionName:c})},viewUnhostedHandler:function(a){var b=a.region,a=a.view;b.name==this.messageRegionName&&(a&&a.viewModel&&a.viewModel.timer&&a.viewModel.timer.stop(),b.views.length==0&&this.app.commandRegistry.command("DeactivateView").execute(this.statusViewName))}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.toolbar.ToolbarManagedViewsView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.toolbar.ToolbarManagedViewsView",geocortex.framework.ui.ViewBase,{tileElements:null,constructor:function(){this.tileElements=[];this.app.eventRegistry.event("ViewActivatedEvent").subscribe(this,function(a){if(this.root&&a.id){if(this.viewModel&&this.viewModel.hostedViews&&!this.viewModel.hostedViews.contains(a))return false;this.handleViewActivated(a)}});this.app.eventRegistry.event("ViewDeactivatedEvent").subscribe(this,function(a){if(this.root&&
a.id){if(this.viewModel&&this.viewModel.hostedViews&&!this.viewModel.hostedViews.contains(a))return false;this.handleViewDeactivated(a)}})},handleViewActivated:function(a){for(var b=0;b<this.tileElements.length;++b)dojo.removeClass(this.tileElements[b],"tb-view-active");a=".{0}".format(a.id);(a=dojo.query(a,this.root)[0])&&dojo.addClass(a,"tb-view-active")},handleViewDeactivated:function(a){a=".{0}".format(a.id);(a=dojo.query(a,this.root)[0])&&dojo.removeClass(a,"tb-view-active")},handleViewTileClick:function(a,
b,c){this.app.commandRegistry.command("ActivateView").execute(c.id);this.app.eventRegistry.event("ToolbarViewTilePressedEvent").publish(c.id);return false}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.toolbar.ToolbarManagedViewsViewModel");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.toolbar.ToolbarManagedViewsViewModel",geocortex.framework.ui.ViewModelBase,{hostedViews:null,ordering:null,constructor:function(){this.hostedViews=new ObservableCollection([]);this.app.eventRegistry.event("ViewHostedEvent").subscribe(this,function(a){(a=a.view)&&a.isManaged&&this._addOrderedView(a)});var a=this.app.eventRegistry.event("ViewActivatedEvent").subscribe(this,function(b){if(b&&b.declaredClass==="geocortex.essentialsHtmlViewer.mapping.modules.toolbar.ToolbarManagedViewsView"){if(this.app.eventRegistry.event("ViewActivatedEvent").unsubscribe(a),
this.lastActivatedManagedView)var c=this,d=dojo.connect(b,"attach",function(){dojo.disconnect(d);b.handleViewActivated(c.lastActivatedManagedView)})}else if(b&&b.isManaged)this.lastActivatedManagedView=b});this.app.eventRegistry.event("ViewUnhostedEvent").subscribe(this,function(a){(a=a.view)&&a.isManaged&&this.hostedViews.removeItem(a)})},_addOrderedView:function(a){if(this.ordering){var b=a.id;if(b)if(b=this.ordering.hasOwnProperty(b)?parseInt(this.ordering[b]):null,b===null||b===void 0)this.hostedViews.addItem(a);
else{for(var c=false,d=0;d<this.hostedViews.getLength();++d){var e=this.hostedViews.getAt(d),e=this.ordering.hasOwnProperty(e.id)?parseInt(this.ordering[e.id]):null;if(e===null||b<=e){c=true;this.hostedViews.insertItem(d,a);break}}c||this.hostedViews.addItem(a)}else this.hostedViews.addItem(a)}else this.hostedViews.addItem(a)},initialize:function(a){if(a.hasOwnProperty("ordering"))this.ordering=a.ordering}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.toolbar.ToolbarModule");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.toolbar.ToolbarModule",geocortex.framework.application.ModuleBase,{});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.toolbar.ToolbarTabViewModel");dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.toolbar.ToolbarTabViewModel",geocortex.framework.ui.ViewModelBase,{tabText:null,innerViewModel:null,isVisible:null,constructor:function(){title=new Observable("Tab");isVisible=new Observable(false)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.toolbar.ToolbarView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.toolbar.ToolbarView",geocortex.framework.ui.ViewBase,{_longPressTimer:null,_pressLengthMs:2E3,handleTouchStart:function(){this._beginLongPress();return true},handleMouseDown:function(){this._beginLongPress();return true},handleTouchEnd:function(){this._cancelLongPress();return true},handleMouseUp:function(){this._cancelLongPress();return true},_beginLongPress:function(){this._longPressTimer&&clearTimeout(this._longPressTimer);var a=this;
this._longPressTimer=setTimeout(function(){a.app.commandRegistry.command("ActivateView").execute("LogView")},a._pressLengthMs)},_cancelLongPress:function(){if(this._longPressTimer)clearTimeout(this._longPressTimer),this._longPressTimer=null}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.toolbar.ToolbarViewModel");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.toolbar.ToolbarViewModel",geocortex.framework.ui.ViewModelBase,{toolbarVisible:null,constructor:function(a){this.toolbarVisible=new Observable(false);this.app.site!=null&&this.app.site.isInitialized?this.toolbarVisible.set(true):a.eventRegistry.event("SiteInitializedEvent").subscribe(this,function(){this.toolbarVisible.set(false)})}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.tools.ToolsModule");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.tools.ToolsModule",geocortex.framework.application.ModuleBase,{config:null,toolChangedHandlerToken:null,constructor:function(){this.toolChangedHandlerToken=this.app.eventRegistry.event("ActiveToolChangedEvent").subscribe(this,this.activeToolChanged)},initialize:function(a){this.inherited(arguments);a||(a={});(this.config=a)&&a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,true);if(!a.hasOwnProperty("showStatusMessages"))a.showStatusMessages=
true;this.config.showStatusMessages||this.app.eventRegistry.event("ActiveToolChangedEvent").unsubscribe(this.toolChangedHandlerToken)},activeToolChanged:function(a){if(this.config.showStatusMessages)if(!a||!a.tool)a=a.previousTool.name+"StatusMessageView",this.app.commandRegistry.command("RemoveStatus").execute(a);else{var b=a.tool;if(b.statusText){var a=b.name+"StatusMessageView",c=new geocortex.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(b.statusText);c.id=a;c.imageUri=
b.iconUri;c.timeoutMS=0;c.userClosedCallback=dojo.hitch(this,function(){b.setActive(false)});this.app.commandRegistry.command("AddStatus").execute(c)}}}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayCaptureGeometryView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayCaptureGeometryView",geocortex.framework.ui.ViewBase,{activityContext:null,workflowFormContent:null,attach:function(a){this.inherited(arguments);this.title.set(this.viewModel.title.get());this.app.eventRegistry.event("ViewActivatedEvent").publish(this);this.app.viewManager.notifyDimensionsChanged(this)},deactivated:function(){this.inherited(arguments);this._deactivated()},handleClickButton:function(a,b,c){this.viewModel.clearGraphics();
this.finishFormWithButton(c)},handleCaptureTypeSelection:function(a,b,c){this.viewModel.clearGraphics();this.viewModel.setDrawMode(this.app.map,c,b&&b.id==="CurrentExtent",this.id)},finishFormWithButton:function(a){this._processForm(this.activityContext,a)&&(this.workflowContainer&&this.workflowContainer.view&&(this.workflowContainer.hasContent.set(false),this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view)),this.app.viewManager.destroyView(this))},_processForm:function(a,b){var c=
null,d=null;if(b&&b.causesValidation&&b.causesValidation.get()){for(var c=this.viewModel.validate(),d=[],e=0;e<c.length;++e)c[e].isValid==false&&d.push(c[e]);if(d&&d.length>0)return this.viewModel.validationResults.set(d),false;else this.viewModel.validationResults.clear()}a.setValue("ButtonResultValue",b.value.get());a.completeActivity();return true},_deactivated:function(){this.viewModel.clearGraphics()}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayCaptureGeometryViewModel");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayCaptureGeometryViewModel",geocortex.framework.ui.ViewModelBase,{activityContext:null,validationResults:null,workflowFormContent:null,title:null,showTitleInFormBody:null,buttons:null,graphicsLayer:null,geometryTypeCssDictionary:null,showRequiredValidationMessage:null,showCapturedMessage:null,showCapturedGeometry:null,showCurrentExtentOption:null,geometryRequired:null,captureTypes:null,requiredMessage:null,currentExtentLabel:null,
currentExtentImage:null,inputGeometry:null,instructionMessage:null,formHeight:null,formWidth:null,defaultFormWidth:800,defaultFormHeight:600,defaultButton:null,app:null,drawType:null,toolbar:null,statusMessageID:"DisplayCaptureGeometryMessage",showCaptureStatusMessages:true,constructor:function(a){this.inherited(arguments);this.app=a;this.workflowFormContent=new Observable(null);this.title=new Observable(null);this.showTitleInFormBody=new Observable(false);this.buttons=new ObservableCollection([]);
this.formWidth=new Observable(this.defaultFormWidth);this.formHeight=new Observable(this.defaultFormHeight);this.showRequiredValidationMessage=new Observable(true);this.capturedMessageVisible=new Observable(false);this.showCapturedGeometry=new Observable(false);this.showCurrentExtentOption=new Observable(false);this.geometryRequired=new Observable(false);this.requiredMessage=new Observable(null);this.currentExtentLabel=new Observable(null);this.inputGeometry=new Observable(null);this.instructionMessage=
new Observable(null);this.captureTypes=new ObservableCollection;this.validationResults=new ObservableCollection;this.app.eventRegistry.event("ViewUnhostedEvent").subscribe(this,this.viewUnhostedHandler);this.app.trace.debug("DisplayCaptureGeometryViewModel: object constructed.")},initialize:function(a){var b=[],c=null,d=null,e=this.activityContext.getValue("CaptureTypes");a&&a.hasOwnProperty("showTitleInFormBody")&&this.showTitleInFormBody.set(a.showTitleInFormBody||false);for(a=0;a<e.length;a++){c=
e[a];if(c==="CurrentExtent")this.showCurrentExtentOption=new Observable(true);d={};d.typeName=c;d.selected=false;if(this.geometryTypeCssDictionary)d.className=this.geometryTypeCssDictionary[c];b.push(d)}this.captureTypes.addItems(b);this.inputGeometry=this.activityContext.getValue("InputGeometry");this.instructionMessage=this.activityContext.getValue("Message");this.requiredMessage=this.activityContext.getValue("RequiredMessage");this.currentExtentLabel=this.activityContext.getValue("CurrentExtentLabel")||
this.app.getResource(this.libraryId,"language-current_extent");this.showCapturedGeometry=this.activityContext.getValue("ShowCapturedGeometry");this.geometryRequired=this.activityContext.getValue("GeometryRequired");if(this.showCapturedGeometry)this.graphicsLayer=this.app.map.graphics;this.inputGeometry&&(this.addGraphic(this.inputGeometry,null,this.app.map),this.setCaptureResult(this.inputGeometry));c=this.activityContext.getValue("Buttons");b=[];if(c)for(a=0;a<c.length;a++){d=new geocortex.forms.FormButton(c[a].Label,
c[a].Value,c[a].CausesValidation,c[a].IsDefault);if(c[a].IsDefault)this.defaultButton=d;b.push(d)}else a=this.defaultButton=new geocortex.forms.FormButton("OK","OK",true,true),b.push(a),b.push(new geocortex.forms.FormButton("Cancel","Cancel",false,false));this.buttons=new ObservableCollection(b);this.app.trace.debug("DisplayCaptureGeometryViewModel: object initialized.");this.app.eventRegistry.event("MapMouseDownEvent").subscribe(this,function(a){a.which===3&&this.toolbar&&this.cleanUp()})},clearGraphics:function(){this.graphicsLayer&&
this.graphicsLayer.clear()},addGraphic:function(a,b,c){var d=null,d=null;if(this.showCapturedGeometry&&a&&c)b||(b=this._getDrawTool(c)),d=a.type,d=d==="point"||d==="multipoint"?b.markerSymbol:d==="line"||d==="polyline"?b.lineSymbol:b.fillSymbol,this.graphicsLayer.add(new esri.Graphic(a,d))},setCaptureResult:function(a){!a&&this.geometryRequired?this.showRequiredValidationMessage.set(true):(this.capturedMessageVisible.set(this.activityContext.getValue("ShowCapturedMessage")),this.showRequiredValidationMessage.set(false),
a.type==="extent"&&(a=geocortex.essentials.GeometryUtilities.envelopeToPolygon(a)),this.activityContext.setValue("Result",a))},_getDrawTool:function(a){if(this.toolbar==null)this.toolbar=new esri.toolbars.Draw(a,{showTooltips:false}),dojo.connect(this.toolbar,"onDrawEnd",dojo.hitch(this,this.drawEnd));return this.toolbar},_statusMessageID:"CaptureGeometryStatusMessage",setDrawMode:function(a,b,c){if(a)if(c)this.addGraphic(a.extent,null,a),this.setCaptureResult(a.extent);else if(esri.toolbars&&esri.toolbars.Draw){this.app.commandRegistry.command("ShowMap").execute();
a=this._getDrawTool(a);switch(b.typeName){case "Rectangle":this.drawType=esri.toolbars.Draw.EXTENT;break;case "FreehandPolygon":this.drawType=esri.toolbars.Draw.FREEHAND_POLYGON;break;case "FreehandPolyline":this.drawType=esri.toolbars.Draw.FREEHAND_POLYLINE;break;case "MapPoint":this.drawType=esri.toolbars.Draw.POINT;break;case "MultiPoint":this.drawType=esri.toolbars.Draw.MULTI_POINT;break;case "Polygon":this.drawType=esri.toolbars.Draw.POLYGON;break;case "Polyline":this.drawType=esri.toolbars.Draw.POLYLINE;
break;default:this.drawType=esri.toolbars.Draw.EXTENT}this.app.trace.debug("DisplayCaptureGeometryViewModel: setDrawMode :: Draw mode set.");a.deactivate();a.activate(this.drawType);this.app.trace.debug("DisplayCaptureGeometryViewModel: setDrawMode :: Toolbar activated.");this.showCaptureStatusMessages&&(a=geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowModule.getCaptureGeometryStatusMessage(this.app,this.libraryId,this.drawType,true),b=new geocortex.essentialsHtmlViewer.mapping.infrastructure.commandArgs.AddStatusArgs(a,
null,dojo.hitch(this,this.userCancelled),b.className,this.statusMessageID),this.app.commandRegistry.command("AddStatus").execute(b),this.app.trace.debug("DisplayCaptureGeometryViewModel: setDrawMode :: Status Message assigned and displayed."))}},drawEnd:function(a){var b=this.app.map,c=this._getDrawTool(b);if(a.type!="multipoint"||a.points.length>0)this.setCaptureResult(a),this.addGraphic(a,c,b);this.app.commandRegistry.command("ActivateContainersForWorkflow").execute(this.activityContext.workflow().id);
this.cleanUp();this.app.trace.debug("DisplayCaptureGeometryViewModel: drawEnd :: draw ended.")},cleanUp:function(){this.showCaptureStatusMessages&&this.app.commandRegistry.command("RemoveStatus").execute(this.statusMessageID);if(this.toolbar)this.toolbar.deactivate(),this.toolbar=null;this.app.trace.debug("DisplayCaptureGeometryViewModel: cleanUp :: clean up finished.")},userCancelled:function(){this._getDrawTool(this.app.map).finishDrawing();this.cleanUp()},validate:function(){var a=[];this.geometryRequired&&
this.showRequiredValidationMessage&&this.showRequiredValidationMessage.get()&&a.push(new geocortex.forms.items.validation.ValidationResult(false,this.requiredMessage));return a},viewUnhostedHandler:function(a){a.view.viewModel==this&&this.cleanUp()}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayHyperlinkView",geocortex.framework.ui.ViewBase,{activityContext:null,attach:function(){this.inherited(arguments);this.title.set(this.viewModel.title.get());this.workflowContainer&&this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view)},handleClickButton:function(a,b,c){this.activityContext&&(this.activityContext.setValue("ButtonResultValue",c.value.get()),this.activityContext.completeActivity());this.workflowContainer&&
(this.workflowContainer.hasContent.set(false),this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view));this.app.viewManager.destroyView(this)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayHyperlinkViewModel",geocortex.framework.ui.ViewModelBase,{activityContext:null,workflowContainer:null,buttons:null,message:null,uri:null,hyperlinkText:null,target:null,title:null,showTitleInFormBody:null,constructor:function(){this.inherited(arguments);this.title=new Observable;this.showTitleInFormBody=new Observable(false)},initialize:function(a){if(this.activityContext&&a){var b=this.activityContext.getValue("Buttons"),
c=[];if(!b||b.length===0)b=[],b.push({Label:"Close",Value:"Close",CausesValidation:false,IsDefault:false});for(var d=0;d<b.length;d++){var e=new geocortex.forms.FormButton(b[d].Label,b[d].Value,b[d].CausesValidation,b[d].IsDefault);if(b[d].IsDefault)this.defaultButton=e;c.push(e)}this.buttons=Observable.makeBindableProxy(c);this.message=new Observable(this.activityContext.getValue("Message"));this.uri=new Observable(this.activityContext.getValue("Uri"));this.hyperlinkText=new Observable(this.activityContext.getValue("HyperlinkText"));
this.target=new Observable(this.activityContext.getValue("Target"));a&&a.hasOwnProperty("showTitleInFormBody")&&this.showTitleInFormBody.set(a.showTitleInFormBody||false)}}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowContainerConfig");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowContainerConfig",null,{name:null,regionName:null,internalRegionName:null,resourceName:null,view:null,isManaged:false,activityContext:null,hideForMapInteraction:false,showOverlay:null,displayHeader:null,busy:null,hasContent:null,message:null,iconUri:null,title:null,visible:null,constructor:function(a){dojo.safeMixin(this,a);this.showOverlay=new Observable(false);this.displayHeader=new Observable(a.displayHeader||false);this.busy=
new Observable(false);this.hasContent=new Observable(false);this.message=new Observable;this.iconUri=new Observable;this.title=new Observable;this.visible=new Observable(true)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowContainerView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowContainerView",geocortex.framework.ui.ViewBase,{hasSubscribed:false,constructor:function(a){var b=this;if(a&&!this.hasSubscribed)this.hasSubscribed=true,a.eventRegistry.event("ViewContainerViewClosedEvent").subscribe(this,function(a){if(a&&(a.xButtonClicked||a.backButtonClicked)&&a.viewId===this.id&&b.viewModel&&b.viewModel.activityContext&&b.viewModel.activityContext.workflow)b.app.eventRegistry.event("WorkflowAbort").publish(b.viewModel.activityContext.workflow()),
b.app.eventRegistry.event("WorkflowAbortedEvent").publish(b.viewModel.activityContext.workflow())})},attach:function(a){this.inherited(arguments);this.title.sync(a.title);this.iconUri.sync(a.iconUri)}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormView",geocortex.framework.ui.ViewBase,{activityContext:null,workflowContainer:null,formDefinition:null,workflowFormContent:null,attach:function(a){this.workflowFormContent=a.workflowFormContent;this.workflowFormContent.bind(this,function(){this.app.viewManager.notifyDimensionsChanged(this)});this.activityContext=this.configuration.activityContext;this.workflowContainer=this.configuration.workflowContainer;this.inherited(arguments);
this._focusFirstItem();a.title.bind(this,function(a){this.title.set(a)});a.title.pulse();this.app.viewManager.notifyDimensionsChanged(this)},_focusFirstItem:function(){var a=dojo.query("input, textarea, select",this.root);a&&a.length>0&&a[0].focus()},handleSubmit:function(a){if(geocortex.essentialsHtmlViewer.___userInAutoComplete===true)return a.preventDefault(),false;var b=this.viewModel.getDefaultButton();if(b)this.finishFormWithButton(b);else return a.preventDefault(),false},handleClickButton:function(a,
b,c){this.finishFormWithButton(c)},finishFormWithButton:function(a){this._processForm(this.viewModel.formDefinition,this.activityContext,a)==true&&(this.workflowContainer!=null&&this.workflowContainer.view!=null&&(this.workflowContainer.hasContent.set(false),this.app.viewManager.notifyDimensionsChanged(this.workflowContainer.view)),this.app.viewManager.destroyView(this))},_processForm:function(a,b,c){if(a!=null&&c!=null&&c.causesValidation&&c.causesValidation.get()){for(var d=a.validate(),e=[],f=
0;f<d.length;++f)d[f].isValid==false&&e.push(d[f]);if(e!=null&&e.length>0)return this.viewModel.validationResults.set(e),false;else this.viewModel.validationResults.clear()}d=a.getResults();for(e=0;e<d.length;e++)(f=d[e])&&f.argumentName&&dojo.trim(f.argumentName)!=""&&b.setValue(f.argumentName,f.value,true);b.setValue("ButtonResultValue",c.value.get());a.destroy();b.completeActivity();return true},deactivated:function(){this.formDefinition!=null&&this.formDefinition.destroy();this.formDefinition=
null}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormViewModel",geocortex.framework.ui.ViewModelBase,{activityContext:null,formDefinition:null,validationResults:null,workflowFormContent:null,buttons:null,title:null,showTitleInFormBody:null,formHeight:null,formWidth:null,defaultFormWidth:800,defaultFormHeight:600,constructor:function(a){this.inherited(arguments);this.workflowFormContent=new Observable(null);this.buttons=new ObservableCollection([]);this.title=new Observable("Workflow form");this.formWidth=
new Observable(this.defaultFormWidth);this.formHeight=new Observable(this.defaultFormHeight);this.showTitleInFormBody=new Observable(false);this.validationResults=new ObservableCollection},initialize:function(a){a&&a.hasOwnProperty("showTitleInFormBody")&&this.showTitleInFormBody.set(a.showTitleInFormBody||false);this.buttons=a&&a.hasOwnProperty("buttons")?new ObservableCollection(a.buttons):new ObservableCollection;if(a&&a.hasOwnProperty("formDefinition"))this.formDefinition=a.formDefinition;if(this.formDefinition!=
null)this.formDefinition.attached_application=this.app,this.formWidth.set(this.formDefinition.maxWidth.get()),this.formHeight.set(this.formDefinition.maxHeight.get()),this.formWidth.get()<1&&this.formWidth.set(this.defaultFormWidth),this.title.set(this.formDefinition.title.get()),this.workflowFormContent.set(geocortex.forms.renderFormItem(this.formDefinition.containerFormItem,this.app))},getDefaultButton:function(){for(var a=null,b=null,c=0;c<this.buttons.getLength();c++)if(b=this.buttons.getAt(c),
b.isDefault.get()){a=b;break}return a}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowListView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowListView",geocortex.framework.ui.ViewBase,{_hideViewOnClickWorkflow:null,handleButtonClick:function(){},handleClickWorkflow:function(a,b,c){this.configuration.hideOnClickWorkflow&&this.app.commandRegistry.command("DeactivateView").execute(this.id);this.app.commandRegistry.command("RunWorkflowById").execute(c.id);return false},attach:function(a){this.inherited(arguments);this.title.set(this.app.getResource(this.libraryId,
"language-workflow-available-workflows"))}});geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers={};
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowModule",geocortex.framework.application.ModuleBase,{dispatcher:null,configuration:null,_eventListenersResults:null,_eventListenersToken:null,_containerConfigs:null,_workflowContainers:null,_iconMap:null,_defaultContainerTitle:null,_defaultContainerRegionName:null,_defaultContainerIconUri:null,_defaultFeatureSetCollectionId:null,defaultContainerName:null,_startupWorkflowIds:null,initialize:function(a){this._eventListenersResults=
{};this._eventListenersToken=[];this.configuration=a;this.inherited(arguments);this.defaultContainerName="Default";if(!a.showCaptureStatusMessages)a.showCaptureStatusMessages=true;if(!this._defaultFeatureSetCollectionId){var b=new FeatureSetCollection;this._defaultFeatureSetCollectionId=b.id;b.sourceName="Workflow";b.displayName.set("Workflow");this.app.featureSetManager.addCollection(b)}this._iconMap=a.icons?a.icons:{};this._workflowContainers={};this._defaultContainerTitle=a.defaultContainerTitle||
"Workflow";this._defaultContainerRegionName=a.defaultContainerRegionName||"ModalWindowRegion";this._defaultContainerIconUri=a.defaultContainerIconUri||"Resources/Images/workflow-24.png";this._containerConfigs=[];for(b=0;b<a.containers.length;++b){var c=a.containers[b],d=new geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowContainerConfig(c);d.iconUri.set(c.iconUri||this._defaultContainerIconUri);d.title.set(c.title);this._containerConfigs[d.name]=d}this._startupWorkflowIds=[];if(a.startupWorkflows&&
a.startupWorkflows.length)for(b=0;b<a.startupWorkflows.length;b++)(c=a.startupWorkflows[b])&&(c.id?this._startupWorkflowIds.push(c.id):this._startupWorkflowIds.push(c));if(this.app.urlParameters&&(this.app.urlParameters.run||this.app.urlParameters.runWorkflow)){b=this.app.urlParameters.run?this.app.urlParameters.run.split(","):this.app.urlParameters.runWorkflow.split(",");for(c=0;c<b.length;c++)d=b[c],dojo.indexOf(this._startupWorkflowIds,d)<0&&this._startupWorkflowIds.push(d)}var e=this;this.dispatcher=
new geocortex.workflow.DefaultActivityDispatcher(function(a,b){e.app.eventRegistry.event("WorkflowActivityDispatchError").publish({error:a,context:b});e.app.eventRegistry.event("WorkflowActivityDispatchErrorEvent").publish({error:a,context:b})},function(a){e.app.eventRegistry.event("WorkflowActivityBegin").publish(a.workflow());e.app.eventRegistry.event("WorkflowActivityStartedEvent").publish(a.workflow())},function(a){e.app.eventRegistry.event("WorkflowActivityComplete").publish(a.workflow());e.app.eventRegistry.event("WorkflowActivityCompletedEvent").publish(a.workflow())},
function(a,b){e.app.eventRegistry.event("WorkflowCompletedEvent").publish(b);e.app.eventRegistry.event("WorkflowComplete").publish(b)});this.dispatcher._showDebugHandler=function(a,b){e._showDebugHandler(e,a,b)};this.app.eventRegistry.event("WorkflowCompletedEvent").subscribe(this,function(a){this.cleanupViewsForWorkflow(a)});this.app.eventRegistry.event("WorkflowAbortedEvent").subscribe(this,function(a){this.cleanupViewsForWorkflow(a)});this.app.eventRegistry.event("WorkflowActivityDispatchErrorEvent").subscribe(this,
function(a){var b=a.error,a=a.context,b=this.app.getResource(this.libraryId,"language-workflow-error").format(b.message);this.app.commandRegistry.command("Alert").execute(b);this.app.trace.error(b);a&&a.workflow&&this.cleanupViewsForWorkflow(a.workflow())});geocortex.forms.renderFormItem=function(a){var b=null;e.configuration&&e.configuration.hasOwnProperty("formItems")&&(b=e.configuration.formItems);var c=null;a&&a.formDefinition&&(c=a.formDefinition.attached_application);return geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.FormRenderer.getItemView(c,
a,b).root};this.registerActivityHandlers();this.registerCommands();this.app.eventRegistry.event("SiteInitializedEvent").subscribe(this,function(a){this._onSiteInitialized(a)});a&&a.tools&&this.app&&this.app.toolRegistry&&this.app.toolRegistry.createTools(a.tools,true)},remapWorkflowContainerIconUri:function(a){var b=null;return b=!this._iconMap||!this._iconMap[a]?String.isNullOrEmpty(a)?this._defaultContainerIconUri:a:this._iconMap[a]},shutdown:function(){if(this._eventListenersToken)for(var a=0;a<
this._eventListenersToken.length;a++)this._eventListenersToken[a]()},_showDebugHandler:function(a,b,c){var d=this,e=new geocortex.framework.config.ViewConfig;e.typeName="geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormView";e.markupResource="Mapping/modules/Workflow/WorkflowFormView.html";e.isVisible=true;e.regionName=a._defaultContainerRegionName;e.libraryId=a.libraryId;e.iconUri=a.configuration.defaultContainerIconUri;e.configuration={};var f=new geocortex.workflow.ActivityContext(this.dispatcher,
0,null,null);e.configuration.activityContext=f;var g=new geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormViewModel(a.app);g.activityContext=f;g.initialize({showTitleInFormBody:a.configuration==null?false:a.configuration.showTitleInFormBody||false,formDefinition:b,buttons:[new geocortex.forms.FormButton("OK","OK",false,true)]});var h=a.app.viewManager.createView(e);h.attach(g);h.configuration={};f.completeActivity=function(){d.app.viewManager.destroyView(h);dojo.isFunction(c)&&
c()};a.app.viewManager.activateView(h)},getOrCreateContainer:function(a){var b=this._containerConfigs[a];b==null&&(b=new geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowContainerConfig({name:a,regionName:this._defaultContainerRegionName,view:null}),b.iconUri.set(this._defaultContainerIconUri),b.title.set(this._defaultContainerTitle));return b},cleanupViewsForWorkflow:function(a){var b=this._workflowContainers[a.id];b==null&&(b=this._workflowContainers[a.id]=[]);for(var c=0;c<b.length;++c){var d=
b[c];geocortex.resourceManager.remove(this.libraryId,d.resourceName,"inv");this.app.viewManager.destroyView(d.view);d.view=null}this._workflowContainers[a.id]=[]},createContainerView:function(a,b){var c=b.workflow(),d=geocortex.resourceManager.fetch("Mapping/modules/Workflow/WorkflowContainerView.html",this.libraryId,"inv");if(d==null)return this.app.trace.warning("Could not create container '{0}' - markup resource '{1}' could not be found.".format(a.name,viewConfig.markupResource)),false;var e="WorkflowContainerRegion-{0}".format(geocortex.utils.alphaNumericToken()),
d=d.replace("!region-name-placeholder!",e),f="DynamicView-{0}-{1}".format(e,c.id);geocortex.resourceManager.register(this.libraryId,"inv",f,"html",geocortex.utils.base64Encode(d));d=new geocortex.framework.config.ViewConfig;d.typeName="geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowContainerView";d.isVisible=true;d.regionName=a.regionName;d.configuration={internalRegionName:e};d.libraryId=this.libraryId;d.isManaged=a.isManaged;d.iconUri=a&&a.iconUri?a.iconUri.get():workflowModule._defaultContainerIconUri;
d.markupResource=f;a.view=this.app.viewManager.createView(d);a.view.activityContext=b;a.internalRegionName=e;a.activityContext=b;a.resourceName=f;a.view.attach(a);e=this._workflowContainers[c.id];e==null&&(e=this._workflowContainers[c.id]=[]);Array.contains(e,a)||e.push(a)},displayContainerContent:function(a,b,c,d){var e=d.workflow();b.view==null&&this.createContainerView(b,d);a.regionName=b.internalRegionName;c!=null&&b.view.viewModel.title.set(c.get());b.showOverlay.set(false);b.hasContent.set(true);
b.view.activityContext=d;this.app.viewManager.activateView(b.view);this.app.viewManager.activateView(a);this.app.viewManager.notifyDimensionsChanged(b.view);a=this._workflowContainers[e.id];a==null&&(a=this._workflowContainers[e.id]=[]);Array.contains(a,b)||a.push(b)},prepFeatureSetInCollection:function(a,b,c,d){var e=null,f=null;b?((f=this.app.featureSetManager.getCollectionById(b))?c&&f.clear():(f=new FeatureSetCollection,f.id=b,f.sourceName="Workflow",f.layer=d,this.app.featureSetManager.addCollection(f)),
f.displayName.set(b)):(f=this.app.featureSetManager.getCollectionById(this._defaultFeatureSetCollectionId),f.clear(),f.layer=d);String.isNullOrEmpty(a.displayName.get())&&d&&a.displayName.set(d.displayName?d.displayName:d.name);this.app.featureSetManager.openCollection(f.id);f.featureSets.getLength()>0&&(e=f.getFeatureSetById(a.id));e?(e.displayName.set(a.id),e.append(a)):f.featureSets.addItem(a);this.app.featureSetManager.closeCollection(f.id)},registerActivityHandlers:function(){var a=this;this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.ListenForExternalEvent",
function(b){geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleListenForExternalEvent(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.CollectExternalEventArgs",function(b){geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleCollectExternalEventArgs(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.Alert",function(b){geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleAlert(a,
b)});this.dispatcher.registerExternalIdHandler("IntersectLayers",function(a){geocortex.workflow.DefaultActivityHandlers.handleIntersectLayers(a)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.ConfigureWorkflowContainer",function(b){geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleConfigureWorkflowContainer(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.Confirm",function(b){geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleConfirm(a,
b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.DisplayForm",function(b){geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayForm(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.DisplayHyperlink",function(b){geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayHyperlink(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.DisplayCaptureGeometry",function(b){geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayCaptureGeometry(a,
b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.Prompt",function(b){geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handlePrompt(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.RunExternalCommand",function(b){geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleRunExternalCommand(a,b)});this.dispatcher.registerActivityHandler("Geocortex.Workflow.Activities.SelectFeatures",function(b){geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleSelectFeatures(a,
b)});this.app.setWorkflowActivityDispatcher(this.dispatcher)},_getContainersForWorkflowId:function(a){return this._workflowContainers&&this._workflowContainers.hasOwnProperty(a)?this._workflowContainers[a]:null},_activateContainersForWorkflow:function(a){if((a=this._getContainersForWorkflowId(a))&&a.length>0)for(var b=0;b<a.length;++b)this.app.commandRegistry.command("ActivateView").execute(a[b].view.id)},_deactivateContainersForWorkflow:function(a){if((a=this._getContainersForWorkflowId(a))&&a.length>
0)for(var b=0;b<a.length;++b)this.app.commandRegistry.command("DeactivateView").execute(a[b].view.id)},registerCommands:function(){this.app.commandRegistry.command("RunWorkflowById").register(this,function(a){if(!this.app.site||!this.app.site.isInitialized)this.app.trace.error("Error running workflow '{0}' - Site was not initialized.".format(a));else{var b=this.app.site.getWorkflowById(a);b?geocortex.workflow.WorkflowControllerProxy.startWorkflow(b,this.dispatcher,null):this.app.trace.error("Error running workflow '{0}' - workflow not found in site.".format(a))}});
this.app.commandRegistry.command("RunWorkflowWithGeometry").register(this,function(a){if(!this.app.site||!this.app.site.isInitialized)this.app.trace.error("Error running workflow '{0}' - Site was not initialized.".format(a.workflowId));else{var b=this.app.site.getWorkflowById(a.workflowId);if(b){var c=b.getInputs();if(a.geometry&&c)for(var d=0;d<c.length;d++){var e=c[d];if(e!=null&&e.typeName!=null&&(e.typeName=="ESRI.ArcGIS.Client.Geometry.Geometry, ESRI.ArcGIS.Client"||a.geometry.type=="point"&&
e.typeName=="ESRI.ArcGIS.Client.Geometry.Point, ESRI.ArcGIS.Client"||a.geometry.type=="multipoint"&&e.typeName=="ESRI.ArcGIS.Client.Geometry.MultiPoint, ESRI.ArcGIS.Client"||a.geometry.type=="polyline"&&e.typeName=="ESRI.ArcGIS.Client.Geometry.Polyline, ESRI.ArcGIS.Client"||a.geometry.type=="polygon"&&e.typeName=="ESRI.ArcGIS.Client.Geometry.Polygon, ESRI.ArcGIS.Client"||a.geometry.type=="extent"&&e.typeName=="ESRI.ArcGIS.Client.Geometry.Envelope, ESRI.ArcGIS.Client"))e.value=a.geometry}geocortex.workflow.WorkflowControllerProxy.startWorkflow(b,
this.dispatcher,c)}else this.app.trace.error("Error running workflow '{0}' - workflow not found in site.".format(a.workflowId))}},function(a){return a&&a.workflowId&&this.app.site&&this.app.site.isInitialized?true:false});this.app.commandRegistry.command("DisplayWorkflowContainerContent").register(this,function(a){var b=a.containerName,c=a.view,a=a.activityContext;if(b!=null)container=this.getOrCreateContainer(b),regionName=container.internalRegionName;else throw Error("Missing container name in DisplayWorkflowContainerContent.");
this.displayContainerContent(c,container,container.title,a)});this.app.commandRegistry.command("ActivateContainersForWorkflow").register(this,this._activateContainersForWorkflow);this.app.commandRegistry.command("DeactivateContainersForWorkflow").register(this,this._deactivateContainersForWorkflow)},_onSiteInitialized:function(a){if(!(this._startupWorkflowIds==null||this._startupWorkflowIds.length==0))if(!a||!a.isInitialized)this.app.trace.error("Error processing startup workflows. - site was not initialized.");
else for(var b=0;b<this._startupWorkflowIds.length;b++){var c=this._startupWorkflowIds[b];if(c!=null){var d=a.getWorkflowById(c);if(d){c=d.getInputs();if(c!=null&&this.app.urlParameters)for(var e=0;e<c.length;e++){var f=c[e];if(f!=null&&f.name!=null&&this.app.urlParameters[f.name])f.value=this.app.urlParameters[f.name]}geocortex.workflow.WorkflowControllerProxy.startWorkflow(d,this.dispatcher,c)}else this.app.trace.error("Error running startup workflow '{0}' - workflow not found in site.".format(c))}}}});
geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowModule.getCaptureGeometryStatusMessage=function(a,b,c,d){switch(c){case esri.toolbars.Draw.POINT:return a.getResource(b,"language-capture-geometry-point");case esri.toolbars.Draw.MULTI_POINT:return d?a.getResource(b,"language-capture-geometry-multi-point"):a.getResource(b,"language-capture-geometry-point");case esri.toolbars.Draw.POLYLINE:return a.getResource(b,"language-capture-geometry-polyline");case esri.toolbars.Draw.POLYGON:return a.getResource(b,
"language-capture-geometry-polygon");case esri.toolbars.Draw.FREEHAND_POLYLINE:return a.getResource(b,"language-capture-geometry-freehand-polyline");case esri.toolbars.Draw.FREEHAND_POLYGON:return a.getResource(b,"language-capture-geometry-freehand-polygon");case esri.toolbars.Draw.EXTENT:return a.getResource(b,"language-capture-geometry-rectangle")}return a.getResource(b,"language-capture-geometry-default")};
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowTool",geocortex.essentialsHtmlViewer.mapping.infrastructure.tools.MapTool,{constructor:function(){this.command=null},workflowId:null,onDrawEnd:function(a){if(this.workflowId){var b={geometry:a,workflowId:this.workflowId};this.app.commandRegistry.command("RunWorkflowWithGeometry").execute(b)}this.inherited(arguments)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowViewModel",geocortex.framework.ui.ViewModelBase,{isActive:null,workflows:null,initialize:function(){this.isActive=new Observable(false);this.workflows=new ObservableCollection;this.app.site!=null&&this.app.site.isInitialized?this.getWorkflows():this.app.eventRegistry.event("SiteInitializedEvent").subscribe(this,function(){this.getWorkflows()})},getWorkflows:function(){this.workflows.set(this.app.site.workflows)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.FormRenderer",null,{itemTypeViewMap:{},render:function(a,b){a.attached_application=b;var c=new geocortex.framework.config.ViewConfig;c.typeName="geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormView";c.markupResource="Mapping/modules/Workflow/WorkflowFormView.html";c.isVisible=true;c.regionName=null;c={};c.activityContext=activityContext;c.workflowContainer=container;var c=workflowModule.app.viewManager.createView({type:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormView",
markup:"Mapping/modules/Workflow/WorkflowFormView.html",visible:true,region:null,configuration:c,libraryId:this.libraryId}),d=new geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormViewModel(b);d.activityContext=activityContext;d.initialize();c.attach(d);c.title.set(title);c.configuration={};return c}});
geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.FormRenderer.getItemView=function(a,b,c){function d(c,d){var g=a.viewManager.createView({type:d,markup:c,visible:true,region:null,libraryId:"Mapping"});g.attach(b);return g}if(c&&c.hasOwnProperty(b.declaredClass))return c=c[b.declaredClass],d(c.markup,c.codebehind,b);else switch(b.declaredClass){case "geocortex.forms.items.TextBoxFormItem":return d("Mapping/modules/Workflow/Forms/Items/TextBoxFormItemView.html","geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase",
b);case "geocortex.forms.items.ImageFormItem":return d("Mapping/modules/Workflow/Forms/Items/ImageFormItemView.html","geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase",b);case "geocortex.forms.items.TextAreaFormItem":return d("Mapping/modules/Workflow/Forms/Items/TextAreaFormItemView.html","geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase",b);case "geocortex.forms.items.CheckBoxFormItem":return d("Mapping/modules/Workflow/Forms/Items/CheckBoxFormItemView.html",
"geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.CheckBoxFormItemView",b);case "geocortex.forms.items.ContainerFormItem":return d("Mapping/modules/Workflow/Forms/Items/ContainerFormItemView.html","geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.ContainerFormItemView",b);case "geocortex.forms.items.RadioButtonFormItem":return d("Mapping/modules/Workflow/Forms/Items/RadioButtonFormItemView.html","geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.RadioButtonFormItemView",
b);case "geocortex.forms.items.HyperlinkFormItem":return d("Mapping/modules/Workflow/Forms/Items/HyperlinkFormItemView.html","geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.HyperlinkFormItemView",b);case "geocortex.forms.items.GroupBoxFormItem":return d("Mapping/modules/Workflow/Forms/Items/GroupBoxFormItemView.html","geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.ContainerFormItemView",b);case "geocortex.forms.items.ComboBoxFormItem":return d("Mapping/modules/Workflow/Forms/Items/ComboBoxFormItemView.html",
"geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.ListBoxFormItemView",b);case "geocortex.forms.items.DatePickerFormItem":return d("Mapping/modules/Workflow/Forms/Items/DatePickerFormItemView.html","geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.DatePickerFormItemView",b);case "geocortex.forms.items.TimePickerFormItem":return d("Mapping/modules/Workflow/Forms/Items/TimePickerFormItemView.html","geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.TimePickerFormItemView",
b);case "geocortex.forms.items.ListBoxFormItem":return d("Mapping/modules/Workflow/Forms/Items/ListBoxFormItemView.html","geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.ListBoxFormItemView",b);case "geocortex.forms.items.AutoCompleteBoxFormItem":return d("Mapping/modules/Workflow/Forms/Items/AutoCompleteBoxFormItemView.html","geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.AutoCompleteBoxFormItemView",b);default:return a.trace.warning("Could not render FormItem of type '{0}'.".format(b.declaredClass)),
null}};
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.AutoCompleteBoxFormItemView",geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase,{isDropDownOpen:null,textElement:null,dropDownContainer:null,dropDownList:null,timer:null,positionIndex:null,lastKeyEvent:null,keyTraverseInterval:null,closeTimer:null,_queryCancelled:false,_searchFocus:false,constructor:function(){this.isBusy=new Observable(false);this.isDropDownOpen=new Observable(false);this.positionIndex=
0;this.keyTraverseInterval=25},attach:function(a){this.inherited(arguments);this.textElement=$(".auto-complete-container input",this.root).first()[0];this.dropDownContainer=$(".auto-complete-dropdown",this.root).first();this.dropDownList=$("ul",this.dropDownContainer).first();this.lastKeyEvent=(new Date).getTime();this.addDisposableBinding(this.viewModel.dataItems,this.viewModel.dataItems.bind(this,function(){this.isBusy.set(false);this.viewModel.dataItems.getLength()>0?(this.positionIndex=0,this._queryCancelled||
this.openDropDown()):this.closeDropDown()}))},handleInputBlurEvent:function(){var a=this;this.isBusy.set(false);this._searchFocus=false;this.closeTimer=setTimeout(function(){if(!a._searchFocus)a._queryCancelled=true,a.closeDropDown()},750)},handleInputFocusEvent:function(){this._queryCancelled=false;this._searchFocus=true},handleDropdownFocusEvent:function(){var a=this;setTimeout(function(){a._searchFocus=true},100);if(this.closeTimer!=null)clearTimeout(this.closeTimer),this.closeTimer=null;return true},
handleDropdownBlurEvent:function(){this.closeDropDown();return true},handleClickItem:function(a,b,c){this.viewModel.text.set(c.display);this.viewModel.triggerCascading(c.display);this.closeDropDown()},openDropDown:function(){geocortex.essentialsHtmlViewer.___userInAutoComplete=true;this.isDropDownOpen.set(true);this.positionIndex=-1;$(this.dropDownContainer).removeClass("inactive").addClass("active")},closeDropDown:function(){geocortex.essentialsHtmlViewer.___userInAutoComplete=false;this.isDropDownOpen.set(false);
$(this.dropDownContainer).removeClass("active").addClass("inactive")},setDropDownPosition:function(a){a=Math.min(a,this.viewModel.dataItems.getLength()-1);$("li",this.dropDownList).eq(this.positionIndex).removeClass("autocomplete-highlight");this.positionIndex=Math.max(0,a);li=$("li",this.dropDownList).eq(this.positionIndex);$(li).addClass("autocomplete-highlight");(a=this.viewModel.dataItems.getAt(this.positionIndex))&&this.viewModel.text.set(a.display);li.length>0&&$(this.dropDownContainer).scrollTop($(this.dropDownContainer).scrollTop()+
$(li).position().top-$(this.dropDownContainer).height()/2+$(li).height()/2)},handleDropdownKeyDown:function(a,b,c){return a.which===13?handleKeyEvent(a,b,c):true},handleKeyEvent:function(a,b,c){b=(new Date).getTime();if(b-this.lastKeyEvent>this.keyTraverseInterval)if(this.lastKeyEvent=b,a.which===38||a.which===40)this.isDropDownOpen.get()&&(a.which===40?this.setDropDownPosition(this.positionIndex+1):a.which===38&&this.setDropDownPosition(this.positionIndex-1));else if(this.isDropDownOpen.get()&&a.which===
13){if(a=this.viewModel.dataItems.getAt(this.positionIndex))this.viewModel.text.set(a.display),this.viewModel.triggerCascading(a.display);this.closeDropDown();this.timer!=null&&clearInterval(this.timer);return false}else if(this.isDropDownOpen.get()&&a.which===8)return this.closeDropDown(),this.viewModel.triggerCascading(null),a.which==8&&this.trigger(),false;else if(!(a.which===9||a.which===37||a.which===39))if(a.which===13)return this.viewModel.triggerCascading(c.display),false;else this.trigger();
return true},trigger:function(){this.timer!=null&&clearInterval(this.timer);if(this.textElement.value.length>=this.viewModel.minimumPrefixLength.get()){var a=this;this.timer=setTimeout(function(){a.filter(false)},this.viewModel.minimumPopulateDelay.get())}},filter:function(a){if(this.timer!=null)clearInterval(this.timer),this.timer=null;this.closeDropDown();this.viewModel.performQuery(this.textElement.value,a)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.CheckBoxFormItemView",geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase,{attach:function(a){a.attached_textOnLeft=new Observable(false);this.addDisposableBinding(a.textLocation,a.textLocation.bind(this,function(b){a.attached_textOnLeft.set(b.toLowerCase()==="left")}));a.textLocation.pulse();a.attached_controlId=new Observable("checkbox-{0}".format(geocortex.framework.utils.alphaNumericToken()));
a.attached_labelText=a.text!=null?new Observable(a.text.get()):"";this.inherited(arguments)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.ContainerFormItemView",geocortex.framework.ui.ViewBase,{addFormItem:function(a,b){var c=a.domElement,d=null;if(this.viewModel.orientation.get()=="Vertical"){var e=dojo.create("tr");if(b.declaredClass==="geocortex.forms.items.ContainerFormItem"||b.declaredClass==="geocortex.forms.items.GroupBoxFormItem"||b.declaredClass==="geocortex.forms.items.HyperlinkFormItem"||b.declaredClass==="geocortex.forms.items.ImageFormItem"){var d=
dojo.create("td",{colSpan:2}),f=geocortex.forms.renderFormItem(b);dojo.place(f,d)}else{var g=dojo.create("td"),d=dojo.create("td");if(b.isInstanceOf(geocortex.forms.items.LabelContainer)){var h=dojo.create("div",{className:"form-label"}),f=b.label.text.get();if(!f||f==="")f="&nbsp;";h.innerHTML=f}f=geocortex.forms.renderFormItem(b);h&&dojo.place(h,g);dojo.place(f,d);dojo.place(g,e)}dojo.place(d,e);dojo.place(e,c,"last")}else{e=dojo.query("tr",this.root)[0];e==null&&(e=dojo.create("tr"),c=dojo.query("table.form-item-table",
this.root)[0],dojo.place(e,c));if(b.declaredClass==="geocortex.forms.items.ContainerFormItem"||b.declaredClass==="geocortex.forms.items.GroupBoxFormItem"||b.declaredClass==="geocortex.forms.items.HyperlinkFormItem"||b.declaredClass==="geocortex.forms.items.ImageFormItem")d=dojo.create("td",{colSpan:2}),f=geocortex.forms.renderFormItem(b);else{d=dojo.create("td");if(b.isInstanceOf(geocortex.forms.items.LabelContainer)){h=dojo.create("div",{className:"form-label"});f=b.label.text.get();if(!f||f==="")f=
"&nbsp;";h.innerHTML=f}f=geocortex.forms.renderFormItem(b);h&&dojo.place(h,d)}dojo.place(f,d);dojo.place(d,e)}},removeFormItem:function(){}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.DatePickerFormItemView",geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase,{attach:function(a){this.inherited(arguments);var b=this;$(".date-picker input",this.root).blur();this.viewModel.includeTimePicker.get()?($(".date-picker input",this.root).datetimepicker({dateFormat:this.viewModel._dateFormatStr.get(),timeFormat:this.viewModel.timePickerItem._timeFormatStr.get(),showSecond:this.viewModel.timePickerItem.timeFormat.get()==
"LongTime",showOn:"button",changeYear:true,onClose:function(){this.readOnly=this.disabled=true},beforeShow:function(){this.readOnly=this.disabled=true},onSelect:function(a){b.handleChange(a)}}),$(".date-picker input",this.root).datetimepicker("setDate",this.viewModel.date.get())):($(".date-picker input",this.root).datepicker({dateFormat:this.viewModel._dateFormatStr.get(),showOn:"button",changeYear:true,onClose:function(){this.readOnly=this.disabled=true},beforeShow:function(){this.readOnly=this.disabled=
true},onSelect:function(a){b.handleChange(a)}}),$(".date-picker input",this.root).datepicker("setDate",this.viewModel.date.get()))},handleChange:function(a){var b=null;try{b=new Date(a)}catch(c){b=new Date}isNaN(b.getTime())&&(b=new Date);this.viewModel.date.set(b)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.HyperlinkFormItemView",geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase,{attach:function(a){this.inherited(arguments)},handleClick:function(){this.viewModel.wasClicked.set(true);return true}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.ListBoxFormItemView",geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase,{selectionChangedTimer:null,attach:function(a){if(a.selectionMode){var b=a.selectionMode.get().toLowerCase();a.attached_isMultiple=new Observable(b.toLowerCase()==="multiple"||b.toLowerCase()=="extended")}this.inherited(arguments)},handleSelectionChanged:function(){if(this.selectionChangedTimer!=null)clearInterval(this.selectionChangedTimer),
this.selectionChangedTimer=null;var a=this;this.selectionChangedTimer=setTimeout(function(){if(a.viewModel.isBusy.get()===false)a.viewModel.triggerCascading(),a.selectionChangedTimer=null},450);return true}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.RadioButtonFormItemView",geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase,{attach:function(a){a.attached_textOnLeft=new Observable(false);this.addDisposableBinding(a.textLocation,a.textLocation.bind(this,function(b){a.attached_textOnLeft.set(b.toLowerCase()==="left")}));a.textLocation.pulse();a.attached_controlId=new Observable("radio-{0}".format(geocortex.framework.utils.alphaNumericToken()));
a.attached_labelText=a.text!=null?new Observable(a.text.get()):"";this.inherited(arguments);if(this.radioElement)this.radioElement.checked=a.checked.get();var b=this;this.viewModel.__getRadioValueClosure=function(){var a=b.radioElement;return a?a.checked:false};return true}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.TimePickerFormItemView",geocortex.essentialsHtmlViewer.mapping.modules.workflow.forms.items.FormItemViewBase,{attach:function(a){this.inherited(arguments);var b=this;$(".time-picker input",this.root).blur();$(".time-picker input",this.root).timepicker({timeFormat:this.viewModel._timeFormatStr.get(),showSecond:this.viewModel.timeFormat.get()=="LongTime",showOn:"button",onClose:function(){this.readOnly=this.disabled=true},
beforeShow:function(){this.readOnly=this.disabled=true},onSelect:function(a){b.handleChange(a)}});$(".time-picker input",this.root).datetimepicker("setDate",this.viewModel.time.get())},handleChange:function(a){var a=a.split(":"),b=new Date;a.length==2?b.setHours(a[0],a[1],0,0):a.length==3&&b.setHours(a[0],a[1],a[2],0);isNaN(b.getTime())&&(b=new Date);this.viewModel.time.set(b)}});
geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleAlert=function(a,b){var c=b.getValue("Title"),d=b.getValue("Text");a.app.commandRegistry.command("Alert").execute(d,c,function(){b.completeActivity()})};
geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleCollectExternalEventArgs=function(a,b){var c=b.getValue("EventName"),d=b.getValue("WaitForEvent"),e=b.getValue("WaitTimeout");if(a._eventListenersResults.hasOwnProperty([c]))if(a._eventListenersResults[c])b.setValue("EventArgs",a._eventListenersResults[c]),b.completeActivity();else if(d)if(e>0)window.setTimeout(function(){b.setValue("EventArgs",a._eventListenersResults[c]);b.completeActivity()},e);else{var f=function(){a._eventListenersResults[c]?
(b.setValue("EventArgs",a._eventListenersResults[c]),b.completeActivity()):window.setTimeout(f,2E3)};f()}else b.completeActivity();else b.completeActivity()};
geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleConfigureWorkflowContainer=function(a,b){var c=b.getValue("WorkflowContainerName"),d=b.getValue("ShowContainer"),e=b.getValue("IsBusy"),f=b.getValue("Message"),g=b.getValue("Title"),h=b.getValue("IconUri");h&&h.indexOf("/")==0&&(h=h.substring(1));var k=a.getOrCreateContainer(c);a._containerConfigs[c]=k;g!=null&&k.title.set(g);e!=null&&k.busy.set(e);f!=null&&(k.message.set(f),k.hasContent.set(false),a.app.viewManager.notifyDimensionsChanged(k.view));
h&&k.iconUri.set(a.remapWorkflowContainerIconUri(h));k.view||a.createContainerView(k,b);d?a.app.viewManager.activateView(k.view):d===false&&a.app.viewManager.deactivateView(k.view);b.completeActivity()};geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleConfirm=function(a,b){var c=b.getValue("Title"),d=b.getValue("Text");a.app.commandRegistry.command("Confirm").execute(d,c,function(a){b.setValue("Result",a||false);b.completeActivity()})};
geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayCaptureGeometry=function(a,b){var c=null,d=null,e=null,f=null;b.workflow();var f=b.getValue("Title"),c=b.getValue("WorkflowContainerName"),g=new Observable(a._defaultContainerTitle);if(c){c=a.getOrCreateContainer(c);f?g.set(f):c.title&&g.set(c.title.get());e="MapPoint,MultiPoint,FreehandPolyline,Polygon,Polyline,Extent,CurrentExtent".split(",");f={};for(d=0;d<e.length;d++){var h=e[d];f[h]="geometry-type-"+h.toLowerCase()}d=
new geocortex.framework.config.ViewConfig;d.typeName="geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayCaptureGeometryView";d.markupResource="Mapping/modules/Workflow/DisplayCaptureGeometryView.html";d.isVisible=true;d.regionName=null;d.libraryId=a.libraryId;d.iconUri=a._defaultContainerIconUri;h=a.configuration&&a.configuration.showTitleInFormBody;e=new geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayCaptureGeometryViewModel(a.app);e.activityContext=b;e.libraryId=a.libraryId;
e.hideShowContainer=c.hideForMapInteraction||false;e.geometryTypeCssDictionary=f;e.title.set(g.get());e.initialize({showTitleInFormBody:h});e.showCaptureStatusMessages=a.configuration.showCaptureStatusMessages;f=a.app.viewManager.createView(d);f.activityContext=b;f.workflowContainer=c;f.viewModel=e;a.displayContainerContent(f,c,g,b)}else a.app.trace.error("Error parsing activity context. WorkflowContainerName is a required value and is not supplied.")};
geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayForm=function(a,b){var c=b.workflow(),d=b.getValue("RegionName"),e=b.getValue("WorkflowContainerName"),f=a._defaultContainerTitle,g=null,h=b.getInputNamesByType("System.Collections.Generic.IEnumerable`1[[Geocortex.Forms.Client.DataItem"),k={};if(h!=null&&h.length>0)for(var j=0;j<h.length;++j){var l=b.getValue(h[j]);if(l!=null){for(var m=[],n=0;n<l.length;++n)m.push(new geocortex.forms.DataItem(l[n].Display,l[n].Value,
l[n].TypeName));k[h[j]]=m}}j=b.getValue("FormDefinition");k=new geocortex.forms.FormDefinition(j,k);l=b.getValue("Buttons");h=[];if(l!=null)for(j=0;j<l.length;j++)h.push(new geocortex.forms.FormButton(l[j].Label,l[j].Value,l[j].CausesValidation,l[j].IsDefault));else String.isNullOrEmpty(d)&&String.isNullOrEmpty(e)&&(h.push(new geocortex.forms.FormButton("OK","OK",true,true)),h.push(new geocortex.forms.FormButton("Cancel","Cancel",false,false)));if(e!=null)g=a.getOrCreateContainer(e),d=g.internalRegionName,
f=g.title;else if(!d||!a.app.viewManager.getExistingRegionByName(d))d="ModalWindowRegion";j=new geocortex.framework.config.ViewConfig;j.typeName="geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormView";j.markupResource="Mapping/modules/Workflow/WorkflowFormView.html";j.isVisible=true;j.regionName=null;j.libraryId=a.libraryId;j.iconUri=g&&g.iconUri?g.iconUri.get():a._defaultContainerIconUri;j.configuration={};j.configuration.activityContext=b;j.configuration.workflowContainer=g;e=
new geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowFormViewModel(a.app);e.activityContext=b;e.initialize({showTitleInFormBody:a.configuration==null?false:a.configuration.showTitleInFormBody||false,formDefinition:k,buttons:h});g?(c=a.app.viewManager.createView(j),c.viewModel=e,f=e.title&&!String.isNullOrEmpty(e.title.get())?e.title:f,a.displayContainerContent(c,g,f,b)):(a.cleanupViewsForWorkflow(c),j.regionName=d,c=a.app.viewManager.createView(j),c.attach(e),c.configuration={},a.app.viewManager.activateView(c))};
geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleDisplayHyperlink=function(a,b){b.workflow();var c=b.getValue("WorkflowContainerName"),d=b.getValue("Buttons"),e=b.getValue("Title"),f=new Observable(a._defaultContainerTitle),g=null;if(!c&&a)c=a.defaultContainerName;c!=null&&(g=a.getOrCreateContainer(c));e?f.set(e):g.title&&f.set(g.title.get());c=a.app.viewManager.createView({markup:"Mapping/modules/Workflow/DisplayHyperlinkView.html",type:"geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayHyperlinkView",
isVisible:true,libraryId:a.libraryId,iconUri:a._defaultContainerIconUri});c.activityContext=b;c.workflowContainer=g;e=new geocortex.essentialsHtmlViewer.mapping.modules.workflow.DisplayHyperlinkViewModel;e.activityContext=b;var h=a.configuration&&a.configuration.showTitleInFormBody;e.title.set(f.get());e.initialize({buttons:d,showTitleInBody:h});c.viewModel=e;a.displayContainerContent(c,g,f,b)};geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleIntersectLayers=function(){};
geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleListenForExternalEvent=function(a,b){var c=b.getValue("EventName");if(a._eventListenersResults.hasOwnProperty([c]))a._eventListenersResults[c]=null;else{a._eventListenersResults[c]=null;var d=a.app.eventRegistry.event(c).subscribe(a,function(){a._eventListenersResults[c]=arguments});a._eventListenersToken.push(function(){a.app.eventRegistry.event(c).unsubscribe(d)})}b.completeActivity()};
geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handlePrompt=function(a,b){var c={},d=b.getValue("Title"),e=b.getValue("Description"),f=b.getValue("DefaultText");c.title=d;c.description=e;c.defaultText=f;c.callback=function(a){b.setValue("Result",a);b.completeActivity()};a.app.commandRegistry.command("Prompt").execute(c)};
geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleRunExternalCommand=function(a,b){var c=b.getValue("CommandName"),d=b.getValue("CommandParameter");a.app.commandRegistry.command(c).execute(d);b.completeActivity()};
geocortex.essentialsHtmlViewer.mapping.modules.workflow.WorkflowHandlers.handleSelectFeatures=function(a,b){var c=b.getValue("FeatureSet"),d=b.getValue("MapServiceId"),e=b.getValue("LayerId"),f=b.getValue("LayerName"),g=b.getValue("CollectionName"),h=b.getValue("ClearCollectionFirst"),k=null;h||(h=false);d&&(d=b.getSite().essentialsMap.findMapServiceById(d))&&(e?k=d.findLayerById(e):f&&(k=d.findLayerByName(f)));var j=new FeatureSet({esriFeatureSet:c,layer:k,allowUnsafeContent:a.app.configuration.allowUnsafeContent});
j!=null&&j.features!=null&&j.features.length()>0&&!j.features.getAt(0).hasGeometry.get()?j.loadGeometries(null).then(function(){a.prepFeatureSetInCollection(j,g,h,k);b.completeActivity()},function(){a.prepFeatureSetInCollection(j,g,h,k);b.completeActivity()}):(a.prepFeatureSetInCollection(j,g,h,k),b.completeActivity())};dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.zoomcontrol.GeolocateView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.zoomcontrol.GeolocateView",geocortex.framework.ui.ViewBase,{handleClickGeolocate:function(){this.app.commandRegistry.command("Geolocate").execute();return false}});dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.zoomcontrol.GeolocateViewModel",geocortex.framework.ui.ViewModelBase,{visible:null,initialize:function(a){this.inherited(arguments);this.visible=new Observable(true);navigator.geolocation||this.visible.set(false)}});
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.zoomcontrol.ZoomControlModule",geocortex.framework.application.ModuleBase,{});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.zoomcontrol.ZoomInView");dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.zoomcontrol.ZoomInView",geocortex.framework.ui.ViewBase,{handleClickZoomIn:function(){this.app.commandRegistry.command("StepZoomIn").execute();return false}});dojo.provide("geocortex.essentialsHtmlViewer.mapping.modules.zoomcontrol.ZoomOutView");
dojo.declare("geocortex.essentialsHtmlViewer.mapping.modules.zoomcontrol.ZoomOutView",geocortex.framework.ui.ViewBase,{handleClickZoomOut:function(){this.app.commandRegistry.command("StepZoomOut").execute();return false}});geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Alert/AlertView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlLWNvbnRhaW5lciBhbGVydCI+IDxkaXYgY2xhc3M9ImFsZXJ0LWJvZHkiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBhbGVydEJvZHl9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idXR0b24tY29udGFpbmVyIj4gPGEgY2xhc3M9ImJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBva0J1dHRvbkVsZW1lbnR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja09rfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1va30iPjwvYT4gPC9kaXY+IDxkaXYgY2xhc3M9ImNsZWFyIj48L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Authentication/AuthenticationView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlLWNvbnRhaW5lciBhdXRoZW50aWNhdGlvbi1kaWFsb2ciPiA8ZGl2IGNsYXNzPSJlcnJvciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGVycm9yfXtAdGV4dDogQGxhbmd1YWdlLWF1dGgtZXJyb3J9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9ImxvYWRpbmctY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXV0aGVudGljYXRpbmd9Ij4gPGRpdiBjbGFzcz0ibG9hZGluZy1pbWciIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBidXN5fSI+PC9kaXY+IDxkaXYgY2xhc3M9ImxvYWRpbmctbXNnIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWF1dGgtYXV0aGVudGljYXRpbmd9Ij48L2Rpdj4gPC9kaXY+IDxmb3JtIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGF1dGhlbnRpY2F0aW5nfSI+IDxkaXYgY2xhc3M9ImZvcm0tcm93Ij4gPGxhYmVsIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtYXV0aC11c2VybmFtZX0iPjwvbGFiZWw+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IHVzZXJuYW1lfSIgLz4gPC9kaXY+IDxkaXYgY2xhc3M9ImZvcm0tcm93Ij4gPGxhYmVsIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtYXV0aC1wYXNzd29yZH0iPjwvbGFiZWw+IDxpbnB1dCB0eXBlPSJwYXNzd29yZCIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBwYXNzd29yZH0iIC8+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWJ1dHRvbi1jb250YWluZXIiPiA8YSBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tMb2dpbn17QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tbG9naW59Ij48L2E+IDwvZGl2PiA8L2Zvcm0+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Banner/BannerView.html","html","PGRpdiBjbGFzcz0iYmFubmVyIg0KZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW1vdXNlZG93bjogaGFuZGxlTW91c2VEb3dufQ0KICAgICAgICAgICAgICB7QGV2ZW50LW1vdXNldXA6IGhhbmRsZU1vdXNlVXB9DQogICAgICAgICAgICAgIHtAZXZlbnQtdG91Y2hzdGFydDogaGFuZGxlVG91Y2hTdGFydH0NCiAgICAgICAgICAgICAge0BldmVudC10b3VjaGVuZDogaGFuZGxlVG91Y2hFbmR9Ij4gPGRpdiBjbGFzcz0iYmFubmVyLWxlZnQtaW1hZ2UiPjwvZGl2PiA8ZGl2IGNsYXNzPSJiYW5uZXItcmlnaHQtaW1hZ2UiPjwvZGl2PiA8ZGl2IGNsYXNzPSJiYW5uZXItdGl0bGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBhcHBsaWNhdGlvblRpdGxlfSI+PC9kaXY+IDxkaXYgY2xhc3M9ImJhbm5lci1zdWJ0aXRsZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGFwcGxpY2F0aW9uU3VidGl0bGV9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iYmFubmVyLWNvbnRlbnQtcmVnaW9uIiBkYXRhLXJlZ2lvbi1uYW1lPSJCYW5uZXJDb250ZW50UmVnaW9uIj48L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Confirm/ConfirmView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlLWNvbnRhaW5lciBhbGVydCI+IDxkaXYgY2xhc3M9ImFsZXJ0LWJvZHkiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBjb25maXJtQm9keX0iPjwvZGl2PiA8ZGl2IGNsYXNzPSJmb3JtLWJ1dHRvbi1jb250YWluZXIiPiA8YSBjbGFzcz0iYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja09rfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1va30iPjwvYT4gPGEgY2xhc3M9ImJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBjYW5jZWxCdXR0b25FbGVtZW50fXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tDYW5jZWx9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWNhbmNlbH0iPjwvYT4gPC9kaXY+IDxkaXYgY2xhc3M9ImNsZWFyIj48L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsView.html","html","PGRpdiBjbGFzcz0iZmVhdHVyZS1kZXRhaWxzIj4gPGRpdiBjbGFzcz0ibm8tcmVzdWx0cyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogY3VycmVudEZlYXR1cmV9Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWRldGFpbHMtbm8tZmVhdHVyZX0iPjwvcD4gPC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBkYXRhLXJlZ2lvbi1uYW1lPSJGZWF0dXJlUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlN0YWNrUmVnaW9uQWRhcHRlciI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/LargeFeatureDetailsView.html","html","PGRpdiBjbGFzcz0ibGFyZ2UtZmVhdHVyZS1kZXRhaWwiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBoZWFkZXJUZXh0fSI+IDxoMiBkYXRhLWJpbmRpbmc9IntAdGV4dDogaGVhZGVyVGV4dH0iPjwvaDI+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogRmVhdHVyZUFjdGlvbnN9Ij4gPHVsIGNsYXNzPSJhY3Rpb25zLW1lbnUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IEZlYXR1cmVBY3Rpb25zfSI+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBGZWF0dXJlQWN0aW9uc30iPiA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCk7IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGV4dH17QGV2ZW50LW9ubW91c2VvdmVyOiBnZXREZXNjcmlwdGlvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1lbnVJdGVtQ2xpY2t9Ij48L2E+IDwvbGk+IDwvdWw+IDwvZGl2PiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1yZWdpb24tbmFtZT0iRmVhdHVyZVJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/AttachmentsView.html","html","PGgzIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBoYXNBdHRhY2htZW50c317QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWF0dGFjaG1lbnRzfSI+PC9oMz4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGFzQXR0YWNobWVudHN9Ij4gPGRpdiBjbGFzcz0ibm8taXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNBdHRhY2htZW50SW5mb3NJbml0aWFsaXplZH17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWF0dGFjaG1lbnRzLWNoZWNraW5nfSI+PC9kaXY+IDxkaXYgY2xhc3M9Im5vLWl0ZW0iIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBub0F0dGFjaG1lbnRzfXtAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtYXR0YWNobWVudHMtbm8tYXR0YWNobWVudHN9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IGFjdGl2ZSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYXR0YWNobWVudEluZm9zfSI+IDxhIGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYXR0YWNobWVudEluZm9zfXtocmVmOiB1cmx9IiB0YXJnZXQ9Il9ibGFuayI+IDxpbWcgY2xhc3M9Imxpc3QtbWVudS1pY29uIiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvcGFwZXJjbGlwLTI0LnBuZyIgZGF0YS1iaW5kaW5nPSJ7YWx0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1hdHRhY2htZW50c30iIC8+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtZGVzYyI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzaXplfSI+PC9zcGFuPiA8c3Bhbj5CeXRlczwvc3Bhbj4gPC9zcGFuPiA8L3NwYW4+IDwvYT4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/AttributesView.html","html","DQo8aDMgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWF0dHJpYnV0ZXN9Ij48L2gzPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBjdXJyZW50RmVhdHVyZX0iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGF0dHJpYnV0ZXN9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF0dHJpYnV0ZXN9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmFsdWV9e0B0ZXh0OiB2YWx1ZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiB2YWx1ZX17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLW5vdC1hdmFpbGFibGV9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/FeatureActionsView.html","html","IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogRmVhdHVyZUFjdGlvbnN9Ij4gPGgzIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1hY3Rpb25zfSI+PC9oMz4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IGFjdGl2ZSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogRmVhdHVyZUFjdGlvbnN9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IEZlYXR1cmVBY3Rpb25zfXtAZXZlbnQtb25tb3VzZW92ZXI6IGdldERlc2NyaXB0aW9ufXtAZXZlbnQtb25jbGljazogaGFuZGxlTWVudUl0ZW1DbGlja30iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGljb25Vcml9e3NyYzogaWNvblVyaX17YWx0OiB0ZXh0fSIgLz4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0ZXh0fSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkZXNjcmlwdGlvbn0iPjwvc3Bhbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/RelatedFeaturesView.html","html","DQo8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBoYXNSZWxhdGlvbnNoaXBzfSI+ICA8ZGl2IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHJlbGF0aW9uTGlzdH0iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHJlbGF0aW9uTGlzdH0iPiA8aDM+IDxzcGFuICBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtcmVsYXRlZC1mZWF0dXJlc30iPjwvc3Bhbj4gPHNwYW4+IDxzcGFuPiZuYnNwOyZndDsmbmJzcDs8L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPC9zcGFuPiA8L2gzPiA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cC1jb250ZW50cyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IG5vUmVsYXRlZEZlYXR1cmVzfXtAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtcmVsYXRlZC1uby1kYXRhfSI+PC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwLWNvbnRlbnRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBoYXNSZXRyaWV2ZWREYXRhfXtAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtcmVsYXRlZC1jaGVja2luZ30iPjwvZGl2PiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUgYWN0aXZlIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGFzUmV0cmlldmVkRGF0YX17QHNvdXJjZTogcmVsYXRlZEVzcmlGZWF0dXJlc30iID4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHJlbGF0ZWRFc3JpRmVhdHVyZXN9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlVmlld0NsaWNrfSI+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetailsProviders/RelatedFeatureView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBjdXJyZW50UmVsYXRlZEZlYXR1cmV9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBjdXJyZW50UmVsYXRlZEZlYXR1cmV9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBhdHRyaWJ1dGVzfSI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdHRyaWJ1dGVzfSI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmFsdWV9e0B0ZXh0OiB2YWx1ZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiB2YWx1ZX17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLW5vdC1hdmFpbGFibGV9Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9Imxpc3QtbWVudSIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogYXR0YWNobWVudEluZm9zfXtAdmlzaWJsZTogaGFzQXR0YWNobWVudHN9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0gYXR0YWNobWVudCIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYXR0YWNobWVudEluZm9zfSI+IDxhIGRhdGEtYmluZGluZz0ie2hyZWY6IHVybH0iIHRhcmdldD0iX2JsYW5rIj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbmFtZX0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHNpemV9Ij48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1hdHRhY2htZW50cy1maWxlLXNpemV9Ij48L3NwYW4+IDwvc3Bhbj4gPC9hPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureLayer/AddEditFeatureView.html","html","IDxkaXYgY2xhc3M9ImVkaXRvciIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogdGhpc0NvbnRleHR9e0B0ZW1wbGF0ZS1zZWxlY3RvcjogbW9kZX0iPiAgPGRpdiBjbGFzcz0ibG9hZGluZy1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1zZWxlY3Q6IGFwcGx5aW5nRWRpdHN9Ij4gPGRpdiBjbGFzcz0ibG9hZGluZy1pbWciPjwvZGl2PiA8ZGl2IGNsYXNzPSJsb2FkaW5nLW1zZyIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWxheWVyLWFwcGx5aW5nfSI+PC9kaXY+IDwvZGl2PiAgPGRpdiBjbGFzcz0iYWRkLW9yLWVkaXQtbm8tZmVhdHVyZSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogY3JlYXRlRmVhdHVyZX0iPiA8ZGl2IGNsYXNzPSJuby1yZXN1bHRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiB0ZW1wbGF0ZXN9Ij5ObyB0ZW1wbGF0ZXMgdG8gY2hvb3NlIGZyb208L2Rpdj4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdGVtcGxhdGVzfXtAc291cmNlOiB0ZW1wbGF0ZXN9e0B0ZW1wbGF0ZS1zZWxlY3RvcjogZm9vfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogQG51bGx9e0B0ZW1wbGF0ZTogTWFwcGluZy9tb2R1bGVzL0ZlYXR1cmVMYXllci9GZWF0dXJlVGVtcGxhdGUuaHRtbH0iPjwvZGl2PiA8L2Rpdj4gPC9kaXY+ICAgPGRpdiBjbGFzcz0iYWRkLW9yLWVkaXQtZmVhdHVyZSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogZWRpdEZlYXR1cmV9Ij4gPGRpdiBjbGFzcz0icGFuZWwtY29udGVudCI+IDxkaXYgY2xhc3M9InBhbmVsLW5vdGlmaWNhdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhc0dlb21ldHJ5fSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1oYXMtZ2VvbWV0cnl9Ij48L3NwYW4+IDwvZGl2PiAgPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiPiA8aDM+RmVhdHVyZSBBdHRyaWJ1dGVzPC9oMz4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAtY29udGVudHMiPiA8dGFibGU+IDx0Ym9keSBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmaWVsZHN9e0B0ZW1wbGF0ZS1zZWxlY3RvcjogdHlwZX0iPiA8dHIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLXNlbGVjdDogY29kZWREb21haW5WYWx1ZX17Y2xhc3NOYW1lOiBjc3NDbGFzc30iPiA8dGQgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGFsaWFzfSI+PC90ZD4gPHRkPiA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGNvZGVkRG9tYWluVmFsdWVzfXtAdmFsdWU6IHZhbHVlfXtkaXNhYmxlZDogY2FudEVkaXR9Ij4gPG9wdGlvbiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBjb2RlZERvbWFpblZhbHVlc317QHRleHQ6IG5hbWV9e3ZhbHVlOiBjb2RlfSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8L3RkPiA8L3RyPiA8dHIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZmllbGRzfXtjbGFzc05hbWU6IGNzc0NsYXNzfSI+IDx0ZCBkYXRhLWJpbmRpbmc9IntAdGV4dDogYWxpYXN9Ij48L3RkPiA8dGQ+PGlucHV0IHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogdmFsdWV9e2Rpc2FibGVkOiBjYW50RWRpdH0iIC8+PC90ZD4gPC90cj4gPC90Ym9keT4gPHRmb290IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHZhbGlkYXRpb25NZXNzYWdlc317QHZpc2libGU6IHZhbGlkYXRpb25NZXNzYWdlc30iPiA8dHIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogdmFsaWRhdGlvbk1lc3NhZ2VzfSI+IDx0ZCBjb2xzcGFuPSIyIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGNvbnRleHR9Ij48L3RkPiA8L3RyPiA8L3Rmb290PiA8L3RhYmxlPiA8ZGl2IGNsYXNzPSJmb3JtLWJ1dHRvbi1jb250YWluZXIiPiA8ZGl2IGNsYXNzPSJmb3JtLWJ1dHRvbi1hbGlnbiI+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGZlYXR1cmVUeXBlSGFzR2VvbWV0cnl9e0BldmVudC1jbGljazogaGFuZGxlQ2xpY2tFZGl0R2VvbWV0cnl9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNFZGl0aW5nR2VvbWV0cnl9Ij5FZGl0IEdlb21ldHJ5PC9zcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNFZGl0aW5nR2VvbWV0cnl9Ij5TdG9wIGVkaXRpbmcgR2VvbWV0cnk8L3NwYW4+IDwvYT4gIDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVDbGlja0RlbGV0ZX0iPkRlbGV0ZTwvYT4gPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZUNsaWNrU2F2ZX0iPlNhdmU8L2E+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LWNsaWNrOiBoYW5kbGVDbGlja0NhbmNlbH0iPkNhbmNlbDwvYT4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJwYW5lbC1ncm91cCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZWRpdGluZ05ld0ZlYXR1cmV9Ij4gPGgzPkNyZWF0ZS9FZGl0IFJlbGF0ZWQgRmVhdHVyZXM8L2gzPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGN1cnJlbnRGZWF0dXJlUmVsYXRpb25zaGlwc30iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogY3VycmVudEZlYXR1cmVSZWxhdGlvbnNoaXBzfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tBZGRSZWxhdGVkUmVjb3JkfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0ZXh0fSI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiAgIDwvZGl2PiA8L2Rpdj4gIDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureLayer/EditLogView.html","html","PGRpdiBjbGFzcz0idmlldy1lZGl0LWxvZyI+IDxkaXYgY2xhc3M9InBhbmVsLWhlYWRlciI+IDxoMj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWVkaXQtbG9nfSI+PC9zcGFuPiZuYnNwOy0mbmJzcDs8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdG90YWxFZGl0c30iPjwvc3Bhbj4mbmJzcDs8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWVkaXQtbG9nLXBlbmRpbmctZWRpdHN9Ij48L3NwYW4+LjwvaDI+IDwvZGl2PiA8ZGl2IGNsYXNzPSJuby1yZXN1bHRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBlZGl0TG9nRW50cmllc317QHRleHQ6IEBsYW5ndWFnZS1lZGl0LWxvZy1lbXB0eX0iPjwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBlZGl0TG9nRW50cmllc30iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGVkaXRMb2dFbnRyaWVzfXtAdGVtcGxhdGUtc2VsZWN0b3I6IHR5cGV9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGVkaXRMb2dFbnRyaWVzfSI+IDxoMiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGVzY3JpcHRpb259Ij48L2gyPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGFzR2VvbWV0cnl9Ij5IYXMgZ2VvbWV0cnkuPC9zcGFuPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogY29tbWl0dGVkfSI+Q29tbWl0dGVkLjwvc3Bhbj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGdjeGlkfSI+R0NYSUQ6IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBnY3hpZH0iPjwvc3Bhbj48L3NwYW4+IDwvZGl2PiA8L3VsPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureLayer/FeatureLayerDetailsView.html","html","PGRpdiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBjdXJyZW50RmVhdHVyZUxheWVyfSIgPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGN1cnJlbnRGZWF0dXJlTGF5ZXJ9Ij4gIDxkaXYgY2xhc3M9InBhbmVsLWNvbnRlbnQiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IG1ldGFkYXRhfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbWV0YWRhdGF9Ij4gPHAgY2xhc3M9InBhbmVsLW5vdGlmaWNhdGlvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzTm90Q2FjaGVkfXtAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItbm8tY2FjaGVkLWRhdGEiPjwvcD4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAiPiA8aDMgY2xhc3M9InN1Yi1oZWFkZXIiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1sYXllci1kZXRhaWxzfSI+PC9oMz4gPGRpdiBjbGFzcz0ibGlzdC1tZW51Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGlzTm90Q2FjaGVkfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1udW1iZXItb2YtZmVhdHVyZXN9Ij48L3NwYW4+PHNwYW4+OiZuYnNwOzwvc3Bhbj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogY291bnR9Ij48L3NwYW4+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNOb3RDYWNoZWR9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWxheWVyLXNpemV9Ij48L3NwYW4+PHNwYW4+OiZuYnNwOzwvc3Bhbj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogc2l6ZX0iPjwvc3Bhbj4gPC9kaXY+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc05vdENhY2hlZH0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItY2FjaGVkLW9ufSI+PC9zcGFuPjxzcGFuPjombmJzcDs8L3NwYW4+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHN0b3JlZE9ufSI+PC9zcGFuPiA8L2Rpdj4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iPiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0iPiA8bGFiZWwgY2xhc3M9ImxhYmVsIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItd2hlcmUtY2xhdXNlfSI+PC9sYWJlbD4gPGRpdiBjbGFzcz0iZm9ybS1pbnB1dCI+IDxpbnB1dCB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IHdoZXJlQ2xhdXNlfSIvPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGFzUmVsYXRlZFRhYmxlc30iPiA8aDMgY2xhc3M9InN1Yi1oZWFkZXIiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1yZWxhdGVkLWZlYXR1cmVzfSI+PC9oMz4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiByZWxhdGlvbnNoaXBzfSI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiByZWxhdGlvbnNoaXBzfSI+IDxwPjxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBuYW1lfSI+PC9zcGFuPjwvcD4gPHAgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNOb3RDYWNoZWR9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWxheWVyLW51bWJlci1vZi1mZWF0dXJlc30iPjwvc3Bhbj48c3Bhbj46Jm5ic3A7PC9zcGFuPjxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBjb3VudH0iPjwvc3Bhbj4gPC9wPiA8cCBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpc05vdENhY2hlZH0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItc2l6ZX0iPjwvc3Bhbj48c3Bhbj46Jm5ic3A7PC9zcGFuPjxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBzaXplfSI+PC9zcGFuPiA8L3A+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9InBhbmVsLWdyb3VwLWNvbnRlbnRzIj4gPGRpdiBjbGFzcz0iZm9ybS1idXR0b24tY29udGFpbmVyIj4gPGRpdiBjbGFzcz0iZm9ybS1idXR0b24tYWxpZ24iPiA8YSBjbGFzcz0iYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlWm9vbUNsaWNrfXtAaGlkZGVuOiBpc05vdENhY2hlZH17QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWxheWVyLXZpZXctY2FjaGVkLWV4dGVudH0iPjwvYT4gPGEgY2xhc3M9ImJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZUNsZWFyQ2xpY2t9e0BoaWRkZW46IGlzTm90Q2FjaGVkfXtAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItY2xlYXItZGF0YX0iPjwvYT4gPGEgY2xhc3M9ImJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtY2xpY2s6IGhhbmRsZUNhY2hlQ2xpY2t9e0B0ZXh0OiBAbGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1jYWNoZS1kYXRhfSI+PC9hPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureLayer/FeatureLayerListView.html","html","PGRpdiBjbGFzcz0iZmVhdHVyZS1sYXllciI+ICA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzeW5jTmVlZGVkfSI+IDxkaXYgY2xhc3M9InBhbmVsLWhlYWRlciI+IDxoMiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItcGVuZGluZy1lZGl0cy1tdWx0aXBsZS1sYXllcnN9Ij48L2gyPiA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJidXR0b24iIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlU3luY2hyb25pemVDbGlja317QHRleHQ6IEBsYW5ndWFnZS1mZWF0dXJlLWxheWVyLXN5bmMtZWRpdHN9Ij48L2E+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmZWF0dXJlTGF5ZXJzfSI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBmZWF0dXJlTGF5ZXJzfXtAZXZlbnQtY2xpY2s6IGhhbmRsZUZlYXR1cmVMYXllckNsaWNrfSI+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbWV0YWRhdGF9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbWV0YWRhdGF9Ij4gPHNwYW4gY2xhc3M9ImNhY2hlZCIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaXNOb3RDYWNoZWR9Ij48L3NwYW4+IDxzcGFuIGNsYXNzPSJub3QtY2FjaGVkIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaXNOb3RDYWNoZWR9Ij48L3NwYW4+IDwvc3Bhbj4gPC9zcGFuPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUtZGV0YWlscyI+IDxzcGFuIGNsYXNzPSJsaXN0LW1lbnUtbmFtZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureLayer/FeatureTemplate.html","html","PGEgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlRmVhdHVyZVRlbXBsYXRlQ2xpY2t9Ij4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1uYW1lIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG5hbWV9Ij48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkZXNjcmlwdGlvbn0iPiZuYnNwOy0mbmJzcDs8L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkZXNjcmlwdGlvbn0iPjwvc3Bhbj4gPC9zcGFuPiA8L2E+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureLayer/ModalMessageView.html","html","DQo8ZGl2IGNsYXNzPSJtb2RhbC1tZXNzYWdlLXZpZXciPiA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkZXIiPiA8aDIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG1lc3NhZ2V9Ij48L2gyPiA8L2Rpdj4gPGRpdiBjbGFzcz0icGFuZWwtZ3JvdXAtY29udGVudHMiPiA8dWwgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbWVzc2FnZXN9Ij4gPGxpIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IG1lc3NhZ2VzfXtAdGV4dDogbWVzc2FnZX17Y2xhc3NOYW1lOiBjc3NDbGFzc30iPjwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/IWantToMenu/IWantToMenuButtonView.html","html","DQo8YSBjbGFzcz0id3RtLWJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiB0YWJpbmRleD0iMCIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IG1lbnVUaXRsZX17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUJ1dHRvbkNsaWNrfSI+PC9hPiA8ZGl2IGNsYXNzPSJ3dG0tbGlzdC1jb250YWluZXIiIGRhdGEtcmVnaW9uLW5hbWU9IklXYW50VG9NZW51UmVnaW9uIj48L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/IWantToMenu/IWantToMenuView.html","html","PGRpdiBjbGFzcz0id3RtLWxpc3QiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBtZW51SXRlbXN9Ij4gPGRpdiBjbGFzcz0id2FudHRvbWVudS1uby1pdGVtcyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogbWVudUl0ZW1zfXtAdGV4dDogQGxhbmd1YWdlLWl3dG0tbm8taXRlbXN9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IGFjdGl2ZSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IG1lbnVJdGVtc317QHNvdXJjZTogbWVudUl0ZW1zfSI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBtZW51SXRlbXN9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVJdGVtQ2xpY2t9Ij4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie3NyYzogaWNvblVyaX17YWx0OiB0ZXh0fSIgLz4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWRldGFpbHMiPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0ZXh0fSI+PC9zcGFuPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkZXNjcmlwdGlvbn17QHRleHQ6IGRlc2NyaXB0aW9ufSI+PC9zcGFuPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Log/LogStatusView.html","html","PGRpdiBjbGFzcz0ibG9nLXN0YXR1cyI+IDxkaXYgY2xhc3M9ImJ1dHRvbiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGxvZ0VudHJpZXN9Ij4gPGEgY2xhc3M9ImxvZy12aWV3LWJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2t9Ij48L2E+IDwvZGl2PiA8L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Log/LogView.html","html","PGRpdiBjbGFzcz0ibG9ndmlldyI+IDxkaXYgY2xhc3M9ImxvZ3ZpZXctaGVhZGVyIj4gPGgyIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogQGxhbmd1YWdlLWxvZy10aXRsZX0iPjwvaDI+IDxkaXYgY2xhc3M9ImxvZ3ZpZXctaGVhZGVyLWJ1dHRvbnMiPiA8YSBjbGFzcz0iYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0NsZWFyfXtAdmlzaWJsZTogbG9nRW50cmllc317aW5uZXJIVE1MOiBAbGFuZ3VhZ2UtbG9nLWNsZWFyfSI+PC9hPiA8YSBjbGFzcz0iYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0hpZGV9e2lubmVySFRNTDogQGxhbmd1YWdlLWxvZy1oaWRlfSI+PC9hPiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImxvZ3ZpZXctaW5uZXIiPiAgPGRpdiBjbGFzcz0ibm8tcmVzdWx0cyIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogbG9nRW50cmllc317aW5uZXJIVE1MOiBAbGFuZ3VhZ2UtbG9nLW5vLWVudHJpZXN9Ij48L2Rpdj4gIDx0YWJsZSBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogbG9nRW50cmllc30iPiA8dGhlYWQ+IDx0cj4gPHRoIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogQGxhbmd1YWdlLWxvZy1sZXZlbH0iPjwvdGg+IDx0aCBkYXRhLWJpbmRpbmc9Intpbm5lckhUTUw6IEBsYW5ndWFnZS1sb2ctdGltZXN0YW1wfSI+PC90aD4gPHRoIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogQGxhbmd1YWdlLWxvZy1tZXNzYWdlfSI+PC90aD4gPC90cj4gPC90aGVhZD4gPHRib2R5IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGxvZ0VudHJpZXN9Ij4gPHRyIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGxvZ0VudHJpZXN9Ij4gPHRkIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogbGV2ZWx9e2NsYXNzTmFtZTogY3NzQ2xhc3N9Ij48L3RkPiA8dGQgZGF0YS1iaW5kaW5nPSJ7aW5uZXJIVE1MOiB0aW1lc3RhbXB9e2NsYXNzTmFtZTogY3NzQ2xhc3N9Ij48L3RkPiA8dGQgZGF0YS1iaW5kaW5nPSJ7aW5uZXJIVE1MOiBtZXNzYWdlfXtjbGFzc05hbWU6IGNzc0NsYXNzfSI+PC90ZD4gPC90cj4gPC90Ym9keT4gPC90YWJsZT4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapHostView.html","html","PGRpdiBjbGFzcz0icmVnaW9uIG1hcC1yZWdpb24iIGRhdGEtcmVnaW9uLW5hbWU9Ik1hcFJlZ2lvbiI+PC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/MapView.html","html","DQo8ZGl2IGNsYXNzPSJtYXAtaW5pdGlhbGl6YXRpb24tZXJyb3IiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaXRlRmFpbGVkfSI+IDxkaXYgY2xhc3M9Im1lc3NhZ2UtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0ibWVzc2FnZSI+IDxoMiBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLW1hcC1zaXRlLWluaXRpYWxpemF0aW9uLWZhaWxlZH0iPjwvaDI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLWRlYnVnLWxvZy1rZXlzfSI+PC9wPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiA8ZGl2IGlkPSJtYXAtY29udGFpbmVyIiBzdHlsZT0iaGVpZ2h0OiAxMDAlOyB3aWR0aDogMTAwJSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogc2l0ZUZhaWxlZH0iPiAgPGRpdiBpZD0ibWFwIiBjbGFzcz0ibWFwIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBtYXBEaXZ9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtY2VudGVyLXJlZ2lvbiIgZGF0YS1yZWdpb24tbmFtZT0iQ2VudGVyUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlN0YWNrUmVnaW9uQWRhcHRlciI+PC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtdG9wLWxlZnQiIGRhdGEtcmVnaW9uLW5hbWU9IlRvcExlZnRNYXBSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBjbGFzcz0icmVnaW9uIG1hcC1uYXZpZ2F0aW9uLXJlZ2lvbiIgZGF0YS1yZWdpb24tbmFtZT0iTmF2aWdhdGlvbk1hcFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLXRvcC1jZW50ZXIiIGRhdGEtcmVnaW9uLW5hbWU9IlRvcENlbnRlck1hcFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLXRvcC1yaWdodCIgZGF0YS1yZWdpb24tbmFtZT0iVG9wUmlnaHRNYXBSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBjbGFzcz0icmVnaW9uIG1hcC1taWRkbGUtcmlnaHQiIGRhdGEtcmVnaW9uLW5hbWU9Ik1pZGRsZVJpZ2h0TWFwUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlN0YWNrUmVnaW9uQWRhcHRlciI+PC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtYm90dG9tLXJpZ2h0IiBkYXRhLXJlZ2lvbi1uYW1lPSJCb3R0b21SaWdodE1hcFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLWJvdHRvbS1jZW50ZXIiIGRhdGEtcmVnaW9uLW5hbWU9IkJvdHRvbUNlbnRlck1hcFJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5EaXZTdGFja1JlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8ZGl2IGNsYXNzPSJyZWdpb24gbWFwLWJvdHRvbS1sZWZ0IiBkYXRhLXJlZ2lvbi1uYW1lPSJCb3R0b21MZWZ0TWFwUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLkRpdlN0YWNrUmVnaW9uQWRhcHRlciI+PC9kaXY+IDxkaXYgY2xhc3M9InJlZ2lvbiBtYXAtbWlkZGxlLWxlZnQiIGRhdGEtcmVnaW9uLW5hbWU9Ik1pZGRsZWxlZnRNYXBSZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuRGl2U3RhY2tSZWdpb25BZGFwdGVyIj48L2Rpdj4gIDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/MapTips/MapCalloutView.html","html","PGRpdiBjbGFzcz0ibWFwLWNhbGxvdXQiPiA8ZGl2IGNsYXNzPSJtYXAtY2FsbG91dC1oZWFkZXIiPiA8aDIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRpdGxlfSI+PC9oMj4gPGEgY2xhc3M9ImhlYWRlci1jbG9zZS1idXR0b24iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsb3NlfSI+Q2xvc2U8L2E+IDwvZGl2PiA8ZGl2IGNsYXNzPSJtYXAtY2FsbG91dC1jb250ZW50cyI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGRvbTogaW5uZXJDb250ZW50fSI+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ibWFwLWNhbGxvdXQtcG9pbnRlciI+IDxkaXYgY2xhc3M9Im1hcC1jYWxsb3V0LXBvaW50ZXItaW1hZ2UiPjwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/MapTips/MapTipContent.html","html","PGRpdiBjbGFzcz0ibWFwLXRpcC1jb250ZW50Ij4gPGRpdiBkYXRhLWJpbmRpbmc9Intpbm5lckhUTUw6IGN1cnJlbnREZXNjcmlwdGlvbn0iPjwvZGl2PiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLW5vLXJlc3VsdHMtc2hvcnR9e0B2aXNpYmxlOiBzaG93Tm9SZXN1bHRzfSI+PC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tbG9hZGluZ317QHZpc2libGU6IHNob3dMb2FkaW5nfSI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Native/AttachPhotoView.html","html","PGRpdiBjbGFzcz0iYXR0YWNoLXBob3RvIj4gPGRpdiBjbGFzcz0icGFuZWwtY29udGVudCIgc3R5bGU9InRleHQtYWxpZ246IGNlbnRlciI+IDxhIGNsYXNzPSJidXR0b24iIHN0eWxlPSJ3aWR0aDogMjAwcHg7IG1hcmdpbi10b3A6IDMycHgiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRha2VOYXRpdmVQaG90b1dpdGhDYW1lcmF9e0B0ZXh0OiBAbGFuZ3VhZ2UtbmF0aXZlLXBob3RvLWZyb20tY2FtZXJhfSI+PC9hPiA8L2E+LS0+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Prompt/PromptView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlLWNvbnRhaW5lciBwcm9tcHQiPiA8ZGl2IGNsYXNzPSJwcm9tcHQtYm9keSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRlc2NyaXB0aW9ufSI+PC9kaXY+IDxkaXYgY2xhc3M9InByb21wdC12YWx1ZSI+IDxkaXYgY2xhc3M9InRleHQtYXJlYSI+IDxmb3JtIGRhdGEtYmluZGluZz0ie0BldmVudC1vbnN1Ym1pdDogaGFuZGxlQ2xpY2tPa30iPiA8aW5wdXQgdHlwZT0idGV4dCIgY2xhc3M9InByb21wdC12YWx1ZS10ZXh0YXJlYSIgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiBwcm9tcHRUZXh0fSIgLz4gIDxpbnB1dCB0eXBlPSJzdWJtaXQiIGNsYXNzPSJib3VuZC1pbnZpc2libGUiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja09rfSIgLz4gPC9mb3JtPiA8L2Rpdj4gPGRpdiBjbGFzcz0iZm9ybS1idXR0b24tY29udGFpbmVyIj4gPGEgY2xhc3M9ImJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBva0J1dHRvbkVsZW1lbnR9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja09rfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1va30iPjwvYT48YSBjbGFzcz0iYnV0dG9uIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0NhbmNlbH17QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tY2FuY2VsfSI+PC9hPiA8L2Rpdj4gPGRpdiBjbGFzcz0iY2xlYXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Results/FeatureSetManagerView.html","html","PGRpdiBjbGFzcz0icmVzdWx0cyI+IDxkaXYgY2xhc3M9InJlc3VsdHMtY29udGFpbmVyIj4gPHVsIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGZlYXR1cmVTZXRDb2xsZWN0aW9uc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZmVhdHVyZVNldENvbGxlY3Rpb25zfSI+IDxkaXYgc3R5bGU9ImJvcmRlcjoxcHggc29saWQgYmxhY2s7Ij4gPGRpdj5OYW1lOiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9Ij48L3NwYW4+PC9kaXY+IDxkaXY+U291cmNlOiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogc291cmNlTmFtZX0iPjwvc3Bhbj48L2Rpdj4gPGRpdj5GZWF0dXJlIFNldHM6PC9kaXY+IDx1bCBzdHlsZT0icGFkZGluZy1sZWZ0OjEwcHg7IiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmZWF0dXJlU2V0c30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZmVhdHVyZVNldHN9Ij4gPGRpdj48c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9e0Bzb3VyY2U6IGZlYXR1cmVzfSI+PC9zcGFuPjxwIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGZlYXR1cmVzfSI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZmVhdHVyZXN9Ij4uIDwvc3Bhbj48L3A+PC9kaXY+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2xpPiA8L3VsPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Results/ResultsFeatureActionsView.html","html","DQo8ZGl2IGNsYXNzPSJsaXN0LW1lbnUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGZlYXR1cmVBY3Rpb25zfSI+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1pdGVtIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBmZWF0dXJlQWN0aW9uc317QGV2ZW50LW9ubW91c2VvdmVyOiBoYW5kbGVHZXREZXNjcmlwdGlvbn17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZU1lbnVJdGVtQ2xpY2t9Ij4gIDxkaXYgY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGV4dH0iPjwvc3Bhbj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1kZXNjIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGVzY3JpcHRpb259Ij48L3NwYW4+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Results/ResultsListView.html","html","DQo8ZGl2IGNsYXNzPSJyZXN1bHRzIj4gIDxkaXYgY2xhc3M9Im5vLXJlc3VsdHMiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGZlYXR1cmVTZXRDb2xsZWN0aW9ufSI+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLW5vLXJlc3VsdHN9Ij48L3A+IDxwIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLW5vLXJlc3VsdHMtZGVzY30iPjwvcD4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogZmVhdHVyZVNldENvbGxlY3Rpb259Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBmZWF0dXJlU2V0Q29sbGVjdGlvbn0iPiA8ZGl2IGNsYXNzPSJuby1yZXN1bHRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBmZWF0dXJlU2V0c30iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLW5vLXJlc3VsdHN9Ij48L2Rpdj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gICA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBzaG93TWFzdGVyfXtjbGFzczpybHZSZXN1bHRzTGlzdH17QHZhcjogc2Nyb2xsQ29udGFpbmVyRWxlbWVudH17QGV2ZW50LW9uc2Nyb2xsOiBoYW5kbGVTY3JvbGxDaGFuZ2V9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51IGFjdGl2ZSBoYXMtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogcmx2UmVzdWx0c1BhZ2V9e0B2aXNpYmxlOiBybHZSZXN1bHRzUGFnZX17QHZhcjogcmVzdWx0c0xpc3R9Ij4gPGRpdiBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHJsdlJlc3VsdHNQYWdlfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BldmVudC1tb3VzZWRvd246IGhhbmRsZU1vdXNlRG93bn0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAZXZlbnQtbW91c2V1cDogaGFuZGxlTW91c2VVcH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAZXZlbnQtdG91Y2hzdGFydDogaGFuZGxlVG91Y2hTdGFydH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAZXZlbnQtdG91Y2htb3ZlOiBoYW5kbGVUb3VjaE1vdmV9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGV2ZW50LXRvdWNoZW5kOiBoYW5kbGVUb3VjaEVuZH0iPiA8aW1nIGNsYXNzPSJsaXN0LW1lbnUtaWNvbiIgZGF0YS1iaW5kaW5nPSJ7c3JjOiBpY29uVXJpfXthbHQ6IGxhYmVsfXtAdmlzaWJsZTogaWNvblVyaX0iLz4gPGltZyBjbGFzcz0ibGlzdC1tZW51LWljb24iIGRhdGEtYmluZGluZz0ie2FsdDogbGFiZWx9e0BoaWRkZW46IGljb25Vcml9IiBzcmM9IlJlc291cmNlcy9JbWFnZXMvSWNvbnMvZ2xvYmUtMzIucG5nIi8+IDxkaXYgY2xhc3M9Imxpc3QtbWVudS1kZXRhaWxzIj4gPHNwYW4gY2xhc3M9Imxpc3QtbWVudS1uYW1lIiBkYXRhLWJpbmRpbmc9Intpbm5lckhUTUw6IGxhYmVsfXtAdmlzaWJsZTogbGFiZWx9IiA+PC9zcGFuPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LWRlc2MiIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogZGVzY3JpcHRpb259e0B2aXNpYmxlOiBkZXNjcmlwdGlvbn0iPjwvc3Bhbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4gPC9kaXY+ICAgPGRpdiBjbGFzcz0icGFnaW5nLWNvbnRyb2wiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBybHZQYWdlQ29udHJvbHNFbmFibGVkfSI+IDxkaXYgY2xhc3M9InBhZ2luZy1jb250cm9sLWlubmVyIj4gPGRpdiBjbGFzcz0icGFnaW5nLXJlc3VsdC1pbmZvIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1yZXN1bHRzLWRpc3BsYXlpbmd9Ij48L3NwYW4+Jm5ic3A7PHNwYW4gZGF0YS1iaW5kaW5nPSJ7aW5uZXJIVE1MOiBybHZQYWdlU3RhcnRJZHh9Ij48L3NwYW4+Jm5ic3A7LSZuYnNwOzxzcGFuIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogcmx2UGFnZUVuZElkeH0iPjwvc3Bhbj4mbmJzcDsoPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1yZXN1bHRzLXRvdGFsfSI+PC9zcGFuPjombmJzcDs8c3BhbiBkYXRhLWJpbmRpbmc9Intpbm5lckhUTUw6IHJsdlJlc3VsdHNUb3RhbH0iPjwvc3Bhbj4pIDwvZGl2PiA8ZGl2IGNsYXNzPSJwYWdpbmctYnV0dG9ucyIgIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBybHZJc1BhZ2VkfSI+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImZpcnN0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlUGFnZUZpcnN0fXt0aXRsZTogQGxhbmd1YWdlLXBhZ2UtZmlyc3R9Ij48L2E+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9InByZXYiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVQYWdlUHJldn17dGl0bGU6IEBsYW5ndWFnZS1wYWdlLXByZXZ9Ij48L2E+IDxzcGFuIGNsYXNzPSJwYWdpbmctYnV0dG9ucy1pbmZvIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1yZXN1bHRzLXBhZ2V9Ij48L3NwYW4+Jm5ic3A7PHNwYW4gZGF0YS1iaW5kaW5nPSJ7aW5uZXJIVE1MOiBybHZQYWdlTnVtYmVyfSI+PC9zcGFuPiZuYnNwOzxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcmVzdWx0cy1wYWdlLW9mfSI+PC9zcGFuPiZuYnNwOzxzcGFuIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogcmx2TWF4UGFnZU51bWJlcn0iPjwvc3Bhbj4gPC9zcGFuPiA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJuZXh0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlUGFnZU5leHR9e3RpdGxlOiBAbGFuZ3VhZ2UtcGFnZS1uZXh0fSI+PC9hPiA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJsYXN0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlUGFnZUxhc3R9e3RpdGxlOiBAbGFuZ3VhZ2UtcGFnZS1sYXN0fSI+PC9hPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiAgPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Results/ResultsTableView.html","html","PGRpdiBjbGFzcz0icmVzdWx0cyI+ICA8ZGl2IGNsYXNzPSJuby1yZXN1bHRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBmZWF0dXJlU2V0Q29sbGVjdGlvbn0iPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1uby1yZXN1bHRzfSI+PC9wPiA8cCBkYXRhLWJpbmRpbmc9IntAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1uby1yZXN1bHRzLWRlc2N9Ij48L3A+IDwvZGl2PiA8ZGl2IGNsYXNzPSJmZWF0dXJlLXNldC1jb2xsZWN0aW9uIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBmZWF0dXJlU2V0Q29sbGVjdGlvbn0iPiA8ZGl2IGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGZlYXR1cmVTZXRDb2xsZWN0aW9ufSI+IDxkaXYgY2xhc3M9Im5vLXJlc3VsdHMiIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGZlYXR1cmVTZXRzfSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6QGxhbmd1YWdlLWNvbW1vbi1uby1yZXN1bHRzfSI+PC9kaXY+IDwvZGl2PiA8dWwgY2xhc3M9InRhYi1jb250cm9sIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZmVhdHVyZVNldHN9e0Bzb3VyY2U6IGZlYXR1cmVTZXRzfSI+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBmZWF0dXJlU2V0c30iPiA8YSBjbGFzcz0idGFiIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9e3RpdGxlOiBkaXNwbGF5TmFtZX17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVRhYkNsaWNrfXtAaGlkZGVuOiBpc1NlbGVjdGVkSW5Db2xsZWN0aW9ufSI+PC9hPiA8YSBjbGFzcz0idGFiLWFjdGl2ZSIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfXt0aXRsZTogZGlzcGxheU5hbWV9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVUYWJDbGlja317QHZpc2libGU6IGlzU2VsZWN0ZWRJbkNvbGxlY3Rpb259Ij48L2E+IDwvbGk+IDwvdWw+IDwvZGl2PiA8L2Rpdj4gICA8ZGl2IGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBydHZSZXN1bHRzUGFnZX17Y2xhc3M6cnR2UmVzdWx0c1RhYmxlfXtAdmFyOiBzY3JvbGxDb250YWluZXJFbGVtZW50fSI+IDx0YWJsZT4gPHRoZWFkIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHJ0dkN1ckZlYXR1cmVTZXR9Ij4gPHRyIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHJ0dkN1ckZlYXR1cmVTZXR9e0Bzb3VyY2U6IGF0dHJpYnV0ZXN9Ij4gPHRoIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGF0dHJpYnV0ZXN9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRpc3BsYXlOYW1lfSI+PC9zcGFuPiA8L3RoPiA8L3RyPiA8L3RoZWFkPiA8dGJvZHkgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogcnR2UmVzdWx0c1BhZ2V9Ij4gPHRyIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHJ0dlJlc3VsdHNQYWdlfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAc291cmNlOiBhdHRyaWJ1dGVzfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAZXZlbnQtbW91c2Vkb3duOiBoYW5kbGVNb3VzZURvd259DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAge0BldmVudC1tb3VzZXVwOiBoYW5kbGVNb3VzZVVwfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAZXZlbnQtdG91Y2hzdGFydDogaGFuZGxlVG91Y2hTdGFydH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB7QGV2ZW50LXRvdWNobW92ZTogaGFuZGxlVG91Y2hNb3ZlfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHtAZXZlbnQtdG91Y2hlbmQ6IGhhbmRsZVRvdWNoRW5kfSI+IDx0ZCBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBhdHRyaWJ1dGVzfXtAdmlzaWJsZTogdmlzaWJsZX0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdmFsdWV9Ij48L3NwYW4+IDwvdGQ+IDwvdHI+IDwvdGJvZHk+IDwvdGFibGU+IDwvZGl2PiAgIDxkaXYgY2xhc3M9InBhZ2luZy1jb250cm9sIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogcnR2UGFnZUNvbnRyb2xzRW5hYmxlZH0iPiA8ZGl2IGNsYXNzPSJwYWdpbmctY29udHJvbC1pbm5lciI+IDxkaXYgY2xhc3M9InBhZ2luZy1yZXN1bHQtaW5mbyI+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcmVzdWx0cy1kaXNwbGF5aW5nfSI+PC9zcGFuPiZuYnNwOzxzcGFuIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogcnR2UGFnZVN0YXJ0SWR4fSI+PC9zcGFuPiZuYnNwOy0mbmJzcDs8c3BhbiBkYXRhLWJpbmRpbmc9Intpbm5lckhUTUw6IHJ0dlBhZ2VFbmRJZHh9Ij48L3NwYW4+Jm5ic3A7KDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcmVzdWx0cy10b3RhbH0iPjwvc3Bhbj46Jm5ic3A7PHNwYW4gZGF0YS1iaW5kaW5nPSJ7aW5uZXJIVE1MOiBydHZSZXN1bHRzVG90YWx9Ij48L3NwYW4+KSA8L2Rpdj4gPGRpdiBjbGFzcz0icGFnaW5nLWJ1dHRvbnMiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBydHZJc1BhZ2VkfSI+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9ImZpcnN0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlUGFnZUZpcnN0fXt0aXRsZTogQGxhbmd1YWdlLXBhZ2UtZmlyc3R9Ij48L2E+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgY2xhc3M9InByZXYiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVQYWdlUHJldn17dGl0bGU6IEBsYW5ndWFnZS1wYWdlLXByZXZ9Ij48L2E+IDxzcGFuIGNsYXNzPSJwYWdpbmctYnV0dG9ucy1pbmZvIj4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1yZXN1bHRzLXBhZ2V9Ij48L3NwYW4+Jm5ic3A7PHNwYW4gZGF0YS1iaW5kaW5nPSJ7aW5uZXJIVE1MOiBydHZQYWdlTnVtYmVyfSI+PC9zcGFuPiZuYnNwOzxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtcmVzdWx0cy1wYWdlLW9mfSI+PC9zcGFuPiZuYnNwOzxzcGFuIGRhdGEtYmluZGluZz0ie2lubmVySFRNTDogcnR2TWF4UGFnZU51bWJlcn0iPjwvc3Bhbj4gPC9zcGFuPiA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJuZXh0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlUGFnZU5leHR9e3RpdGxlOiBAbGFuZ3VhZ2UtcGFnZS1uZXh0fSI+PC9hPiA8YSBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGNsYXNzPSJsYXN0IiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlUGFnZUxhc3R9e3RpdGxlOiBAbGFuZ3VhZ2UtcGFnZS1sYXN0fSI+PC9hPiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiAgPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Search/SearchView.html","html","DQo8ZGl2IGNsYXNzPSJnbG9iYWwtc2VhcmNoIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZW5hYmxlVUl9Ij4gPGlucHV0IHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0B2YWx1ZTogc2VhcmNoVGV4dH17QGV2ZW50LWtleWRvd246IGhhbmRsZUtleURvd259e3BsYWNlaG9sZGVyOiBAbGFuZ3VhZ2Utc2VhcmNoLXBsYWNlaG9sZGVyfSIvPiA8YnV0dG9uIGRhdGEtYmluZGluZz0ie0BldmVudC1jbGljazogaGFuZGxlU2VhcmNoQ2xpY2t9Ij48L2J1dHRvbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/DataFrameTabView.html","html","PGRpdiBjbGFzcz0ibGFyZ2Utc2hlbGwtdGFiIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZGF0YUZyYW1lSGFzVmlld3N9Ij4gPGEgY2xhc3M9InRhYi1jbG9zZWQiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogZGF0YUZyYW1lSXNPcGVufXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tUYWJ9Ij48L2E+IDxhIGNsYXNzPSJ0YWItb3BlbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZGF0YUZyYW1lSXNPcGVufXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tUYWJ9Ij48L2E+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/DebugView.html","html","PGRpdiBjbGFzcz0iZGVidWctdmlldyI+IDxkaXYgY2xhc3M9ImRlYnVnLXZpZXctaW5uZXIiPiA8Yj5EZWJ1ZyB2aWV3PC9iPiA8L2Rpdj4gPC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/DesktopShellView.html","html","PGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyLWlubmVyIj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJMb2dSZWdpb24iIGNsYXNzPSJyZWdpb24gbG9nLXJlZ2lvbiI+PC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWhlYWRlciI+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iSGVhZGVyUmVnaW9uIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBiYW5uZXJDb250YWluZXJFbGVtZW50fSIgY2xhc3M9InJlZ2lvbiBoZWFkZXItcmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYXJnZS1zaGVsbC1tYWluIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBtYWluRWxlbWVudH0iPiA8ZGl2IGNsYXNzPSJsYXJnZS1zaGVsbC1sZWZ0IHBhbmVsLWNsb3NlZCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogbGVmdEVsZW1lbnR9Ij4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJMZWZ0UGFuZWxSZWdpb24iIGNsYXNzPSJyZWdpb24gZGF0YS1yZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWNlbnRlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY2VudGVyRWxlbWVudH0iPiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9Ik1hcFJlZ2lvbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2NyZWVuUmVnaW9uRWxlbWVudH0iIGNsYXNzPSJyZWdpb24gbWFwLXJlZ2lvbiI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYXJnZS1zaGVsbC1yaWdodCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogcmlnaHRFbGVtZW50fSI+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iUmlnaHRQYW5lbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBkYXRhLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWJvdHRvbSIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogYm90dG9tRWxlbWVudH0iID4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJCb3R0b21QYW5lbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiAgIDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iTW9kZWxXaW5kb3dQbGFjZWhvbGRlclJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBtb2RhbCIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5Qb3B1cE1vZGFsUmVnaW9uQWRhcHRlciI+IDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRhaW5lciI+IDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRhaW5lci1pbm5lciI+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ibW9kYWwtb3ZlcmxheSI+PC9kaXY+IDxkaXYgY2xhc3M9ImZvb3QiPjwvZGl2PiA8ZGl2IGNsYXNzPSJjbGVhciI+PC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/HandheldShellView.html","html","PGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyLWlubmVyIj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJUb29sUmVnaW9uIiBjbGFzcz0icmVnaW9uIHRvb2wtcmVnaW9uIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBiYW5uZXJDb250YWluZXJFbGVtZW50fSI+PC9kaXY+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iU2NyZWVuUmVnaW9uIiBjbGFzcz0icmVnaW9uIHNjcmVlbi1yZWdpb24iDQogICAgICAgICAgICAgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2NyZWVuUmVnaW9uRWxlbWVudH0iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPGRpdiBjbGFzcz0iY2xlYXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9Im1vZGFsLW92ZXJsYXkiPjwvZGl2PiA8ZGl2IGNsYXNzPSJmb290Ij48L2Rpdj4gPGRpdiBjbGFzcz0iY2xlYXIiPjwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Shells/TabletShellView.html","html","PGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyIj4gPGRpdiBjbGFzcz0ic2hlbGwtY29udGFpbmVyLWlubmVyIj4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJMb2dSZWdpb24iIGNsYXNzPSJyZWdpb24gbG9nLXJlZ2lvbiI+PC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWhlYWRlciI+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iSGVhZGVyUmVnaW9uIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBiYW5uZXJDb250YWluZXJFbGVtZW50fSIgY2xhc3M9InJlZ2lvbiBoZWFkZXItcmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYXJnZS1zaGVsbC1tYWluIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBtYWluRWxlbWVudH0iPiA8ZGl2IGNsYXNzPSJsYXJnZS1zaGVsbC1sZWZ0IHBhbmVsLWNsb3NlZCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogbGVmdEVsZW1lbnR9Ij4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJMZWZ0UGFuZWxSZWdpb24iIGNsYXNzPSJyZWdpb24gZGF0YS1yZWdpb24iIGRhdGEtcmVnaW9uLWFkYXB0ZXI9Imdlb2NvcnRleC5mcmFtZXdvcmsudWkuTXVsdGlEaXZSZWdpb25BZGFwdGVyIj48L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWNlbnRlciIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY2VudGVyRWxlbWVudH0iPiA8ZGl2IGRhdGEtcmVnaW9uLW5hbWU9Ik1hcFJlZ2lvbiIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogc2NyZWVuUmVnaW9uRWxlbWVudH0iIGNsYXNzPSJyZWdpb24gbWFwLXJlZ2lvbiI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsYXJnZS1zaGVsbC1yaWdodCIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogcmlnaHRFbGVtZW50fSI+IDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iUmlnaHRQYW5lbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBkYXRhLXJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDxkaXYgY2xhc3M9ImxhcmdlLXNoZWxsLWJvdHRvbSIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogYm90dG9tRWxlbWVudH0iID4gPGRpdiBkYXRhLXJlZ2lvbi1uYW1lPSJCb3R0b21QYW5lbFJlZ2lvbiIgY2xhc3M9InJlZ2lvbiIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5NdWx0aURpdlJlZ2lvbkFkYXB0ZXIiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IDwvZGl2PiAgIDxkaXYgZGF0YS1yZWdpb24tbmFtZT0iTW9kZWxXaW5kb3dQbGFjZWhvbGRlclJlZ2lvbiIgY2xhc3M9InJlZ2lvbiBtb2RhbCIgZGF0YS1yZWdpb24tYWRhcHRlcj0iZ2VvY29ydGV4LmZyYW1ld29yay51aS5Qb3B1cE1vZGFsUmVnaW9uQWRhcHRlciI+IDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRhaW5lciI+IDxkaXYgY2xhc3M9Im1vZGFsLWNvbnRhaW5lci1pbm5lciI+PC9kaXY+IDwvZGl2PiA8L2Rpdj4gPGRpdiBjbGFzcz0ibW9kYWwtb3ZlcmxheSI+PC9kaXY+IDxkaXYgY2xhc3M9ImZvb3QiPjwvZGl2PiA8ZGl2IGNsYXNzPSJjbGVhciI+PC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/SimpleLayerList/SimpleLayerListView.html","html","PGRpdiBjbGFzcz0ibGF5ZXJsaXN0LWNvbnRhaW5lciI+IDxkaXYgY2xhc3M9ImxheWVybGlzdCIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbWFwU2VydmljZXN9e0B2aXNpYmxlOiBtYXBTZXJ2aWNlc30iPiA8dWwgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbWFwU2VydmljZXN9Ij4gPGxpIGNsYXNzPSJsYXllciIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGlkZVNlcnZpY2VOYW1lfSI+IDxkaXYgY2xhc3M9ImxheWVyLWluZm8gcGFyZW50LWxheWVyIj4gPGlucHV0IHR5cGU9ImNoZWNrYm94IiBkYXRhLWJpbmRpbmc9IntjaGVja2VkOiB2aXNpYmxlfXtAZXZlbnQtb25jaGFuZ2U6IHRvZ2dsZVNlcnZpY2VWaXNpYmlsaXR5fXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tFdmVudH0iIC8+PGltZyBjbGFzcz0ibWFwc2VydmljZS1pY29uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17dGl0bGU6IHRvb2xUaXB9e3NyYzogaWNvblVyaX0iLz48c3BhbiBjbGFzcz0iZGlzcGxheS1uYW1lIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogZGlzcGxheU5hbWV9e0BldmVudC1vbmNsaWNrOiB0b2dnbGVTZXJ2aWNlVmlzaWJpbGl0eX0iPjwvc3Bhbj4gPC9kaXY+IDwvbGk+IDxsaSBjbGFzcz0ibGF5ZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBsYXllckxpc3R9Ij4gPGRpdiBkYXRhLWJpbmRpbmc9IntjbGFzczogc2VydmljZUxheWVyc0Nzc317QHNvdXJjZTogbGF5ZXJMaXN0fXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9TaW1wbGVMYXllckxpc3QvVGVtcGxhdGVzL1NpbXBsZUxheWVySXRlbVRlbXBsYXRlLmh0bWx9Ij48L2Rpdj4gPC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/SimpleLayerList/Templates/SimpleLayerItemTemplate.html","html","IDx1bCBjbGFzcz0ibGF5ZXJzIj4gPGxpIGNsYXNzPSJsYXllciIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogbGF5ZXJMaXN0fSI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7ZGlzYWJsZWQ6IGNhbk5vdEFzc2lnblZpc2liaWxpdHl9e2NsYXNzOiBlbmFibGVkQ3NzfSI+IDxpbnB1dCB0eXBlPSJjaGVja2JveCIgZGF0YS1iaW5kaW5nPSJ7Y2hlY2tlZDogdmlzaWJsZX17Y2xhc3M6IGVuYWJsZWRDaGVja2JveENzc317ZGlzYWJsZWQ6IGNhbk5vdEFzc2lnblZpc2liaWxpdHl9e3RpdGxlOiB0b29sVGlwfXtAZXZlbnQtb25jaGFuZ2U6IHRvZ2dsZUxheWVyVmlzaWJpbGl0eX17QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrRXZlbnR9IiAvPjxzcGFuIGNsYXNzPSJkaXNwbGF5LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX17QGV2ZW50LW9uY2xpY2s6IHRvZ2dsZUxheWVyVmlzaWJpbGl0eX17QGV2ZW50LW1vdXNlZG93bjogaGFuZGxlTW91c2VEb3dufXtAZXZlbnQtbW91c2V1cDogaGFuZGxlTW91c2VVcH17QGV2ZW50LXRvdWNoc3RhcnQ6IGhhbmRsZVRvdWNoU3RhcnR9e0BldmVudC10b3VjaGVuZDogaGFuZGxlVG91Y2hFbmR9Ij48L3NwYW4+IDwvZGl2PiA8dWwgY2xhc3M9ImxheWVycyIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogbGF5ZXJMaXN0fXtAdGVtcGxhdGU6IE1hcHBpbmcvbW9kdWxlcy9TaW1wbGVMYXllckxpc3QvVGVtcGxhdGVzL1NpbXBsZUxheWVySXRlbVRlbXBsYXRlLmh0bWx9Ij48L3VsPiA8L2xpPiA8L3VsPiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Status/StatusIndicatorView.html","html","DQo8ZGl2IGNsYXNzPSJzdGF0dXMtaW5kaWNhdG9yIiBkYXRhLXJlZ2lvbi1uYW1lPSJTdGF0dXNJbmRpY2F0b3JNZXNzYWdlUmVnaW9uIiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Status/StatusMessageView.html","html","DQo8ZGl2IGNsYXNzPSJzdGF0dXMtd2luZG93Ij4gPGRpdiBjbGFzcz0ic3RhdHVzLXdpbmRvdy1jb250ZW50cyI+IDx0YWJsZT4gPHRyPiA8dGQ+PGltZyBkYXRhLWJpbmRpbmc9IntzcmM6IGltYWdlVXJpfXtAdmlzaWJsZTogaW1hZ2VVcml9IiAvPjwvdGQ+IDx0ZCBjbGFzcz0ic3RhdHVzLW1zZyI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRleHR9Ij48L3NwYW4+PC90ZD4gPHRkPiA8YSBjbGFzcz0ic3RhdHVzLWNsb3NlIiBocmVmPSJqYXZhc2NyaXB0OnZvaWQoMCkiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0Nsb3NlfXt0aXRsZTogQGxhbmd1YWdlLXBhbmVsLWNsb3NlfSIvPiA8L3RkPiA8L3RyPiA8L3RhYmxlPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/ToolbarManagedViewsView.html","html","DQo8ZGl2IGNsYXNzPSJ0YWItY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBob3N0ZWRWaWV3c30iPiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBob3N0ZWRWaWV3c317QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVZpZXdUaWxlQ2xpY2t9e2NsYXNzTmFtZTogaWR9e0B2YXI6IHRpbGVFbGVtZW50c30iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiBpY29uVXJpfXtAdGV4dDogdGl0bGV9Ij48L3NwYW4+PGltZyBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaWNvblVyaX17c3JjOiBpY29uVXJpfXthbHQ6IGRlc2NyaXB0aW9ufSIvPiA8ZGl2IGNsYXNzPSJoaWdobGlnaHQiPjwvZGl2PiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/ToolbarView.html","html","DQo8ZGl2IGNsYXNzPSJ0b29sYmFyIiBkYXRhLXJlZ2lvbi1uYW1lPSJUb29sYmFyVGFiQ29udGVudFJlZ2lvbiINCiAgICBkYXRhLWJpbmRpbmc9IntAZXZlbnQtbW91c2Vkb3duOiBoYW5kbGVNb3VzZURvd259DQogICAgICAgICAgICAgICAgICB7QGV2ZW50LW1vdXNldXA6IGhhbmRsZU1vdXNlVXB9DQogICAgICAgICAgICAgICAgICB7QGV2ZW50LXRvdWNoc3RhcnQ6IGhhbmRsZVRvdWNoU3RhcnR9DQogICAgICAgICAgICAgICAgICB7QGV2ZW50LXRvdWNoZW5kOiBoYW5kbGVUb3VjaEVuZH0iPjwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/DisplayCaptureGeometryView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlLWNvbnRhaW5lciBkaXNwbGF5LWNhcHR1cmUtZ2VvbWV0cnkiPiA8ZGl2IGNsYXNzPSJmb3JtLXRpdGxlIiBkYXRhLWJpbmRpbmc9IntAdGV4dDogdGl0bGV9e0B2aXNpYmxlOiBzaG93VGl0bGVJbkZvcm1Cb2R5fSI+PC9kaXY+ICA8ZGl2IGNsYXNzPSJ3b3JrZmxvdy1pbnN0cnVjdGlvbi1tc2ciIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBpbnN0cnVjdGlvbk1lc3NhZ2V9Ij48L2Rpdj4gIDxzcGFuIGNsYXNzPSJ3b3JrZmxvdy1mb3JtLWRlc2MiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBAbGFuZ3VhZ2UtZ2VvbWV0cnktdG9vbGJhci1pbnN0cnVjdGlvbnN9Ij48L3NwYW4+ICA8ZGl2IGNsYXNzPSJnZW9tZXRyeS1idXR0b25zIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBjYXB0dXJlVHlwZXN9Ij4gPGEgY2xhc3M9ImJ1dHRvbiBhbHQiIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogY2FwdHVyZVR5cGVzfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2FwdHVyZVR5cGVTZWxlY3Rpb259e2lkOiB0eXBlTmFtZX0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntjbGFzczogY2xhc3NOYW1lfSI+PC9zcGFuPiA8L2E+IDwvZGl2PiAgPGRpdiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd1JlcXVpcmVkVmFsaWRhdGlvbk1lc3NhZ2V9Ij4gPGRpdiBjbGFzcz0id29ya2Zsb3ctc3RhdHVzLW1zZyBpbnZhbGlkIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmFsaWRhdGlvblJlc3VsdHN9Ij4gPHRhYmxlPiA8dHI+IDx0ZD48aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9lcnJvci13aGl0ZS0yNC5wbmciIGRhdGEtYmluZGluZz0ie2FsdDogQGxhbmd1YWdlLWdlb21ldHJ5LWNhcHR1cmVkfSIvPjwvdGQ+IDx0ZCBkYXRhLWJpbmRpbmc9IntAc291cmNlOiB2YWxpZGF0aW9uUmVzdWx0c30iPjxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IHZhbGlkYXRpb25SZXN1bHRzfXtAdGV4dDogZXJyb3JNZXNzYWdlfSIgLz48L3RkPiA8L3RyPiA8L3RhYmxlPiA8L2Rpdj4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJ3b3JrZmxvdy1zdGF0dXMtbXNnIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogY2FwdHVyZWRNZXNzYWdlVmlzaWJsZX0iID4gPHRhYmxlPiA8dHI+IDx0ZD48aW1nIHNyYz0iUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9jaGVjay0yNC5wbmciIGRhdGEtYmluZGluZz0ie2FsdDogQGxhbmd1YWdlLWdlb21ldHJ5LWNhcHR1cmVkfSIvPjwvdGQ+IDx0ZCB2YWxpZ249Im1pZGRsZSI+PHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IEBsYW5ndWFnZS1nZW9tZXRyeS1jYXB0dXJlZH0iIC8+PC90ZD4gPC90cj4gPC90YWJsZT4gPC9kaXY+ICA8ZGl2IGNsYXNzPSJmb3JtLWJ1dHRvbi1jb250YWluZXIiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGJ1dHRvbnN9Ij4gPGEgY2xhc3M9ImJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBidXR0b25zfXtAdGV4dDogbGFiZWx9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0J1dHRvbn0iPjwvYT4gPC9kaXY+IDxkaXYgY2xhc3M9ImNsZWFyIj48L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/DisplayHyperlinkView.html","html","PGRpdiBjbGFzcz0ibW9kdWxlLWNvbnRhaW5lciBhbGVydCI+IDxkaXYgY2xhc3M9ImZvcm0tdGl0bGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX17QHZpc2libGU6IHNob3dUaXRsZUluRm9ybUJvZHl9Ij48L2Rpdj4gPGRpdiBjbGFzcz0iYWxlcnQtaW5uZXIiPiA8ZGl2IGNsYXNzPSJhbGVydC1ib2R5IiBkYXRhLWJpbmRpbmc9IntAdGV4dDogbWVzc2FnZX0iPjwvZGl2PiA8YSBkYXRhLWJpbmRpbmc9IntocmVmOiB1cml9e3RhcmdldDogdGFyZ2V0fXtAdGV4dDogaHlwZXJsaW5rVGV4dH0iPjwvYT4gPGRpdiBjbGFzcz0iZm9ybS1idXR0b24tY29udGFpbmVyIj4gPGRpdiBjbGFzcz0iZm9ybS1idXR0b24tYWxpZ24iIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGJ1dHRvbnN9Ij4gPGEgY2xhc3M9ImJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiBidXR0b25zfXtAdGV4dDogbGFiZWx9e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0J1dHRvbn0iPjwvYT4gPC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJjbGVhciI+PC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/WorkflowContainerView.html","html","DQo8ZGl2IGNsYXNzPSJ3b3JrZmxvdy1jb250YWluZXIiPiA8ZGl2IGNsYXNzPSJwYW5lbC1oZWFkZXIiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBkaXNwbGF5SGVhZGVyfSI+IDxoMiBjbGFzcz0icGFuZWwtdGl0bGUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB0aXRsZX0iPjwvaDI+IDwvZGl2PiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7QGhpZGRlbjogaGFzQ29udGVudH0iPiA8ZGl2IGNsYXNzPSJsb2FkaW5nLWltZyIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGJ1c3l9Ij48L2Rpdj4gPGRpdiBjbGFzcz0ibG9hZGluZy1tc2ciIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBtZXNzYWdlfSI+PC9kaXY+IDwvZGl2PiA8ZGl2IGNsYXNzPSJ3b3JrZmxvdy1jb250YWluZXItcmVnaW9uLWhvbGRlciIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGhhc0NvbnRlbnR9Ij4gIDxkaXYgY2xhc3M9InJlZ2lvbiIgZGF0YS1yZWdpb24tbmFtZT0iIXJlZ2lvbi1uYW1lLXBsYWNlaG9sZGVyISI+PC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/WorkflowFormView.html","html","DQo8ZGl2IGNsYXNzPSJtb2R1bGUtY29udGFpbmVyIHdvcmtmbG93LWZvcm0iPiA8ZGl2IGNsYXNzPSJmb3JtLXRpdGxlIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd1RpdGxlSW5Gb3JtQm9keX0iPiA8aDIgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IHRpdGxlfSI+PC9oMj4gPC9kaXY+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QHN0eWxlLW1heFdpZHRoOiBmb3JtV2lkdGh9e0BzdHlsZS1tYXhIZWlnaHQ6IGZvcm1IZWlnaHR9Ij4gPGZvcm0gZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uc3VibWl0OiBoYW5kbGVTdWJtaXR9Ij4gIDxkaXYgY2xhc3M9IndvcmtmbG93LWZvcm0taW5uZXIiIGRhdGEtYmluZGluZz0ie0Bkb206IHdvcmtmbG93Rm9ybUNvbnRlbnR9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9ImZvcm0tdmFsaWRhdGlvbi1tZXNzYWdlIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogdmFsaWRhdGlvblJlc3VsdHN9Ij4gPHVsIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHZhbGlkYXRpb25SZXN1bHRzfSI+IDxsaSBkYXRhLWJpbmRpbmc9IntAdGVtcGxhdGUtZm9yOiB2YWxpZGF0aW9uUmVzdWx0c317QHRleHQ6IGVycm9yTWVzc2FnZX0iPjwvbGk+IDwvdWw+IDwvZGl2PiAgPGRpdiBjbGFzcz0iZm9ybS1idXR0b24tY29udGFpbmVyIiBkYXRhLWJpbmRpbmc9IntAc291cmNlOiBidXR0b25zfSI+IDxhIGNsYXNzPSJidXR0b24iIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYnV0dG9uc317QHRleHQ6IGxhYmVsfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tCdXR0b259Ij48L2E+IDwvZGl2PiAgPGlucHV0IHR5cGU9InN1Ym1pdCIgY2xhc3M9ImJvdW5kLWludmlzaWJsZSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZVN1Ym1pdH0iIC8+IDxkaXYgY2xhc3M9ImNsZWFyIj48L2Rpdj4gPC9mb3JtPiA8L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/WorkflowListView.html","html","PGRpdiBjbGFzcz0id29ya2Zsb3ctbGlzdCI+ICA8ZGl2IGNsYXNzPSJuby1yZXN1bHRzIiBkYXRhLWJpbmRpbmc9IntAaGlkZGVuOiB3b3JrZmxvd3N9e0B0ZXh0OiBAbGFuZ3VhZ2Utd29ya2Zsb3ctbm9uZS1hdmFpbGFibGV9Ij48L2Rpdj4gIDxkaXYgY2xhc3M9Imxpc3QtbWVudSBhY3RpdmUiIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IHdvcmtmbG93c317QHZpc2libGU6IHdvcmtmbG93c30iPiA8ZGl2IGNsYXNzPSJsaXN0LW1lbnUtaXRlbSIgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogd29ya2Zsb3dzfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tXb3JrZmxvd30iPiA8c3BhbiBjbGFzcz0ibGlzdC1tZW51LW5hbWUiIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkaXNwbGF5TmFtZX0iPjwvc3Bhbj4gPC9kaXY+IDwvZGl2PiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/AutoCompleteBoxFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIGF1dG8tY29tcGxldGUiPiA8ZGl2IGNsYXNzPSJhdXRvLWNvbXBsZXRlLWNvbnRhaW5lciI+ICA8ZGl2IGNsYXNzPSJhdXRvLWNvbXBsZXRlLWlucHV0Ij4gPGlucHV0IHR5cGU9InRleHQiIGRhdGEtYmluZGluZz0ie0BldmVudC1vbmtleXVwOiBoYW5kbGVLZXlFdmVudH17QGV2ZW50LW9uYmx1cjogaGFuZGxlSW5wdXRCbHVyRXZlbnR9e0BldmVudC1vbmZvY3VzOiBoYW5kbGVJbnB1dEZvY3VzRXZlbnR9e0B2YWx1ZTogdGV4dH17QHN0eWxlLXdpZHRoOiB0ZXh0Ym94V2lkdGh9e3RpdGxlOiB0b29sVGlwfSIgLz4gPGRpdiBjbGFzcz0iYXV0by1jb21wbGV0ZS1idXN5Ij4gPGRpdiBjbGFzcz0iYXV0by1jb21wbGV0ZS1sb2FkZXItaW1hZ2UiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0J1c3l9Ij48L2Rpdj4gPC9kaXY+IDwvZGl2PiAgPHNwYW4gY2xhc3M9ImZvcm0taXRlbS1pbnZhbGlkIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntjbGFzc05hbWU6IGF0dGFjaGVkX2luZGljYXRvckNsYXNzfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi12YWxpZGF0aW9uLXN5bWJvbH0iPjwvc3Bhbj4gPC9zcGFuPiA8L2Rpdj4gIDxkaXYgY2xhc3M9ImF1dG8tY29tcGxldGUtZHJvcGRvd24gaW5hY3RpdmUiIGRhdGEtYmluZGluZz0ie0BzdHlsZS13aWR0aDogdGV4dGJveFdpZHRofXtAZXZlbnQtb25rZXlkb3duOiBoYW5kbGVEcm9wZG93bktleURvd259e0BldmVudC1vbm1vdXNlZG93bjogaGFuZGxlRHJvcGRvd25Gb2N1c0V2ZW50fXtAZXZlbnQtb25mb2N1czogaGFuZGxlRHJvcGRvd25Gb2N1c0V2ZW50fXtAZXZlbnQtb25ibHVyOiBoYW5kbGVEcm9wZG93bkJsdXJFdmVudH0iPiA8dWwgY2xhc3M9Imxpc3QtbWVudSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGRhdGFJdGVtc317QHNvdXJjZTogZGF0YUl0ZW1zfSI+IDxsaSBjbGFzcz0ibGlzdC1tZW51LWl0ZW0iIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGRhdGFJdGVtc317QHRleHQ6IHZhbHVlfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tJdGVtfSI+PC9saT4gPC91bD4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/CheckBoxFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIGNoZWNrYm94Ij4gIDxsYWJlbCBkYXRhLWJpbmRpbmc9DQogICAgICAgICJ7QHZpc2libGU6IGF0dGFjaGVkX3RleHRPbkxlZnR9e2ZvcjogYXR0YWNoZWRfY29udHJvbElkfXtAdGV4dDogYXR0YWNoZWRfbGFiZWxUZXh0fSB7dGl0bGU6IHRvb2xUaXB9Ij48L2xhYmVsPiAgPGlucHV0IHR5cGU9ImNoZWNrYm94IiBkYXRhLWJpbmRpbmc9DQogICAgICAgICJ7QHZhbHVlOiBjaGVja2VkfXtpZDogYXR0YWNoZWRfY29udHJvbElkfXt0aXRsZTogdG9vbFRpcH0iIC8+ICA8bGFiZWwgZGF0YS1iaW5kaW5nPQ0KICAgICAgICAie0BoaWRkZW46IGF0dGFjaGVkX3RleHRPbkxlZnR9e2ZvcjogYXR0YWNoZWRfY29udHJvbElkfXtAdGV4dDogYXR0YWNoZWRfbGFiZWxUZXh0fXt0aXRsZTogdG9vbFRpcH0iPjwvbGFiZWw+ICA8c3BhbiBjbGFzcz0iZm9ybS1pdGVtLWludmFsaWQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie2NsYXNzTmFtZTogYXR0YWNoZWRfaW5kaWNhdG9yQ2xhc3N9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLXZhbGlkYXRpb24tc3ltYm9sfSI+PC9zcGFuPiA8L3NwYW4+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/ComboBoxFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIGNvbWJvLWJveCI+ICA8c2VsZWN0IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGRhdGFJdGVtc317QHZhbHVlOiBzZWxlY3RlZH17QGhpZGRlbjogaXNCdXN5fXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZVNlbGVjdGlvbkNoYW5nZWR9e3RpdGxlOiB0b29sVGlwfSI+IDxvcHRpb24gZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogZGF0YUl0ZW1zfXtAdGV4dDogZGlzcGxheX17dmFsdWU6IGluZGV4fSI+PC9vcHRpb24+IDwvc2VsZWN0PiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0tYnVzeSIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGlzQnVzeX0iPiA8ZGl2IGNsYXNzPSJmb3JtLWl0ZW0tbG9hZGVyLWltYWdlIj48L2Rpdj4gPC9kaXY+ICA8c3BhbiBjbGFzcz0iZm9ybS1pdGVtLWludmFsaWQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie2NsYXNzTmFtZTogYXR0YWNoZWRfaW5kaWNhdG9yQ2xhc3N9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLXZhbGlkYXRpb24tc3ltYm9sfSI+PC9zcGFuPiA8L3NwYW4+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/ContainerFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIGNvbnRhaW5lciI+ICA8ZGl2IGNsYXNzPSJmb3JtLWRlc2NyaXB0aW9uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogZGVzY3JpcHRpb259Ij4gPHAgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGRlc2NyaXB0aW9ufSI+PC9wPiA8L2Rpdj4gIDx0YWJsZSBjbGFzcz0iZm9ybS1pdGVtLXRhYmxlIj4gPHRib2R5IGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGZvcm1JdGVtc317QHNvdXJjZS1hZGQ6IGFkZEZvcm1JdGVtfXtAc291cmNlLXJlbW92ZTogcmVtb3ZlRm9ybUl0ZW19Ij48L3Rib2R5PiA8L3RhYmxlPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/DatePickerFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIGRhdGUtcGlja2VyIj4gIDxpbnB1dCBkYXRhLWJpbmRpbmc9Int0aXRsZTogdG9vbFRpcH0iIHJlYWRvbmx5PSJyZWFkb25seSIgZGlzYWJsZWQ9ImRpc2FibGVkIiAvPiAgPHNwYW4gY2xhc3M9ImZvcm0taXRlbS1pbnZhbGlkIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntjbGFzc05hbWU6IGF0dGFjaGVkX2luZGljYXRvckNsYXNzfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi12YWxpZGF0aW9uLXN5bWJvbH0iPjwvc3Bhbj4gPC9zcGFuPiA8ZGl2IGNsYXNzPSJjbGVhciI+PC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/GroupBoxFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIGdyb3VwLWJveCI+IDxkaXYgY2xhc3M9ImZvcm0taXRlbSBncm91cC1ib3gtaW5uZXIiPiA8ZmllbGRzZXQ+IDxsZWdlbmQgZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGhlYWRlcn0iPjwvbGVnZW5kPiA8ZGl2IGNsYXNzPSJncm91cC1ib3gtZGVzY3JpcHRpb24iIGRhdGEtYmluZGluZz0ie0B0ZXh0OiBkZXNjcmlwdGlvbn0iPjwvZGl2PiAgPHRhYmxlIGNsYXNzPSJmb3JtLWl0ZW0tdGFibGUiPiA8dGJvZHkgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogZm9ybUl0ZW1zfXtAc291cmNlLWFkZDogYWRkRm9ybUl0ZW19e0Bzb3VyY2UtcmVtb3ZlOiByZW1vdmVGb3JtSXRlbX17dGl0bGU6IHRvb2xUaXB9Ij4gPC90Ym9keT4gPC90YWJsZT4gPC9maWVsZHNldD4gPC9kaXY+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/HyperlinkFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIGh5cGVybGluayI+IDxhIGRhdGEtYmluZGluZz0ie2hyZWY6IHVyaX17QHRleHQ6IGh5cGVybGlua1RleHR9e3RhcmdldDp0YXJnZXR9e3RpdGxlOiB0b29sVGlwfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2t9Ij48L2E+IDwvZGl2PiA=");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/ImageFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIGltYWdlIj4gPGltZyBkYXRhLWJpbmRpbmc9IntzcmM6IHNvdXJjZX17QHN0eWxlLXdpZHRoOiB3aWR0aH17QHN0eWxlLWhlaWdodDogaGVpZ2h0fXt0aXRsZTogdG9vbFRpcH0iIC8+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/ListBoxFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIGxpc3QtYm94Ij4gIDxzZWxlY3Qgc2l6ZT0iOCIgZGF0YS1iaW5kaW5nPSJ7QHNvdXJjZTogZGF0YUl0ZW1zfXtAdmFsdWU6IHNlbGVjdGlvbn17QGhpZGRlbjogaXNCdXN5fXtAZXZlbnQtb25jaGFuZ2U6IGhhbmRsZVNlbGVjdGlvbkNoYW5nZWR9e211bHRpcGxlOiBhdHRhY2hlZF9pc011bHRpcGxlfXt0aXRsZTogdG9vbFRpcH0iPiA8b3B0aW9uIGRhdGEtYmluZGluZz0ie0B0ZW1wbGF0ZS1mb3I6IGRhdGFJdGVtc317QHRleHQ6IGRpc3BsYXl9e3ZhbHVlOiBpbmRleH0iPjwvb3B0aW9uPiA8L3NlbGVjdD4gPGRpdiBjbGFzcz0iZm9ybS1pdGVtLWJ1c3kiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBpc0J1c3l9Ij4gPGRpdiBjbGFzcz0iZm9ybS1pdGVtLWxvYWRlci1pbWFnZSI+PC9kaXY+IDwvZGl2PiAgPHNwYW4gY2xhc3M9ImZvcm0taXRlbS1pbnZhbGlkIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPiA8c3BhbiBkYXRhLWJpbmRpbmc9IntjbGFzc05hbWU6IGF0dGFjaGVkX2luZGljYXRvckNsYXNzfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi12YWxpZGF0aW9uLXN5bWJvbH0iPjwvc3Bhbj4gPC9zcGFuPiA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/RadioButtonFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIHJhZGlvLWJ1dHRvbiI+ICA8bGFiZWwgZGF0YS1iaW5kaW5nPQ0KICAgICAgICAie0B2aXNpYmxlOiBhdHRhY2hlZF90ZXh0T25MZWZ0fXtmb3I6IGF0dGFjaGVkX2NvbnRyb2xJZH17QHRleHQ6IGF0dGFjaGVkX2xhYmVsVGV4dH17dGl0bGU6IHRvb2xUaXB9Ij48L2xhYmVsPiA8aW5wdXQgdHlwZT0icmFkaW8iIGRhdGEtYmluZGluZz0NCiAgICAgICAgIntAdmFyOiByYWRpb0VsZW1lbnR9e2lkOiBhdHRhY2hlZF9jb250cm9sSWR9e25hbWU6IGdyb3VwTmFtZX17dGl0bGU6IHRvb2xUaXB9IiAvPiAgPGxhYmVsIGRhdGEtYmluZGluZz0ie0BoaWRkZW46IGF0dGFjaGVkX3RleHRPbkxlZnR9e2ZvcjogYXR0YWNoZWRfY29udHJvbElkfXtAdGV4dDogYXR0YWNoZWRfbGFiZWxUZXh0fXt0aXRsZTogdG9vbFRpcH0iPjwvbGFiZWw+ICA8c3BhbiBjbGFzcz0iZm9ybS1pdGVtLWludmFsaWQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie2NsYXNzTmFtZTogYXR0YWNoZWRfaW5kaWNhdG9yQ2xhc3N9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLXZhbGlkYXRpb24tc3ltYm9sfSI+PC9zcGFuPiA8L3NwYW4+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/TextAreaFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIHRleHQtYXJlYSI+ICA8dGV4dGFyZWEgZGF0YS1iaW5kaW5nPSJ7QHZhbHVlOiB0ZXh0fXtAc3R5bGUtd2lkdGg6IHRleHRib3hXaWR0aH17QHN0eWxlLWhlaWdodDogdGV4dGJveEhlaWdodH17dGl0bGU6IHRvb2xUaXB9e3JlYWRvbmx5OiByZWFkT25seX0iPjwvdGV4dGFyZWE+ICA8c3BhbiBjbGFzcz0iZm9ybS1pdGVtLWludmFsaWQiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBhdHRhY2hlZF9zaG93SW5kaWNhdG9yfSI+IDxzcGFuIGRhdGEtYmluZGluZz0ie2NsYXNzTmFtZTogYXR0YWNoZWRfaW5kaWNhdG9yQ2xhc3N9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLXZhbGlkYXRpb24tc3ltYm9sfSI+PC9zcGFuPiA8L3NwYW4+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/TextBoxFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIHRleHQtYm94Ij4gIDxpbnB1dCB0eXBlPSJ0ZXh0IiBkYXRhLWJpbmRpbmc9IntAdmFsdWU6IHRleHR9e0BzdHlsZS1tYXhXaWR0aDogdGV4dGJveFdpZHRofXt0aXRsZTogdG9vbFRpcH17cmVhZG9ubHk6IHJlYWRPbmx5fSIgLz4gIDxzcGFuIGNsYXNzPSJmb3JtLWl0ZW0taW52YWxpZCIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IGF0dGFjaGVkX3Nob3dJbmRpY2F0b3J9Ij4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7Y2xhc3NOYW1lOiBhdHRhY2hlZF9pbmRpY2F0b3JDbGFzc317QHRleHQ6IEBsYW5ndWFnZS1jb21tb24tdmFsaWRhdGlvbi1zeW1ib2x9Ij48L3NwYW4+IDwvc3Bhbj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Forms/Items/TimePickerFormItemView.html","html","PGRpdiBjbGFzcz0iZm9ybS1pdGVtIHRpbWUtcGlja2VyIj4gIDxpbnB1dCBkYXRhLWJpbmRpbmc9Int0aXRsZTogdG9vbFRpcH0iIHJlYWRvbmx5PSJyZWFkb25seSIgZGlzYWJsZWQ9ImRpc2FibGVkIiAvPiAgPHNwYW4gY2xhc3M9ImZvcm0taXRlbS1pbnZhbGlkIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogYXR0YWNoZWRfc2hvd0luZGljYXRvcn0iPiA8c3BhbiBkYXRhLWJpZGluZz0ie2NsYXNzTmFtZTogYXR0YWNoZWRfaW5kaWNhdG9yQ2xhc3N9e0B0ZXh0OiBAbGFuZ3VhZ2UtY29tbW9uLXZhbGlkYXRpb24tc3ltYm9sfSI+PC9zcGFuPiA8L3NwYW4+IDxkaXYgY2xhc3M9ImNsZWFyIj48L2Rpdj4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ZoomControl/GeolocateView.html","html","PGRpdiBjbGFzcz0iem9vbS1jb250cm9sLWJ0biBnZW9sb2NhdGUiIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiB2aXNpYmxlfSI+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrR2VvbG9jYXRlfSI+PC9hPiA8L2Rpdj4g");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ZoomControl/ZoomInView.html","html","PGRpdiBjbGFzcz0iem9vbS1jb250cm9sLWJ0biB6b29tLWluIj4gPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tab29tSW59Ij48L2E+IDwvZGl2PiA=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ZoomControl/ZoomOutView.html","html","PGRpdiBjbGFzcz0iem9vbS1jb250cm9sLWJ0biB6b29tLW91dCI+IDxhIGhyZWY9ImphdmFzY3JpcHQ6dm9pZCgwKSIgZGF0YS1iaW5kaW5nPSJ7QGV2ZW50LW9uY2xpY2s6IGhhbmRsZUNsaWNrWm9vbU91dH0iPjwvYT4gPC9kaXY+IA==");geocortex.resourceManager.register("Mapping","inv","Mapping/infrastructure/ui/ViewContainer/ButtonTabStripView.html","html","DQo8ZGl2IGNsYXNzPSJidXR0b24tdGFiLXN0cmlwIj4gPHVsIGRhdGEtYmluZGluZz0ie0Bzb3VyY2U6IGFjdGl2ZVZpZXdEZXNjcmlwdG9yc30iPiA8bGkgZGF0YS1iaW5kaW5nPSJ7QHRlbXBsYXRlLWZvcjogYWN0aXZlVmlld0Rlc2NyaXB0b3JzfXtAZXZlbnQtb25jbGljazogaGFuZGxlQ2xpY2tUYWJ9e2NsYXNzTmFtZTogY3NzQ2xhc3N9Ij4gPGltZyBjbGFzcz0idGFiLXN0cmlwLWljb24iIGRhdGEtYmluZGluZz0ie3NyYzogaWNvblVyaX17YWx0OiB0aXRsZX17dGl0bGU6IHRpdGxlfXtAdmlzaWJsZTogaWNvblVyaX0iLz4gPC9saT4gPC91bD4gPC9kaXY+IA==");
geocortex.resourceManager.register("Mapping","inv","Mapping/infrastructure/ui/ViewContainer/ViewContainerView.html","html","PGRpdiBjbGFzcz0idmlldy1jb250YWluZXItdmlldyIgZGF0YS1iaW5kaW5nPSJ7QHZhcjogY29udGFpbmVyRWxlbWVudH0iPiAgPGRpdiBjbGFzcz0icGFuZWwtaGVhZGVyIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogaGVhZGVySXNWaXNpYmxlfXtAdmFyOiBoZWFkZXJFbGVtZW50fSI+ICA8YSBjbGFzcz0icGFuZWwtaGVhZGVyLWJ1dHRvbiIgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd2luZ1hCdXR0b259e0BldmVudC1vbmNsaWNrOiBoYW5kbGVDbGlja0Nsb3NlfSI+IDxpbWcgc3JjPSJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3BhbmVsLWNsb3NlLnBuZyIgYWx0PSIiIGRhdGEtYmluZGluZz0ie2FsdDogQGxhbmd1YWdlLXBhbmVsLWNsb3NlfXt0aXRsZTogQGxhbmd1YWdlLXBhbmVsLWNsb3NlfSIgLz4gPC9hPiAgPGEgaHJlZj0iamF2YXNjcmlwdDp2b2lkKDApIiBjbGFzcz0iYnV0dG9uIiBkYXRhLWJpbmRpbmc9IntAdmlzaWJsZTogc2hvd2luZ0JhY2tCdXR0b259e0BldmVudC1jbGljazogaGFuZGxlQ2xpY2tCYWNrfXtAdGV4dDogQGxhbmd1YWdlLWNvbW1vbi1iYWNrfSI+PC9hPiA8aDIgY2xhc3M9InBhbmVsLXRpdGxlIj4gPGltZyBzcmM9IlJlc291cmNlcy9JbWFnZXMvbG9hZGVyLXNtYWxsLmdpZiIgZGF0YS1iaW5kaW5nPSJ7QHZpc2libGU6IHNob3dCdXN5SW5kaWNhdG9yfSIgLz4gPHNwYW4gZGF0YS1iaW5kaW5nPSJ7QHRleHQ6IGNvbnRhaW5lclRpdGxlfXtAdmlzaWJsZTogY29udGFpbmVyVGl0bGV9Ij48L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B2aXNpYmxlOiBjb250YWluZXJUaXRsZX0iPiZuYnNwOy0mbmJzcDs8L3NwYW4+IDxzcGFuIGRhdGEtYmluZGluZz0ie0B0ZXh0OiB2aWV3VGl0bGV9e0B2aXNpYmxlOiB2aWV3VGl0bGV9Ij48L3NwYW4+IDwvaDI+IDxkaXYgZGF0YS1iaW5kaW5nPSJ7QGRvbTogaGVhZGVySW5zZXJ0RG9tRWxlbWVudH0iPjwvZGl2PiA8L2Rpdj4gICAgPGRpdiBjbGFzcz0icGFuZWwtc2Nyb2xsLWNvbnRhaW5lciIgZGF0YS1iaW5kaW5nPSJ7ZGF0YS1yZWdpb24tbmFtZTogcmVnaW9uTmFtZX17QHZhcjogc2Nyb2xsUmVnaW9uRWxlbWVudH17QGV2ZW50LW9uc2Nyb2xsOiBoYW5kbGVTY3JvbGxDaGFuZ2V9IiBkYXRhLXJlZ2lvbi1hZGFwdGVyPSJnZW9jb3J0ZXguZnJhbWV3b3JrLnVpLk11bHRpRGl2UmVnaW9uQWRhcHRlciI+PC9kaXY+ICAgPGRpdiBjbGFzcz0icGFuZWwtZm9vdGVyIiBkYXRhLWJpbmRpbmc9IntAdmFyOiBmb290ZXJFbGVtZW50fXtAdmlzaWJsZTogZm9vdGVySW5zZXJ0RG9tRWxlbWVudH0iIHN0eWxlPSJwb3NpdGlvbjogYWJzb2x1dGUiPiA8ZGl2IGNsYXNzPSJwYW5lbC1mb290ZXItaW5uZXIiIGRhdGEtYmluZGluZz0ie0Bkb206IGZvb3Rlckluc2VydERvbUVsZW1lbnR9Ij48L2Rpdj4gPC9kaXY+ICA8L2Rpdj4g");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Alert/Alert.css","css","LmFsZXJ0LWJvZHl7d29yZC13cmFwOmJyZWFrLXdvcmR9");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Banner/Banner.css","css","LmJhbm5lci1jb250ZW50LXJlZ2lvbiAudmlld3twb3NpdGlvbjpyZWxhdGl2ZTtoZWlnaHQ6MTAwJX0=");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureDetails/FeatureDetails.css","css","");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureLayer/FeatureLayer.css","css","Lm1vZGFsLW1lc3NhZ2UtdmlldyAuZXJyb3J7Y29sb3I6I2Y3MDAwMDtmb250LXdlaWdodDpib2xkZXJ9Lm1vZGFsLW1lc3NhZ2UtdmlldyAud2FybmluZ3tjb2xvcjojZmY4MDBkO2ZvbnQtd2VpZ2h0OmJvbGR9");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/FeatureLayer/FeatureLayerView.css","css","LmVkaXRvciB0YWJsZSB0ZHtwYWRkaW5nOjRweH0ucGFuZWwtZ3JvdXAgbGFiZWx7bWFyZ2luLXJpZ2h0OjVweH0ucGFuZWwtZ3JvdXAgLmZvcm0taXRlbXtvdmVyZmxvdzpoaWRkZW59LnBhbmVsLWdyb3VwIGxhYmVsLC5wYW5lbC1ncm91cCBpbnB1dHtmbG9hdDpsZWZ0fS5jYWNoZWQsLm5vdC1jYWNoZWR7YmFja2dyb3VuZDp1cmwoUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9kb3dubG9hZC0xNi5wbmcpIG5vLXJlcGVhdCBjZW50ZXIgY2VudGVyO2Rpc3BsYXk6YmxvY2s7d2lkdGg6MjRweDtoZWlnaHQ6MjRweDttYXJnaW4tcmlnaHQ6OHB4O2Zsb2F0OmxlZnR9Lm5vdC1jYWNoZWR7b3BhY2l0eTouMjV9Lm5vLWNhY2hlZC1kZXRhaWxze21hcmdpbi1ib3R0b206MWVtfS5yZWxhdGVkLXRhYmxlcyBsaXtwYWRkaW5nOjhweH1AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOjM4MHB4KXsuZWRpdG9yIC5mb3JtLWJ1dHRvbi1hbGlnbiwuZmVhdHVyZS1sYXllciAuZm9ybS1idXR0b24tYWxpZ257ZmxvYXQ6bm9uZX0KLmVkaXRvciAuZm9ybS1idXR0b24tY29udGFpbmVyIC5idXR0b24sLmZlYXR1cmUtbGF5ZXIgLmZvcm0tYnV0dG9uLWNvbnRhaW5lciAuYnV0dG9ue2Rpc3BsYXk6YmxvY2s7ZmxvYXQ6bm9uZTttYXJnaW46NXB4IDA7dGV4dC1hbGlnbjpjZW50ZXJ9LnBhbmVsLWdyb3Vwe292ZXJmbG93OmhpZGRlbn0ucGFuZWwtZ3JvdXAgbGFiZWwsLnBhbmVsLWdyb3VwIGlucHV0e2Rpc3BsYXk6YmxvY2s7ZmxvYXQ6bm9uZX0ucGFuZWwtZ3JvdXAgaW5wdXR7d2lkdGg6MTAwJX19");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/IWantToMenu/IWantToMenu.css","css","");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Log/Log.css","css","LmxvZy1yZWdpb257cG9zaXRpb246YWJzb2x1dGU7ei1pbmRleDoxMDE7d2lkdGg6MTAwJTtvdmVyZmxvdzphdXRvfS5sb2d2aWV3LWhlYWRlcntiYWNrZ3JvdW5kOiNkZGQ7aGVpZ2h0OjUwcHg7cG9zaXRpb246cmVsYXRpdmU7cGFkZGluZy1sZWZ0Oi44ZW19LmxvZ3ZpZXctaGVhZGVyIGgye2ZvbnQtd2VpZ2h0OmJvbGQ7Zm9udC1zaXplOjEuMmVtO2xpbmUtaGVpZ2h0OjQ4cHh9LmxvZ3ZpZXctaGVhZGVyLWJ1dHRvbnN7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MTBweDt0b3A6MTBweH0ubG9ndmlldy1oZWFkZXItYnV0dG9ucyAuYnV0dG9ue2Zsb2F0OmxlZnR9LmxvZ3ZpZXctaGVhZGVyLWJ1dHRvbnMgYSwubG9ndmlldy1oZWFkZXItYnV0dG9ucyBhOmhvdmVye2hlaWdodDoyNnB4O2xpbmUtaGVpZ2h0OjI2cHg7bWFyZ2luLWxlZnQ6NXB4O3BhZGRpbmc6MCA2cHh9LmxvZ3ZpZXcgdGFibGV7YmFja2dyb3VuZDojZmZmO3dpZHRoOjEwMCV9LmxvZ3ZpZXcgdGgsLmxvZ3ZpZXcgdGR7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO3BhZGRpbmc6LjRlbSAuOGVtfQoubG9ndmlldyB0aHtiYWNrZ3JvdW5kOiNmN2Y3Zjc7d2hpdGUtc3BhY2U6bm93cmFwfS5sb2d2aWV3IC5lcnJvciwubG9ndmlldyAud2FybmluZywubG9ndmlldyAuZ2VvY29ydGV4LnRyYWNlLmFsZXJ0e2ZvbnQtd2VpZ2h0OmJvbGR9LmxvZ3ZpZXcgLmVycm9ye2JhY2tncm91bmQtY29sb3I6I2YwMDtjb2xvcjojZmZmfS5sb2d2aWV3IC53YXJuaW5ne2JhY2tncm91bmQ6I2ZmZmJlMn0ubG9ndmlldyAuZ2VvY29ydGV4LnRyYWNlLmFsZXJ0e2JhY2tncm91bmQ6IzY2Njtjb2xvcjojZmZmfQ==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Map/Map.css","css","Lm1hcC1pbml0aWFsaXphdGlvbi1lcnJvcnt3aWR0aDoxMDAlfS5tYXAtaW5pdGlhbGl6YXRpb24tZXJyb3IgLm1lc3NhZ2UtY29udGFpbmVye2Rpc3BsYXk6aW5saW5lLWJsb2NrO3Bvc2l0aW9uOnJlbGF0aXZlO3BhZGRpbmc6MTVweH0ubWFwLWluaXRpYWxpemF0aW9uLWVycm9yIC5tZXNzYWdle2JhY2tncm91bmQtaW1hZ2U6dXJsKCJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL2Vycm9yLTMyLnBuZyIpO2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDtwYWRkaW5nLWxlZnQ6NDBweDt0ZXh0LWFsaWduOmxlZnQ7d2lkdGg6YXV0b30ubWFwLWluaXRpYWxpemF0aW9uLWVycm9yIGgxe2ZvbnQtd2VpZ2h0OmJvbGR9Lm1hcC10b3AtbGVmdHt0b3A6MDtsZWZ0OjB9Lm1hcC10b3AtY2VudGVye3RvcDowO21hcmdpbi1sZWZ0OmF1dG87bWFyZ2luLXJpZ2h0OmF1dG99Lm1hcC10b3AtcmlnaHR7dG9wOjA7cmlnaHQ6MH0ubWFwLW1pZGRsZS1sZWZ0e2xlZnQ6MH0ubWFwLW1pZGRsZS1yaWdodHtyaWdodDowfQoubWFwLWJvdHRvbS1sZWZ0e2JvdHRvbTowO2xlZnQ6MH0ubWFwLWJvdHRvbS1jZW50ZXJ7cG9zaXRpb246YWJzb2x1dGU7Ym90dG9tOjA7bWFyZ2luLWxlZnQ6YXV0bzttYXJnaW4tcmlnaHQ6YXV0b30ubWFwLWJvdHRvbS1yaWdodHtib3R0b206NXB4O3JpZ2h0OjVweDtwb3NpdGlvbjphYnNvbHV0ZTt3aWR0aDphdXRvO2hlaWdodDphdXRvfS5idXN5LWluZGljYXRvcntwb3NpdGlvbjpyZWxhdGl2ZTtkaXNwbGF5OmJsb2NrO2Zsb2F0OnJpZ2h0O2JhY2tncm91bmQ6I2ZmZjFhODttYXJnaW46NXB4O3BhZGRpbmc6MTBweDt6LWluZGV4OjEwMDA7d2lkdGg6MjAwcHg7Zm9udC13ZWlnaHQ6Ym9sZDt0ZXh0LWFsaWduOmNlbnRlcjtmb250LXNpemU6MWVtO2JvcmRlcjpzb2xpZCAxcHg7Ym9yZGVyLXJhZGl1czoxMHB4Oy1tb3otYm9yZGVyLXJhZGl1czoxMHB4Oy13ZWJraXQtYm9yZGVyLXJhZGl1czoxMHB4fUBrZXlmcmFtZXMgcHVsc2V7MCUsMTAwJXtvcGFjaXR5OjEuMDt0cmFuc2Zvcm06c2NhbGUoMS4yNSl9CjQ1JXtvcGFjaXR5Oi42MDt0cmFuc2Zvcm06c2NhbGUoLjgpfX1ALW1vei1rZXlmcmFtZXMgcHVsc2V7MCUsMTAwJXtvcGFjaXR5OjEuMDstbW96LXRyYW5zZm9ybTpzY2FsZSgxLjI1KX00NSV7b3BhY2l0eTouNjA7LW1vei10cmFuc2Zvcm06c2NhbGUoLjgpfX1ALW1zLWtleWZyYW1lcyBwdWxzZXswJSwxMDAle29wYWNpdHk6MS4wOy1tcy10cmFuc2Zvcm06c2NhbGUoMS4yNSl9NDUle29wYWNpdHk6LjYwOy1tcy10cmFuc2Zvcm06c2NhbGUoLjgpfX1ALXdlYmtpdC1rZXlmcmFtZXMgcHVsc2V7MCUsMTAwJXtvcGFjaXR5OjEuMDstd2Via2l0LXRyYW5zZm9ybTpzY2FsZSgxLjI1KX00NSV7b3BhY2l0eTouNjA7LXdlYmtpdC10cmFuc2Zvcm06c2NhbGUoLjgpfX0uZ2VvbG9jYXRpb24tZ3JhcGhpY3MtbGF5ZXJ7LXdlYmtpdC1hbmltYXRpb24tZHVyYXRpb246M3M7LXdlYmtpdC1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OmluZmluaXRlOy13ZWJraXQtYW5pbWF0aW9uLW5hbWU6cHVsc2U7LXdlYmtpdC1hbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0Oy1tb3otYW5pbWF0aW9uLWR1cmF0aW9uOjNzOy1tb3otYW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZTstbW96LWFuaW1hdGlvbi1uYW1lOnB1bHNlOy1tb3otYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDstbXMtYW5pbWF0aW9uLWR1cmF0aW9uOjNzOy1tcy1hbmltYXRpb24taXRlcmF0aW9uLWNvdW50OmluZmluaXRlOy1tcy1hbmltYXRpb24tbmFtZTpwdWxzZTstbXMtYW5pbWF0aW9uLXRpbWluZy1mdW5jdGlvbjplYXNlLWluLW91dDthbmltYXRpb24tZHVyYXRpb246M3M7YW5pbWF0aW9uLWl0ZXJhdGlvbi1jb3VudDppbmZpbml0ZTthbmltYXRpb24tbmFtZTpwdWxzZTthbmltYXRpb24tdGltaW5nLWZ1bmN0aW9uOmVhc2UtaW4tb3V0fQ==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/MapTips/MapTips.css","css","Lm1hcC1jYWxsb3V0LXdyYXBwZXJ7bWFyZ2luLXRvcDotMjZweDtvdmVyZmxvdzp2aXNpYmxlfS5tYXAtY2FsbG91dC1jb250ZW50c3tmb250LXNpemU6MTRweDtwYWRkaW5nOjVweCAxMHB4IDEwcHggMTBweDtvdmVyZmxvdzphdXRvfS5tYXAtY2FsbG91dC1oZWFkZXJ7cGFkZGluZzoxMHB4IDEwcHggMCAxMHB4O292ZXJmbG93OmF1dG99Lm1hcC1jYWxsb3V0LWhlYWRlciBoMntmbG9hdDpsZWZ0O21hcmdpbjowIDEwcHggMCAwfS5tYXAtY2FsbG91dC1oZWFkZXIgYXtmbG9hdDpyaWdodDtyaWdodDoxNXB4O3RvcDoxNXB4fS5tYXAtY2FsbG91dC1wb2ludGVye21hcmdpbi1sZWZ0OjUwJTt3aWR0aDoxcHg7aGVpZ2h0OjFweDtvdmVyZmxvdzp2aXNpYmxlfS5tYXAtY2FsbG91dC1wb2ludGVyLWltYWdle2JhY2tncm91bmQtcmVwZWF0Om5vLXJlcGVhdDttYXJnaW4tbGVmdDotMTlweDt3aWR0aDozOHB4O2hlaWdodDozMnB4fS5tYXAtdGlwLWNvbnRlbnR7b3ZlcmZsb3c6YXV0b30=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Prompt/Prompt.css","css","LnByb21wdCAudGV4dC1hcmVhIHRleHRhcmVhe21pbi1oZWlnaHQ6MTUwcHg7bWluLXdpZHRoOjIwMHB4O3Jlc2l6ZTpub25lfQ==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Results/Results-theme.css","css","");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Results/Results.css","css","LnJlc3VsdHMtbm8tcmVzdWx0c3t0ZXh0LWFsaWduOmxlZnR9LnJlc3VsdHMtdGFibGUtdGFicywucmVzdWx0cy1saXN0LXRhYnN7ZGlzcGxheTpub25lfS5yZXN1bHRzLXRhYmxlLXRhYiwucmVzdWx0cy1saXN0LXRhYntkaXNwbGF5OmJsb2NrO2Zsb2F0OmxlZnR9LmZlYXR1cmUtc2V0e2Rpc3BsYXk6aW5saW5lLWJsb2NrO21pbi13aWR0aDoxMDAlfS5mZWF0dXJlLWxhYmVse2ZvbnQtd2VpZ2h0OmJvbGR9LnJlc3VsdHMtY29udGFpbmVyIGF7Y3Vyc29yOnBvaW50ZXJ9LnJlc3VsdHMtbGlzdCBsaTpmaXJzdC1jaGlsZHtib3JkZXItdG9wOjB9LnJlc3VsdHMgdGFibGV7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO2JvcmRlci1zcGFjaW5nOjA7d2lkdGg6MTAwJTt3aGl0ZS1zcGFjZTpub3dyYXB9LnJlc3VsdC10YWJsZSB0aCwucmVzdWx0LXRhYmxlIHRke2N1cnNvcjpwb2ludGVyO3BhZGRpbmc6MH0ucmVzdWx0LXRhYmxlIGF7ZGlzcGxheTpibG9ja30ucmVzdWx0cyAucmVzdWx0LXRhYmxlIHRoe2JvcmRlci10b3A6MH0KLnBhZ2luZy1idXR0b25zIGF7ZGlzcGxheTppbmxpbmUtYmxvY2t9");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Search/large.css","css","Lmdsb2JhbC1zZWFyY2h7cGFkZGluZzo1cHggMzBweCA1cHggNXB4O3Bvc2l0aW9uOnJlbGF0aXZlfS5nbG9iYWwtc2VhcmNoIGlucHV0LC5nbG9iYWwtc2VhcmNoIGlucHV0OmZvY3Vze2ZvbnQtc2l6ZToxLjJlbTttYXJnaW46MCAzMHB4IDAgMDtvdXRsaW5lOjA7d2lkdGg6MTAwJTstd2Via2l0LWFwcGVhcmFuY2U6bm9uZTstd2Via2l0LXRhcC1oaWdobGlnaHQtY29sb3I6cmdiYSgwLDAsMCwwKX0uZ2xvYmFsLXNlYXJjaCBpbnB1dHtib3JkZXI6MH0uZ2xvYmFsLXNlYXJjaCBpbnB1dDpmb2N1c3std2Via2l0LXVzZXItbW9kaWZ5OnJlYWQtd3JpdGUtcGxhaW50ZXh0LW9ubHl9Lmdsb2JhbC1zZWFyY2ggYnV0dG9ue2JhY2tncm91bmQ6dXJsKFJlc291cmNlcy9JbWFnZXMvSWNvbnMvc2VhcmNoLTE2LnBuZykgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt0b3A6MDt3aWR0aDozMHB4O2hlaWdodDoxMDAlO3ZlcnRpY2FsLWFsaWduOm1pZGRsZX0=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Search/small.css","css","LnNtYWxsIC5nbG9iYWwtc2VhcmNoe2JhY2tncm91bmQ6I2ZmZjtib3JkZXI6MXB4IHNvbGlkICM5OTk7Ym9yZGVyLXJhZGl1czo0cHg7bWFyZ2luOjhweDtwYWRkaW5nOjVweCAzMHB4IDVweCA1cHg7cG9zaXRpb246cmVsYXRpdmV9LnNtYWxsIC5nbG9iYWwtc2VhcmNoIGlucHV0e2ZvbnQtc2l6ZToxLjJlbTtib3JkZXI6MDttYXJnaW46MCAzMHB4IDAgMDtvdXRsaW5lOjA7d2lkdGg6MTAwJX0uc21hbGwgLmdsb2JhbC1zZWFyY2ggYnV0dG9ue2JhY2tncm91bmQ6dXJsKFJlc291cmNlcy9JbWFnZXMvSWNvbnMvc2VhcmNoLTI0LnBuZykgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7Y3Vyc29yOnBvaW50ZXI7cG9zaXRpb246YWJzb2x1dGU7cmlnaHQ6MDt0b3A6MDt3aWR0aDozMHB4O2hlaWdodDoxMDAlO3ZlcnRpY2FsLWFsaWduOm1pZGRsZX1AbWVkaWEgc2NyZWVuIGFuZCAobWluLXdpZHRoOjgwMHB4KXsuc21hbGwgLmdsb2JhbC1zZWFyY2h7d2lkdGg6YXV0b319");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/SimpleLayerList/SimpleLayerList.css","css","LmxheWVybGlzdC1jb250YWluZXJ7bWluLXdpZHRoOjEwMCV9LmxheWVybGlzdC1jb250YWluZXIgdWx7bGlzdC1zdHlsZS10eXBlOm5vbmV9LmxheWVybGlzdHtkaXNwbGF5OmlubGluZS1ibG9jazttaW4td2lkdGg6MTAwJX0ubGF5ZXJsaXN0IGlucHV0W3R5cGU9Y2hlY2tib3hde21hcmdpbjowO3BhZGRpbmc6MH0ubGF5ZXJsaXN0IGE6Zm9jdXMsLmxheWVybGlzdCBpbnB1dFt0eXBlPWNoZWNrYm94XTpmb2N1c3tvdXRsaW5lOjB9Lm1hcHNlcnZpY2UtaWNvbiwubGF5ZXJsaXN0IGlucHV0W3R5cGU9Y2hlY2tib3hdLC5sYXllcmxpc3Qgc3Bhbnt2ZXJ0aWNhbC1hbGlnbjptaWRkbGV9Lm1hcHNlcnZpY2UtaWNvbnt3aWR0aDoyNHB4O2hlaWdodDoyNHB4fS5sYXllciAubGF5ZXJze3BhZGRpbmctbGVmdDoxMnB4fS5mbGF0LWxheWVyc3ttYXJnaW4tbGVmdDotMTJweH0ubGF5ZXItaW5mbywubGF5ZXItZGlzYWJsZWQgLmxheWVyLWluZm8sLmxheWVyLWRpc2FibGVkIC5sYXllci1pbmZvOmFjdGl2ZXtkaXNwbGF5OmJsb2NrO3doaXRlLXNwYWNlOm5vd3JhcH0KLmxheWVyLWRpc2FibGVkIGF7Y3Vyc29yOmRlZmF1bHR9");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Toolbar/Toolbar.css","css","LnRvb2xiYXItdmlld3t3aWR0aDoxMDAlfQ==");geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/FormItems.css","css","LmNvbWJvLWJveCBzZWxlY3QsLmxpc3QtYm94IHNlbGVjdHttaW4td2lkdGg6ODBweH0udGV4dC1ib3h7d2hpdGUtc3BhY2U6bm93cmFwfS50ZXh0LWFyZWEgdGV4dGFyZWF7cmVzaXplOm5vbmV9LmZvcm0taXRlbS1idXN5e2Zsb2F0OmxlZnQ7d2lkdGg6MjVweDtoZWlnaHQ6MTZweH0uZm9ybS1pdGVtLWxvYWRlci1pbWFnZXtiYWNrZ3JvdW5kOnVybCgiUmVzb3VyY2VzL0ltYWdlcy9JY29ucy9sb2FkZXItc21hbGwuZ2lmIikgdG9wIGNlbnRlciBuby1yZXBlYXQ7d2lkdGg6MjRweDtoZWlnaHQ6MjRweH0uZm9ybS10aXRsZXttYXJnaW4tYm90dG9tOjEwcHh9LmZvcm0tcm93e292ZXJmbG93OmF1dG87bWFyZ2luLWJvdHRvbToxMHB4fS5mb3JtLWRlc2NyaXB0aW9ue21hcmdpbi1ib3R0b206MTBweDtvdmVyZmxvdzphdXRvfS5mb3JtLWl0ZW0tdGFibGUgdGR7cGFkZGluZzo1cHggMDt2ZXJ0aWNhbC1hbGlnbjp0b3B9LmZvcm0tbGFiZWx7bWFyZ2luLXJpZ2h0OjVweDt0ZXh0LWFsaWduOnJpZ2h0fQouZm9ybS1idXR0b24tY29udGFpbmVye3RleHQtYWxpZ246cmlnaHR9LmZvcm0tYnV0dG9uLWNvbnRhaW5lciAuYnV0dG9ue2Rpc3BsYXk6aW5saW5lLWJsb2NrfS5hdXRvLWNvbXBsZXRlLWlucHV0e2Rpc3BsYXk6aW5saW5lO3Bvc2l0aW9uOnJlbGF0aXZlfS5hdXRvLWNvbXBsZXRlLWJ1c3l7d2lkdGg6MjVweDtoZWlnaHQ6MTAwJTtwb3NpdGlvbjphYnNvbHV0ZTtyaWdodDo1cHg7dG9wOjB9LmF1dG8tY29tcGxldGUtbG9hZGVyLWltYWdle2JhY2tncm91bmQ6dXJsKCJSZXNvdXJjZXMvSW1hZ2VzL0ljb25zL3NwaW5uZXItc21hbGwuZ2lmIikgY2VudGVyIGNlbnRlciBuby1yZXBlYXQ7d2lkdGg6MjVweDtoZWlnaHQ6MTAwJX0uYXV0by1jb21wbGV0ZS1kcm9wZG93bntwb3NpdGlvbjphYnNvbHV0ZTttYXJnaW4tdG9wOjFweDtvdmVyZmxvdzphdXRvO3otaW5kZXg6OTk5fS5hdXRvLWNvbXBsZXRlLWRyb3Bkb3duIHVse21hcmdpbjowO3BhZGRpbmc6MDtsaXN0LXN0eWxlLXR5cGU6bm9uZX0KLmF1dG8tY29tcGxldGUtZHJvcGRvd24gdWwgbGl7Y3Vyc29yOnBvaW50ZXJ9LmF1dG8tY29tcGxldGUtZHJvcGRvd24uaW5hY3RpdmV7ZGlzcGxheTpub25lfS5mb3JtLWl0ZW0tcmVxdWlyZWQsLmZvcm0taXRlbS1pbnZhbGlke3ZlcnRpY2FsLWFsaWduOnRvcH0uZm9ybS1pdGVtLWludmFsaWR7Y29sb3I6UmVkO2ZvbnQtd2VpZ2h0OmJvbGR9LmZvcm0tdmFsaWRhdGlvbi1tZXNzYWdlIHVse2xpc3Qtc3R5bGUtdHlwZTpkaXNjO21hcmdpbjowO3BhZGRpbmc6MCAwIDAgMS4yNWVtfS5kYXRlLXBpY2tlciBidXR0b24sLnRpbWUtcGlja2VyIGJ1dHRvbnttYXJnaW46MCAwIDAgNHB4O2JvcmRlcjoxcHggc29saWQgIzk5OX0udGltZS1waWNrZXIgZGx7bWFyZ2luOjRweH0udWktaGVscGVyLWhpZGRlbntkaXNwbGF5Om5vbmV9LnVpLWhlbHBlci1yZXNldHttYXJnaW46MDtwYWRkaW5nOjA7Ym9yZGVyOjA7b3V0bGluZTowO2xpbmUtaGVpZ2h0OjEuMzt0ZXh0LWRlY29yYXRpb246bm9uZTtmb250LXNpemU6MTAwJTtsaXN0LXN0eWxlOm5vbmV9Ci51aS1oZWxwZXItY2xlYXJmaXg6YWZ0ZXJ7Y29udGVudDoiLiI7ZGlzcGxheTpibG9jaztoZWlnaHQ6MDtjbGVhcjpib3RoO3Zpc2liaWxpdHk6aGlkZGVufS51aS1oZWxwZXItY2xlYXJmaXh7ZGlzcGxheTppbmxpbmUtYmxvY2t9LypcKi8qIGh0bWwgLnVpLWhlbHBlci1jbGVhcmZpeHtoZWlnaHQ6MSV9LnVpLWhlbHBlci1jbGVhcmZpeHtkaXNwbGF5OmJsb2NrfS8qKi8udWktaGVscGVyLXpmaXh7d2lkdGg6MTAwJTtoZWlnaHQ6MTAwJTt0b3A6MDtsZWZ0OjA7cG9zaXRpb246YWJzb2x1dGU7b3BhY2l0eTowO2ZpbHRlcjpBbHBoYShPcGFjaXR5PTApfS51aS1zdGF0ZS1kaXNhYmxlZHtjdXJzb3I6ZGVmYXVsdCFpbXBvcnRhbnR9LnVpLWljb257ZGlzcGxheTpibG9jazt0ZXh0LWluZGVudDotOTk5OTlweDtvdmVyZmxvdzpoaWRkZW47YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0fQoudWktd2lkZ2V0LW92ZXJsYXl7cG9zaXRpb246YWJzb2x1dGU7dG9wOjA7bGVmdDowO3dpZHRoOjEwMCU7aGVpZ2h0OjEwMCV9LnVpLXdpZGdldHtmb250LWZhbWlseTpUcmVidWNoZXQgTVMsVGFob21hLFZlcmRhbmEsQXJpYWwsc2Fucy1zZXJpZjtmb250LXNpemU6MS4xZW19LnVpLXdpZGdldCAudWktd2lkZ2V0e2ZvbnQtc2l6ZToxZW19LnVpLXdpZGdldCBpbnB1dCwudWktd2lkZ2V0IHNlbGVjdCwudWktd2lkZ2V0IHRleHRhcmVhLC51aS13aWRnZXQgYnV0dG9ue2ZvbnQtZmFtaWx5OlRyZWJ1Y2hldCBNUyxUYWhvbWEsVmVyZGFuYSxBcmlhbCxzYW5zLXNlcmlmO2ZvbnQtc2l6ZToxZW19LnVpLXdpZGdldC1jb250ZW50e2JvcmRlcjoxcHggc29saWQgI2RkZDtiYWNrZ3JvdW5kOiNlZWUgdXJsKFJlc291cmNlcy9JbWFnZXMvRGF0ZXBpY2tlci91aS1iZ19oaWdobGlnaHQtc29mdF8xMDBfZWVlZWVlXzF4MTAwLnBuZykgNTAlIHRvcCByZXBlYXQteDtjb2xvcjojMzMzfS51aS13aWRnZXQtY29udGVudCBhe2NvbG9yOiMzMzN9Ci51aS13aWRnZXQtaGVhZGVye2JvcmRlcjoxcHggc29saWQgI2U3OGYwODtiYWNrZ3JvdW5kOiNmNmE4MjggdXJsKFJlc291cmNlcy9JbWFnZXMvRGF0ZXBpY2tlci91aS1iZ19nbG9zcy13YXZlXzM1X2Y2YTgyOF81MDB4MTAwLnBuZykgNTAlIDUwJSByZXBlYXQteDtjb2xvcjojZmZmO2ZvbnQtd2VpZ2h0OmJvbGR9LnVpLXdpZGdldC1oZWFkZXIgYXtjb2xvcjojZmZmfS51aS1zdGF0ZS1kZWZhdWx0LC51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtZGVmYXVsdCwudWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtZGVmYXVsdHtib3JkZXI6MXB4IHNvbGlkICNjY2M7YmFja2dyb3VuZDojZjZmNmY2IHVybChSZXNvdXJjZXMvSW1hZ2VzL0RhdGVwaWNrZXIvdWktYmdfZ2xhc3NfMTAwX2Y2ZjZmNl8xeDQwMC5wbmcpIDUwJSA1MCUgcmVwZWF0LXg7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojMWM5NGM0fS51aS1zdGF0ZS1kZWZhdWx0IGEsLnVpLXN0YXRlLWRlZmF1bHQgYTpsaW5rLC51aS1zdGF0ZS1kZWZhdWx0IGE6dmlzaXRlZHtjb2xvcjojMWM5NGM0O3RleHQtZGVjb3JhdGlvbjpub25lfQoudWktc3RhdGUtaG92ZXIsLnVpLXdpZGdldC1jb250ZW50IC51aS1zdGF0ZS1ob3ZlciwudWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtaG92ZXIsLnVpLXN0YXRlLWZvY3VzLC51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtZm9jdXMsLnVpLXdpZGdldC1oZWFkZXIgLnVpLXN0YXRlLWZvY3Vze2JvcmRlcjoxcHggc29saWQgI2ZiY2IwOTtiYWNrZ3JvdW5kOiNmZGY1Y2UgdXJsKFJlc291cmNlcy9JbWFnZXMvRGF0ZXBpY2tlci91aS1iZ19nbGFzc18xMDBfZmRmNWNlXzF4NDAwLnBuZykgNTAlIDUwJSByZXBlYXQteDtmb250LXdlaWdodDpib2xkO2NvbG9yOiNjNzc0MDV9LnVpLXN0YXRlLWhvdmVyIGEsLnVpLXN0YXRlLWhvdmVyIGE6aG92ZXJ7Y29sb3I6I2M3NzQwNTt0ZXh0LWRlY29yYXRpb246bm9uZX0udWktc3RhdGUtYWN0aXZlLC51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtYWN0aXZlLC51aS13aWRnZXQtaGVhZGVyIC51aS1zdGF0ZS1hY3RpdmV7Ym9yZGVyOjFweCBzb2xpZCAjZmJkODUwO2JhY2tncm91bmQ6I2ZmZiB1cmwoUmVzb3VyY2VzL0ltYWdlcy9EYXRlcGlja2VyL3VpLWJnX2dsYXNzXzY1X2ZmZmZmZl8xeDQwMC5wbmcpIDUwJSA1MCUgcmVwZWF0LXg7Zm9udC13ZWlnaHQ6Ym9sZDtjb2xvcjojZWI4ZjAwfQoudWktc3RhdGUtYWN0aXZlIGEsLnVpLXN0YXRlLWFjdGl2ZSBhOmxpbmssLnVpLXN0YXRlLWFjdGl2ZSBhOnZpc2l0ZWR7Y29sb3I6I2ViOGYwMDt0ZXh0LWRlY29yYXRpb246bm9uZX0udWktd2lkZ2V0IDphY3RpdmV7b3V0bGluZTowfS51aS1zdGF0ZS1oaWdobGlnaHQsLnVpLXdpZGdldC1jb250ZW50IC51aS1zdGF0ZS1oaWdobGlnaHQsLnVpLXdpZGdldC1oZWFkZXIgLnVpLXN0YXRlLWhpZ2hsaWdodHtib3JkZXI6MXB4IHNvbGlkICNmZWQyMmY7YmFja2dyb3VuZDojZmZlNDVjIHVybChSZXNvdXJjZXMvSW1hZ2VzL0RhdGVwaWNrZXIvdWktYmdfaGlnaGxpZ2h0LXNvZnRfNzVfZmZlNDVjXzF4MTAwLnBuZykgNTAlIHRvcCByZXBlYXQteDtjb2xvcjojMzYzNjM2fS51aS1zdGF0ZS1oaWdobGlnaHQgYSwudWktd2lkZ2V0LWNvbnRlbnQgLnVpLXN0YXRlLWhpZ2hsaWdodCBhLC51aS13aWRnZXQtaGVhZGVyIC51aS1zdGF0ZS1oaWdobGlnaHQgYXtjb2xvcjojMzYzNjM2fS51aS1zdGF0ZS1lcnJvciwudWktd2lkZ2V0LWNvbnRlbnQgLnVpLXN0YXRlLWVycm9yLC51aS13aWRnZXQtaGVhZGVyIC51aS1zdGF0ZS1lcnJvcntib3JkZXI6MXB4IHNvbGlkICNjZDBhMGE7YmFja2dyb3VuZDojYjgxOTAwIHVybChSZXNvdXJjZXMvSW1hZ2VzL0RhdGVwaWNrZXIvdWktYmdfZGlhZ29uYWxzLXRoaWNrXzE4X2I4MTkwMF80MHg0MC5wbmcpIDUwJSA1MCUgcmVwZWF0O2NvbG9yOiNmZmZ9Ci51aS1zdGF0ZS1lcnJvciBhLC51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtZXJyb3IgYSwudWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtZXJyb3IgYXtjb2xvcjojZmZmfS51aS1zdGF0ZS1lcnJvci10ZXh0LC51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtZXJyb3ItdGV4dCwudWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtZXJyb3ItdGV4dHtjb2xvcjojZmZmfS51aS1wcmlvcml0eS1wcmltYXJ5LC51aS13aWRnZXQtY29udGVudCAudWktcHJpb3JpdHktcHJpbWFyeSwudWktd2lkZ2V0LWhlYWRlciAudWktcHJpb3JpdHktcHJpbWFyeXtmb250LXdlaWdodDpib2xkfS51aS1wcmlvcml0eS1zZWNvbmRhcnksLnVpLXdpZGdldC1jb250ZW50IC51aS1wcmlvcml0eS1zZWNvbmRhcnksLnVpLXdpZGdldC1oZWFkZXIgLnVpLXByaW9yaXR5LXNlY29uZGFyeXtvcGFjaXR5Oi43O2ZpbHRlcjpBbHBoYShPcGFjaXR5PTcwKTtmb250LXdlaWdodDpub3JtYWx9LnVpLXN0YXRlLWRpc2FibGVkLC51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtZGlzYWJsZWQsLnVpLXdpZGdldC1oZWFkZXIgLnVpLXN0YXRlLWRpc2FibGVke29wYWNpdHk6LjM1O2ZpbHRlcjpBbHBoYShPcGFjaXR5PTM1KTtiYWNrZ3JvdW5kLWltYWdlOm5vbmV9Ci51aS1pY29ue3dpZHRoOjE2cHg7aGVpZ2h0OjE2cHg7YmFja2dyb3VuZC1pbWFnZTp1cmwoUmVzb3VyY2VzL0ltYWdlcy9EYXRlcGlja2VyL3VpLWljb25zXzIyMjIyMl8yNTZ4MjQwLnBuZyl9LnVpLXdpZGdldC1jb250ZW50IC51aS1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFJlc291cmNlcy9JbWFnZXMvRGF0ZXBpY2tlci91aS1pY29uc18yMjIyMjJfMjU2eDI0MC5wbmcpfS51aS13aWRnZXQtaGVhZGVyIC51aS1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFJlc291cmNlcy9JbWFnZXMvRGF0ZXBpY2tlci91aS1pY29uc19mZmZmZmZfMjU2eDI0MC5wbmcpfS51aS1zdGF0ZS1kZWZhdWx0IC51aS1pY29ue2JhY2tncm91bmQtaW1hZ2U6dXJsKFJlc291cmNlcy9JbWFnZXMvRGF0ZXBpY2tlci91aS1pY29uc19lZjhjMDhfMjU2eDI0MC5wbmcpfS51aS1zdGF0ZS1ob3ZlciAudWktaWNvbiwudWktc3RhdGUtZm9jdXMgLnVpLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoUmVzb3VyY2VzL0ltYWdlcy9EYXRlcGlja2VyL3VpLWljb25zX2VmOGMwOF8yNTZ4MjQwLnBuZyl9Ci51aS1zdGF0ZS1hY3RpdmUgLnVpLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoUmVzb3VyY2VzL0ltYWdlcy9EYXRlcGlja2VyL3VpLWljb25zX2VmOGMwOF8yNTZ4MjQwLnBuZyl9LnVpLXN0YXRlLWhpZ2hsaWdodCAudWktaWNvbntiYWNrZ3JvdW5kLWltYWdlOnVybChSZXNvdXJjZXMvSW1hZ2VzL0RhdGVwaWNrZXIvdWktaWNvbnNfMjI4ZWYxXzI1NngyNDAucG5nKX0udWktc3RhdGUtZXJyb3IgLnVpLWljb24sLnVpLXN0YXRlLWVycm9yLXRleHQgLnVpLWljb257YmFja2dyb3VuZC1pbWFnZTp1cmwoUmVzb3VyY2VzL0ltYWdlcy9EYXRlcGlja2VyL3VpLWljb25zX2ZmZDI3YV8yNTZ4MjQwLnBuZyl9LnVpLWljb24tY2FyYXQtMS1ue2JhY2tncm91bmQtcG9zaXRpb246MCAwfS51aS1pY29uLWNhcmF0LTEtbmV7YmFja2dyb3VuZC1wb3NpdGlvbjotMTZweCAwfS51aS1pY29uLWNhcmF0LTEtZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0zMnB4IDB9LnVpLWljb24tY2FyYXQtMS1zZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi00OHB4IDB9Ci51aS1pY29uLWNhcmF0LTEtc3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi02NHB4IDB9LnVpLWljb24tY2FyYXQtMS1zd3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi04MHB4IDB9LnVpLWljb24tY2FyYXQtMS13e2JhY2tncm91bmQtcG9zaXRpb246LTk2cHggMH0udWktaWNvbi1jYXJhdC0xLW53e2JhY2tncm91bmQtcG9zaXRpb246LTExMnB4IDB9LnVpLWljb24tY2FyYXQtMi1uLXN7YmFja2dyb3VuZC1wb3NpdGlvbjotMTI4cHggMH0udWktaWNvbi1jYXJhdC0yLWUtd3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNDRweCAwfS51aS1pY29uLXRyaWFuZ2xlLTEtbntiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTE2cHh9LnVpLWljb24tdHJpYW5nbGUtMS1uZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNnB4IC0xNnB4fS51aS1pY29uLXRyaWFuZ2xlLTEtZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0zMnB4IC0xNnB4fS51aS1pY29uLXRyaWFuZ2xlLTEtc2V7YmFja2dyb3VuZC1wb3NpdGlvbjotNDhweCAtMTZweH0KLnVpLWljb24tdHJpYW5nbGUtMS1ze2JhY2tncm91bmQtcG9zaXRpb246LTY0cHggLTE2cHh9LnVpLWljb24tdHJpYW5nbGUtMS1zd3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi04MHB4IC0xNnB4fS51aS1pY29uLXRyaWFuZ2xlLTEtd3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi05NnB4IC0xNnB4fS51aS1pY29uLXRyaWFuZ2xlLTEtbnd7YmFja2dyb3VuZC1wb3NpdGlvbjotMTEycHggLTE2cHh9LnVpLWljb24tdHJpYW5nbGUtMi1uLXN7YmFja2dyb3VuZC1wb3NpdGlvbjotMTI4cHggLTE2cHh9LnVpLWljb24tdHJpYW5nbGUtMi1lLXd7YmFja2dyb3VuZC1wb3NpdGlvbjotMTQ0cHggLTE2cHh9LnVpLWljb24tYXJyb3ctMS1ue2JhY2tncm91bmQtcG9zaXRpb246MCAtMzJweH0udWktaWNvbi1hcnJvdy0xLW5le2JhY2tncm91bmQtcG9zaXRpb246LTE2cHggLTMycHh9LnVpLWljb24tYXJyb3ctMS1le2JhY2tncm91bmQtcG9zaXRpb246LTMycHggLTMycHh9LnVpLWljb24tYXJyb3ctMS1zZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi00OHB4IC0zMnB4fQoudWktaWNvbi1hcnJvdy0xLXN7YmFja2dyb3VuZC1wb3NpdGlvbjotNjRweCAtMzJweH0udWktaWNvbi1hcnJvdy0xLXN3e2JhY2tncm91bmQtcG9zaXRpb246LTgwcHggLTMycHh9LnVpLWljb24tYXJyb3ctMS13e2JhY2tncm91bmQtcG9zaXRpb246LTk2cHggLTMycHh9LnVpLWljb24tYXJyb3ctMS1ud3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xMTJweCAtMzJweH0udWktaWNvbi1hcnJvdy0yLW4tc3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xMjhweCAtMzJweH0udWktaWNvbi1hcnJvdy0yLW5lLXN3e2JhY2tncm91bmQtcG9zaXRpb246LTE0NHB4IC0zMnB4fS51aS1pY29uLWFycm93LTItZS13e2JhY2tncm91bmQtcG9zaXRpb246LTE2MHB4IC0zMnB4fS51aS1pY29uLWFycm93LTItc2Utbnd7YmFja2dyb3VuZC1wb3NpdGlvbjotMTc2cHggLTMycHh9LnVpLWljb24tYXJyb3dzdG9wLTEtbntiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xOTJweCAtMzJweH0udWktaWNvbi1hcnJvd3N0b3AtMS1le2JhY2tncm91bmQtcG9zaXRpb246LTIwOHB4IC0zMnB4fQoudWktaWNvbi1hcnJvd3N0b3AtMS1ze2JhY2tncm91bmQtcG9zaXRpb246LTIyNHB4IC0zMnB4fS51aS1pY29uLWFycm93c3RvcC0xLXd7YmFja2dyb3VuZC1wb3NpdGlvbjotMjQwcHggLTMycHh9LnVpLWljb24tYXJyb3d0aGljay0xLW57YmFja2dyb3VuZC1wb3NpdGlvbjowIC00OHB4fS51aS1pY29uLWFycm93dGhpY2stMS1uZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNnB4IC00OHB4fS51aS1pY29uLWFycm93dGhpY2stMS1le2JhY2tncm91bmQtcG9zaXRpb246LTMycHggLTQ4cHh9LnVpLWljb24tYXJyb3d0aGljay0xLXNle2JhY2tncm91bmQtcG9zaXRpb246LTQ4cHggLTQ4cHh9LnVpLWljb24tYXJyb3d0aGljay0xLXN7YmFja2dyb3VuZC1wb3NpdGlvbjotNjRweCAtNDhweH0udWktaWNvbi1hcnJvd3RoaWNrLTEtc3d7YmFja2dyb3VuZC1wb3NpdGlvbjotODBweCAtNDhweH0udWktaWNvbi1hcnJvd3RoaWNrLTEtd3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi05NnB4IC00OHB4fQoudWktaWNvbi1hcnJvd3RoaWNrLTEtbnd7YmFja2dyb3VuZC1wb3NpdGlvbjotMTEycHggLTQ4cHh9LnVpLWljb24tYXJyb3d0aGljay0yLW4tc3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xMjhweCAtNDhweH0udWktaWNvbi1hcnJvd3RoaWNrLTItbmUtc3d7YmFja2dyb3VuZC1wb3NpdGlvbjotMTQ0cHggLTQ4cHh9LnVpLWljb24tYXJyb3d0aGljay0yLWUtd3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNjBweCAtNDhweH0udWktaWNvbi1hcnJvd3RoaWNrLTItc2Utbnd7YmFja2dyb3VuZC1wb3NpdGlvbjotMTc2cHggLTQ4cHh9LnVpLWljb24tYXJyb3d0aGlja3N0b3AtMS1ue2JhY2tncm91bmQtcG9zaXRpb246LTE5MnB4IC00OHB4fS51aS1pY29uLWFycm93dGhpY2tzdG9wLTEtZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0yMDhweCAtNDhweH0udWktaWNvbi1hcnJvd3RoaWNrc3RvcC0xLXN7YmFja2dyb3VuZC1wb3NpdGlvbjotMjI0cHggLTQ4cHh9LnVpLWljb24tYXJyb3d0aGlja3N0b3AtMS13e2JhY2tncm91bmQtcG9zaXRpb246LTI0MHB4IC00OHB4fQoudWktaWNvbi1hcnJvd3JldHVybnRoaWNrLTEtd3tiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTY0cHh9LnVpLWljb24tYXJyb3dyZXR1cm50aGljay0xLW57YmFja2dyb3VuZC1wb3NpdGlvbjotMTZweCAtNjRweH0udWktaWNvbi1hcnJvd3JldHVybnRoaWNrLTEtZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0zMnB4IC02NHB4fS51aS1pY29uLWFycm93cmV0dXJudGhpY2stMS1ze2JhY2tncm91bmQtcG9zaXRpb246LTQ4cHggLTY0cHh9LnVpLWljb24tYXJyb3dyZXR1cm4tMS13e2JhY2tncm91bmQtcG9zaXRpb246LTY0cHggLTY0cHh9LnVpLWljb24tYXJyb3dyZXR1cm4tMS1ue2JhY2tncm91bmQtcG9zaXRpb246LTgwcHggLTY0cHh9LnVpLWljb24tYXJyb3dyZXR1cm4tMS1le2JhY2tncm91bmQtcG9zaXRpb246LTk2cHggLTY0cHh9LnVpLWljb24tYXJyb3dyZXR1cm4tMS1ze2JhY2tncm91bmQtcG9zaXRpb246LTExMnB4IC02NHB4fS51aS1pY29uLWFycm93cmVmcmVzaC0xLXd7YmFja2dyb3VuZC1wb3NpdGlvbjotMTI4cHggLTY0cHh9Ci51aS1pY29uLWFycm93cmVmcmVzaC0xLW57YmFja2dyb3VuZC1wb3NpdGlvbjotMTQ0cHggLTY0cHh9LnVpLWljb24tYXJyb3dyZWZyZXNoLTEtZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNjBweCAtNjRweH0udWktaWNvbi1hcnJvd3JlZnJlc2gtMS1ze2JhY2tncm91bmQtcG9zaXRpb246LTE3NnB4IC02NHB4fS51aS1pY29uLWFycm93LTR7YmFja2dyb3VuZC1wb3NpdGlvbjowIC04MHB4fS51aS1pY29uLWFycm93LTQtZGlhZ3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNnB4IC04MHB4fS51aS1pY29uLWV4dGxpbmt7YmFja2dyb3VuZC1wb3NpdGlvbjotMzJweCAtODBweH0udWktaWNvbi1uZXd3aW57YmFja2dyb3VuZC1wb3NpdGlvbjotNDhweCAtODBweH0udWktaWNvbi1yZWZyZXNoe2JhY2tncm91bmQtcG9zaXRpb246LTY0cHggLTgwcHh9LnVpLWljb24tc2h1ZmZsZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi04MHB4IC04MHB4fS51aS1pY29uLXRyYW5zZmVyLWUtd3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi05NnB4IC04MHB4fQoudWktaWNvbi10cmFuc2ZlcnRoaWNrLWUtd3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xMTJweCAtODBweH0udWktaWNvbi1mb2xkZXItY29sbGFwc2Vke2JhY2tncm91bmQtcG9zaXRpb246MCAtOTZweH0udWktaWNvbi1mb2xkZXItb3BlbntiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNnB4IC05NnB4fS51aS1pY29uLWRvY3VtZW50e2JhY2tncm91bmQtcG9zaXRpb246LTMycHggLTk2cHh9LnVpLWljb24tZG9jdW1lbnQtYntiYWNrZ3JvdW5kLXBvc2l0aW9uOi00OHB4IC05NnB4fS51aS1pY29uLW5vdGV7YmFja2dyb3VuZC1wb3NpdGlvbjotNjRweCAtOTZweH0udWktaWNvbi1tYWlsLWNsb3NlZHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi04MHB4IC05NnB4fS51aS1pY29uLW1haWwtb3BlbntiYWNrZ3JvdW5kLXBvc2l0aW9uOi05NnB4IC05NnB4fS51aS1pY29uLXN1aXRjYXNle2JhY2tncm91bmQtcG9zaXRpb246LTExMnB4IC05NnB4fS51aS1pY29uLWNvbW1lbnR7YmFja2dyb3VuZC1wb3NpdGlvbjotMTI4cHggLTk2cHh9Ci51aS1pY29uLXBlcnNvbntiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNDRweCAtOTZweH0udWktaWNvbi1wcmludHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNjBweCAtOTZweH0udWktaWNvbi10cmFzaHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNzZweCAtOTZweH0udWktaWNvbi1sb2NrZWR7YmFja2dyb3VuZC1wb3NpdGlvbjotMTkycHggLTk2cHh9LnVpLWljb24tdW5sb2NrZWR7YmFja2dyb3VuZC1wb3NpdGlvbjotMjA4cHggLTk2cHh9LnVpLWljb24tYm9va21hcmt7YmFja2dyb3VuZC1wb3NpdGlvbjotMjI0cHggLTk2cHh9LnVpLWljb24tdGFne2JhY2tncm91bmQtcG9zaXRpb246LTI0MHB4IC05NnB4fS51aS1pY29uLWhvbWV7YmFja2dyb3VuZC1wb3NpdGlvbjowIC0xMTJweH0udWktaWNvbi1mbGFne2JhY2tncm91bmQtcG9zaXRpb246LTE2cHggLTExMnB4fS51aS1pY29uLWNhbGVuZGFye2JhY2tncm91bmQtcG9zaXRpb246LTMycHggLTExMnB4fS51aS1pY29uLWNhcnR7YmFja2dyb3VuZC1wb3NpdGlvbjotNDhweCAtMTEycHh9Ci51aS1pY29uLXBlbmNpbHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi02NHB4IC0xMTJweH0udWktaWNvbi1jbG9ja3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi04MHB4IC0xMTJweH0udWktaWNvbi1kaXNre2JhY2tncm91bmQtcG9zaXRpb246LTk2cHggLTExMnB4fS51aS1pY29uLWNhbGN1bGF0b3J7YmFja2dyb3VuZC1wb3NpdGlvbjotMTEycHggLTExMnB4fS51aS1pY29uLXpvb21pbntiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xMjhweCAtMTEycHh9LnVpLWljb24tem9vbW91dHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNDRweCAtMTEycHh9LnVpLWljb24tc2VhcmNoe2JhY2tncm91bmQtcG9zaXRpb246LTE2MHB4IC0xMTJweH0udWktaWNvbi13cmVuY2h7YmFja2dyb3VuZC1wb3NpdGlvbjotMTc2cHggLTExMnB4fS51aS1pY29uLWdlYXJ7YmFja2dyb3VuZC1wb3NpdGlvbjotMTkycHggLTExMnB4fS51aS1pY29uLWhlYXJ0e2JhY2tncm91bmQtcG9zaXRpb246LTIwOHB4IC0xMTJweH0udWktaWNvbi1zdGFye2JhY2tncm91bmQtcG9zaXRpb246LTIyNHB4IC0xMTJweH0KLnVpLWljb24tbGlua3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0yNDBweCAtMTEycHh9LnVpLWljb24tY2FuY2Vse2JhY2tncm91bmQtcG9zaXRpb246MCAtMTI4cHh9LnVpLWljb24tcGx1c3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNnB4IC0xMjhweH0udWktaWNvbi1wbHVzdGhpY2t7YmFja2dyb3VuZC1wb3NpdGlvbjotMzJweCAtMTI4cHh9LnVpLWljb24tbWludXN7YmFja2dyb3VuZC1wb3NpdGlvbjotNDhweCAtMTI4cHh9LnVpLWljb24tbWludXN0aGlja3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi02NHB4IC0xMjhweH0udWktaWNvbi1jbG9zZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi04MHB4IC0xMjhweH0udWktaWNvbi1jbG9zZXRoaWNre2JhY2tncm91bmQtcG9zaXRpb246LTk2cHggLTEyOHB4fS51aS1pY29uLWtleXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xMTJweCAtMTI4cHh9LnVpLWljb24tbGlnaHRidWxie2JhY2tncm91bmQtcG9zaXRpb246LTEyOHB4IC0xMjhweH0udWktaWNvbi1zY2lzc29yc3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNDRweCAtMTI4cHh9Ci51aS1pY29uLWNsaXBib2FyZHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNjBweCAtMTI4cHh9LnVpLWljb24tY29weXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNzZweCAtMTI4cHh9LnVpLWljb24tY29udGFjdHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xOTJweCAtMTI4cHh9LnVpLWljb24taW1hZ2V7YmFja2dyb3VuZC1wb3NpdGlvbjotMjA4cHggLTEyOHB4fS51aS1pY29uLXZpZGVve2JhY2tncm91bmQtcG9zaXRpb246LTIyNHB4IC0xMjhweH0udWktaWNvbi1zY3JpcHR7YmFja2dyb3VuZC1wb3NpdGlvbjotMjQwcHggLTEyOHB4fS51aS1pY29uLWFsZXJ0e2JhY2tncm91bmQtcG9zaXRpb246MCAtMTQ0cHh9LnVpLWljb24taW5mb3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNnB4IC0xNDRweH0udWktaWNvbi1ub3RpY2V7YmFja2dyb3VuZC1wb3NpdGlvbjotMzJweCAtMTQ0cHh9LnVpLWljb24taGVscHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi00OHB4IC0xNDRweH0udWktaWNvbi1jaGVja3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi02NHB4IC0xNDRweH0KLnVpLWljb24tYnVsbGV0e2JhY2tncm91bmQtcG9zaXRpb246LTgwcHggLTE0NHB4fS51aS1pY29uLXJhZGlvLW9mZntiYWNrZ3JvdW5kLXBvc2l0aW9uOi05NnB4IC0xNDRweH0udWktaWNvbi1yYWRpby1vbntiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xMTJweCAtMTQ0cHh9LnVpLWljb24tcGluLXd7YmFja2dyb3VuZC1wb3NpdGlvbjotMTI4cHggLTE0NHB4fS51aS1pY29uLXBpbi1ze2JhY2tncm91bmQtcG9zaXRpb246LTE0NHB4IC0xNDRweH0udWktaWNvbi1wbGF5e2JhY2tncm91bmQtcG9zaXRpb246MCAtMTYwcHh9LnVpLWljb24tcGF1c2V7YmFja2dyb3VuZC1wb3NpdGlvbjotMTZweCAtMTYwcHh9LnVpLWljb24tc2Vlay1uZXh0e2JhY2tncm91bmQtcG9zaXRpb246LTMycHggLTE2MHB4fS51aS1pY29uLXNlZWstcHJldntiYWNrZ3JvdW5kLXBvc2l0aW9uOi00OHB4IC0xNjBweH0udWktaWNvbi1zZWVrLWVuZHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi02NHB4IC0xNjBweH0udWktaWNvbi1zZWVrLXN0YXJ0e2JhY2tncm91bmQtcG9zaXRpb246LTgwcHggLTE2MHB4fQoudWktaWNvbi1zZWVrLWZpcnN0e2JhY2tncm91bmQtcG9zaXRpb246LTgwcHggLTE2MHB4fS51aS1pY29uLXN0b3B7YmFja2dyb3VuZC1wb3NpdGlvbjotOTZweCAtMTYwcHh9LnVpLWljb24tZWplY3R7YmFja2dyb3VuZC1wb3NpdGlvbjotMTEycHggLTE2MHB4fS51aS1pY29uLXZvbHVtZS1vZmZ7YmFja2dyb3VuZC1wb3NpdGlvbjotMTI4cHggLTE2MHB4fS51aS1pY29uLXZvbHVtZS1vbntiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNDRweCAtMTYwcHh9LnVpLWljb24tcG93ZXJ7YmFja2dyb3VuZC1wb3NpdGlvbjowIC0xNzZweH0udWktaWNvbi1zaWduYWwtZGlhZ3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNnB4IC0xNzZweH0udWktaWNvbi1zaWduYWx7YmFja2dyb3VuZC1wb3NpdGlvbjotMzJweCAtMTc2cHh9LnVpLWljb24tYmF0dGVyeS0we2JhY2tncm91bmQtcG9zaXRpb246LTQ4cHggLTE3NnB4fS51aS1pY29uLWJhdHRlcnktMXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi02NHB4IC0xNzZweH0KLnVpLWljb24tYmF0dGVyeS0ye2JhY2tncm91bmQtcG9zaXRpb246LTgwcHggLTE3NnB4fS51aS1pY29uLWJhdHRlcnktM3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi05NnB4IC0xNzZweH0udWktaWNvbi1jaXJjbGUtcGx1c3tiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgLTE5MnB4fS51aS1pY29uLWNpcmNsZS1taW51c3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xNnB4IC0xOTJweH0udWktaWNvbi1jaXJjbGUtY2xvc2V7YmFja2dyb3VuZC1wb3NpdGlvbjotMzJweCAtMTkycHh9LnVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLWV7YmFja2dyb3VuZC1wb3NpdGlvbjotNDhweCAtMTkycHh9LnVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLXN7YmFja2dyb3VuZC1wb3NpdGlvbjotNjRweCAtMTkycHh9LnVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLXd7YmFja2dyb3VuZC1wb3NpdGlvbjotODBweCAtMTkycHh9LnVpLWljb24tY2lyY2xlLXRyaWFuZ2xlLW57YmFja2dyb3VuZC1wb3NpdGlvbjotOTZweCAtMTkycHh9Ci51aS1pY29uLWNpcmNsZS1hcnJvdy1le2JhY2tncm91bmQtcG9zaXRpb246LTExMnB4IC0xOTJweH0udWktaWNvbi1jaXJjbGUtYXJyb3ctc3tiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xMjhweCAtMTkycHh9LnVpLWljb24tY2lyY2xlLWFycm93LXd7YmFja2dyb3VuZC1wb3NpdGlvbjotMTQ0cHggLTE5MnB4fS51aS1pY29uLWNpcmNsZS1hcnJvdy1ue2JhY2tncm91bmQtcG9zaXRpb246LTE2MHB4IC0xOTJweH0udWktaWNvbi1jaXJjbGUtem9vbWlue2JhY2tncm91bmQtcG9zaXRpb246LTE3NnB4IC0xOTJweH0udWktaWNvbi1jaXJjbGUtem9vbW91dHtiYWNrZ3JvdW5kLXBvc2l0aW9uOi0xOTJweCAtMTkycHh9LnVpLWljb24tY2lyY2xlLWNoZWNre2JhY2tncm91bmQtcG9zaXRpb246LTIwOHB4IC0xOTJweH0udWktaWNvbi1jaXJjbGVzbWFsbC1wbHVze2JhY2tncm91bmQtcG9zaXRpb246MCAtMjA4cHh9LnVpLWljb24tY2lyY2xlc21hbGwtbWludXN7YmFja2dyb3VuZC1wb3NpdGlvbjotMTZweCAtMjA4cHh9Ci51aS1pY29uLWNpcmNsZXNtYWxsLWNsb3Nle2JhY2tncm91bmQtcG9zaXRpb246LTMycHggLTIwOHB4fS51aS1pY29uLXNxdWFyZXNtYWxsLXBsdXN7YmFja2dyb3VuZC1wb3NpdGlvbjotNDhweCAtMjA4cHh9LnVpLWljb24tc3F1YXJlc21hbGwtbWludXN7YmFja2dyb3VuZC1wb3NpdGlvbjotNjRweCAtMjA4cHh9LnVpLWljb24tc3F1YXJlc21hbGwtY2xvc2V7YmFja2dyb3VuZC1wb3NpdGlvbjotODBweCAtMjA4cHh9LnVpLWljb24tZ3JpcC1kb3R0ZWQtdmVydGljYWx7YmFja2dyb3VuZC1wb3NpdGlvbjowIC0yMjRweH0udWktaWNvbi1ncmlwLWRvdHRlZC1ob3Jpem9udGFse2JhY2tncm91bmQtcG9zaXRpb246LTE2cHggLTIyNHB4fS51aS1pY29uLWdyaXAtc29saWQtdmVydGljYWx7YmFja2dyb3VuZC1wb3NpdGlvbjotMzJweCAtMjI0cHh9LnVpLWljb24tZ3JpcC1zb2xpZC1ob3Jpem9udGFse2JhY2tncm91bmQtcG9zaXRpb246LTQ4cHggLTIyNHB4fS51aS1pY29uLWdyaXBzbWFsbC1kaWFnb25hbC1zZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi02NHB4IC0yMjRweH0KLnVpLWljb24tZ3JpcC1kaWFnb25hbC1zZXtiYWNrZ3JvdW5kLXBvc2l0aW9uOi04MHB4IC0yMjRweH0udWktY29ybmVyLWFsbCwudWktY29ybmVyLXRvcCwudWktY29ybmVyLWxlZnQsLnVpLWNvcm5lci10bHstbW96LWJvcmRlci1yYWRpdXMtdG9wbGVmdDo0cHg7LXdlYmtpdC1ib3JkZXItdG9wLWxlZnQtcmFkaXVzOjRweDsta2h0bWwtYm9yZGVyLXRvcC1sZWZ0LXJhZGl1czo0cHg7Ym9yZGVyLXRvcC1sZWZ0LXJhZGl1czo0cHh9LnVpLWNvcm5lci1hbGwsLnVpLWNvcm5lci10b3AsLnVpLWNvcm5lci1yaWdodCwudWktY29ybmVyLXRyey1tb3otYm9yZGVyLXJhZGl1cy10b3ByaWdodDo0cHg7LXdlYmtpdC1ib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo0cHg7LWtodG1sLWJvcmRlci10b3AtcmlnaHQtcmFkaXVzOjRweDtib3JkZXItdG9wLXJpZ2h0LXJhZGl1czo0cHh9LnVpLWNvcm5lci1hbGwsLnVpLWNvcm5lci1ib3R0b20sLnVpLWNvcm5lci1sZWZ0LC51aS1jb3JuZXItYmx7LW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbWxlZnQ6NHB4Oy13ZWJraXQtYm9yZGVyLWJvdHRvbS1sZWZ0LXJhZGl1czo0cHg7LWtodG1sLWJvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6NHB4O2JvcmRlci1ib3R0b20tbGVmdC1yYWRpdXM6NHB4fQoudWktY29ybmVyLWFsbCwudWktY29ybmVyLWJvdHRvbSwudWktY29ybmVyLXJpZ2h0LC51aS1jb3JuZXItYnJ7LW1vei1ib3JkZXItcmFkaXVzLWJvdHRvbXJpZ2h0OjRweDstd2Via2l0LWJvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjRweDsta2h0bWwtYm9yZGVyLWJvdHRvbS1yaWdodC1yYWRpdXM6NHB4O2JvcmRlci1ib3R0b20tcmlnaHQtcmFkaXVzOjRweH0udWktd2lkZ2V0LW92ZXJsYXl7YmFja2dyb3VuZDojNjY2IHVybChSZXNvdXJjZXMvSW1hZ2VzL0RhdGVwaWNrZXIvdWktYmdfZGlhZ29uYWxzLXRoaWNrXzIwXzY2NjY2Nl80MHg0MC5wbmcpIDUwJSA1MCUgcmVwZWF0O29wYWNpdHk6LjUwO2ZpbHRlcjpBbHBoYShPcGFjaXR5PTUwKX0udWktd2lkZ2V0LXNoYWRvd3ttYXJnaW46LTVweCAwIDAgLTVweDtwYWRkaW5nOjVweDtiYWNrZ3JvdW5kOiMwMDAgdXJsKFJlc291cmNlcy9JbWFnZXMvRGF0ZXBpY2tlci91aS1iZ19mbGF0XzEwXzAwMDAwMF80MHgxMDAucG5nKSA1MCUgNTAlIHJlcGVhdC14O29wYWNpdHk6LjIwO2ZpbHRlcjpBbHBoYShPcGFjaXR5PTIwKTstbW96LWJvcmRlci1yYWRpdXM6NXB4Oy1raHRtbC1ib3JkZXItcmFkaXVzOjVweDstd2Via2l0LWJvcmRlci1yYWRpdXM6NXB4O2JvcmRlci1yYWRpdXM6NXB4fQoudWktZGF0ZXBpY2tlcnt3aWR0aDoxN2VtO3BhZGRpbmc6LjJlbSAuMmVtIDA7ZGlzcGxheTpub25lfS51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLWhlYWRlcntwb3NpdGlvbjpyZWxhdGl2ZTtwYWRkaW5nOi4yZW0gMH0udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1wcmV2LC51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLW5leHR7cG9zaXRpb246YWJzb2x1dGU7dG9wOjJweDt3aWR0aDoxLjhlbTtoZWlnaHQ6MS44ZW19LnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItcHJldi1ob3ZlciwudWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1uZXh0LWhvdmVye3RvcDoxcHh9LnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItcHJldntsZWZ0OjJweH0udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1uZXh0e3JpZ2h0OjJweH0udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1wcmV2LWhvdmVye2xlZnQ6MXB4fS51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLW5leHQtaG92ZXJ7cmlnaHQ6MXB4fQoudWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1wcmV2IHNwYW4sLnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItbmV4dCBzcGFue2Rpc3BsYXk6YmxvY2s7cG9zaXRpb246YWJzb2x1dGU7bGVmdDo1MCU7bWFyZ2luLWxlZnQ6LThweDt0b3A6NTAlO21hcmdpbi10b3A6LThweH0udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci10aXRsZXttYXJnaW46MCAyLjNlbTtsaW5lLWhlaWdodDoxLjhlbTt0ZXh0LWFsaWduOmNlbnRlcn0udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci10aXRsZSBzZWxlY3R7Zm9udC1zaXplOjFlbTttYXJnaW46MXB4IDB9LnVpLWRhdGVwaWNrZXIgc2VsZWN0LnVpLWRhdGVwaWNrZXItbW9udGgteWVhcnt3aWR0aDoxMDAlfS51aS1kYXRlcGlja2VyIHNlbGVjdC51aS1kYXRlcGlja2VyLW1vbnRoLC51aS1kYXRlcGlja2VyIHNlbGVjdC51aS1kYXRlcGlja2VyLXllYXJ7d2lkdGg6NDklfS51aS1kYXRlcGlja2VyIHRhYmxle3dpZHRoOjEwMCU7Zm9udC1zaXplOi45ZW07Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlO21hcmdpbjowIDAgLjRlbX0KLnVpLWRhdGVwaWNrZXIgdGh7cGFkZGluZzouN2VtIC4zZW07dGV4dC1hbGlnbjpjZW50ZXI7Zm9udC13ZWlnaHQ6Ym9sZDtib3JkZXI6MH0udWktZGF0ZXBpY2tlciB0ZHtib3JkZXI6MDtwYWRkaW5nOjFweH0udWktZGF0ZXBpY2tlciB0ZCBzcGFuLC51aS1kYXRlcGlja2VyIHRkIGF7ZGlzcGxheTpibG9jaztwYWRkaW5nOi4yZW07dGV4dC1hbGlnbjpyaWdodDt0ZXh0LWRlY29yYXRpb246bm9uZX0udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1idXR0b25wYW5le2JhY2tncm91bmQtaW1hZ2U6bm9uZTttYXJnaW46LjdlbSAwIDAgMDtwYWRkaW5nOjAgLjJlbTtib3JkZXItbGVmdDowO2JvcmRlci1yaWdodDowO2JvcmRlci1ib3R0b206MH0udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1idXR0b25wYW5lIGJ1dHRvbntmbG9hdDpyaWdodDttYXJnaW46LjVlbSAuMmVtIC40ZW07Y3Vyc29yOnBvaW50ZXI7cGFkZGluZzouMmVtIC42ZW0gLjNlbSAuNmVtO3dpZHRoOmF1dG87b3ZlcmZsb3c6dmlzaWJsZX0KLnVpLWRhdGVwaWNrZXIgLnVpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSBidXR0b24udWktZGF0ZXBpY2tlci1jdXJyZW50e2Zsb2F0OmxlZnR9LnVpLWRhdGVwaWNrZXIudWktZGF0ZXBpY2tlci1tdWx0aXt3aWR0aDphdXRvfS51aS1kYXRlcGlja2VyLW11bHRpIC51aS1kYXRlcGlja2VyLWdyb3Vwe2Zsb2F0OmxlZnR9LnVpLWRhdGVwaWNrZXItbXVsdGkgLnVpLWRhdGVwaWNrZXItZ3JvdXAgdGFibGV7d2lkdGg6OTUlO21hcmdpbjowIGF1dG8gLjRlbX0udWktZGF0ZXBpY2tlci1tdWx0aS0yIC51aS1kYXRlcGlja2VyLWdyb3Vwe3dpZHRoOjUwJX0udWktZGF0ZXBpY2tlci1tdWx0aS0zIC51aS1kYXRlcGlja2VyLWdyb3Vwe3dpZHRoOjMzLjMlfS51aS1kYXRlcGlja2VyLW11bHRpLTQgLnVpLWRhdGVwaWNrZXItZ3JvdXB7d2lkdGg6MjUlfS51aS1kYXRlcGlja2VyLW11bHRpIC51aS1kYXRlcGlja2VyLWdyb3VwLWxhc3QgLnVpLWRhdGVwaWNrZXItaGVhZGVye2JvcmRlci1sZWZ0LXdpZHRoOjB9Ci51aS1kYXRlcGlja2VyLW11bHRpIC51aS1kYXRlcGlja2VyLWdyb3VwLW1pZGRsZSAudWktZGF0ZXBpY2tlci1oZWFkZXJ7Ym9yZGVyLWxlZnQtd2lkdGg6MH0udWktZGF0ZXBpY2tlci1tdWx0aSAudWktZGF0ZXBpY2tlci1idXR0b25wYW5le2NsZWFyOmxlZnR9LnVpLWRhdGVwaWNrZXItcm93LWJyZWFre2NsZWFyOmJvdGg7d2lkdGg6MTAwJTtmb250LXNpemU6MH0udWktZGF0ZXBpY2tlci1ydGx7ZGlyZWN0aW9uOnJ0bH0udWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItcHJldntyaWdodDoycHg7bGVmdDphdXRvfS51aS1kYXRlcGlja2VyLXJ0bCAudWktZGF0ZXBpY2tlci1uZXh0e2xlZnQ6MnB4O3JpZ2h0OmF1dG99LnVpLWRhdGVwaWNrZXItcnRsIC51aS1kYXRlcGlja2VyLXByZXY6aG92ZXJ7cmlnaHQ6MXB4O2xlZnQ6YXV0b30udWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItbmV4dDpob3ZlcntsZWZ0OjFweDtyaWdodDphdXRvfS51aS1kYXRlcGlja2VyLXJ0bCAudWktZGF0ZXBpY2tlci1idXR0b25wYW5le2NsZWFyOnJpZ2h0fQoudWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSBidXR0b257ZmxvYXQ6bGVmdH0udWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItYnV0dG9ucGFuZSBidXR0b24udWktZGF0ZXBpY2tlci1jdXJyZW50e2Zsb2F0OnJpZ2h0fS51aS1kYXRlcGlja2VyLXJ0bCAudWktZGF0ZXBpY2tlci1ncm91cHtmbG9hdDpyaWdodH0udWktZGF0ZXBpY2tlci1ydGwgLnVpLWRhdGVwaWNrZXItZ3JvdXAtbGFzdCAudWktZGF0ZXBpY2tlci1oZWFkZXJ7Ym9yZGVyLXJpZ2h0LXdpZHRoOjA7Ym9yZGVyLWxlZnQtd2lkdGg6MXB4fS51aS1kYXRlcGlja2VyLXJ0bCAudWktZGF0ZXBpY2tlci1ncm91cC1taWRkbGUgLnVpLWRhdGVwaWNrZXItaGVhZGVye2JvcmRlci1yaWdodC13aWR0aDowO2JvcmRlci1sZWZ0LXdpZHRoOjFweH0udWktZGF0ZXBpY2tlci1jb3ZlcntkaXNwbGF5Om5vbmU7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4Oi0xO2ZpbHRlcjptYXNrKCk7dG9wOi00cHg7bGVmdDotNHB4O3dpZHRoOjIwMHB4O2hlaWdodDoyMDBweH0KLnVpLXNsaWRlcntwb3NpdGlvbjpyZWxhdGl2ZTt0ZXh0LWFsaWduOmxlZnR9LnVpLXNsaWRlciAudWktc2xpZGVyLWhhbmRsZXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjI7d2lkdGg6MS4yZW07aGVpZ2h0OjEuMmVtO2N1cnNvcjpkZWZhdWx0fS51aS1zbGlkZXIgLnVpLXNsaWRlci1yYW5nZXtwb3NpdGlvbjphYnNvbHV0ZTt6LWluZGV4OjE7Zm9udC1zaXplOi43ZW07ZGlzcGxheTpibG9jaztib3JkZXI6MDtiYWNrZ3JvdW5kLXBvc2l0aW9uOjAgMH0udWktc2xpZGVyLWhvcml6b250YWx7aGVpZ2h0Oi44ZW19LnVpLXNsaWRlci1ob3Jpem9udGFsIC51aS1zbGlkZXItaGFuZGxle3RvcDotLjNlbTttYXJnaW4tbGVmdDotLjZlbX0udWktc2xpZGVyLWhvcml6b250YWwgLnVpLXNsaWRlci1yYW5nZXt0b3A6MDtoZWlnaHQ6MTAwJX0udWktc2xpZGVyLWhvcml6b250YWwgLnVpLXNsaWRlci1yYW5nZS1taW57bGVmdDowfS51aS1zbGlkZXItaG9yaXpvbnRhbCAudWktc2xpZGVyLXJhbmdlLW1heHtyaWdodDowfQoudWktc2xpZGVyLXZlcnRpY2Fse3dpZHRoOi44ZW07aGVpZ2h0OjEwMHB4fS51aS1zbGlkZXItdmVydGljYWwgLnVpLXNsaWRlci1oYW5kbGV7bGVmdDotLjNlbTttYXJnaW4tbGVmdDowO21hcmdpbi1ib3R0b206LS42ZW19LnVpLXNsaWRlci12ZXJ0aWNhbCAudWktc2xpZGVyLXJhbmdle2xlZnQ6MDt3aWR0aDoxMDAlfS51aS1zbGlkZXItdmVydGljYWwgLnVpLXNsaWRlci1yYW5nZS1taW57Ym90dG9tOjB9LnVpLXNsaWRlci12ZXJ0aWNhbCAudWktc2xpZGVyLXJhbmdlLW1heHt0b3A6MH0udWktdGltZXBpY2tlci1kaXYgLnVpLXdpZGdldC1oZWFkZXJ7bWFyZ2luLWJvdHRvbTo4cHh9LnVpLXRpbWVwaWNrZXItZGl2IGRse3RleHQtYWxpZ246bGVmdH0udWktdGltZXBpY2tlci1kaXYgZGwgZHR7aGVpZ2h0OjI1cHg7bWFyZ2luLWJvdHRvbTotMjVweH0udWktdGltZXBpY2tlci1kaXYgZGwgZGR7bWFyZ2luOjAgMTBweCAxMHB4IDY1cHh9LnVpLXRpbWVwaWNrZXItZGl2IHRke2ZvbnQtc2l6ZTo5MCV9Ci51aS10cGlja2VyLWdyaWQtbGFiZWx7YmFja2dyb3VuZDowO2JvcmRlcjowO21hcmdpbjowO3BhZGRpbmc6MH0udWktd2lkZ2V0LWNvbnRlbnQsLnVpLXdpZGdldC1oZWFkZXJ7YmFja2dyb3VuZC1pbWFnZTpub25lO2ZvbnQtc2l6ZToxNHB4fS51aS13aWRnZXQtY29udGVudHtiYWNrZ3JvdW5kOiNmZmY7Ym9yZGVyOjFweCBzb2xpZCAjNjY2O3BhZGRpbmc6MH0udWktd2lkZ2V0LWhlYWRlcntiYWNrZ3JvdW5kOiM1NTU7Ym9yZGVyOjFweCBzb2xpZCAjNTU1fS51aS1jb3JuZXItYWxse2JvcmRlci1yYWRpdXM6MH0udWktZGF0ZS1waWNrZXJ7cGFkZGluZzowfS51aS1kYXRlcGlja2VyIHRhYmxle2ZvbnQtc2l6ZTouOWVtO21hcmdpbjowfS51aS1kYXRlcGlja2VyLXRhYmxlIGF7Y29sb3I6IzMzM30udWktZGF0ZXBpY2tlci10aXRsZXtmb250LXNpemU6MWVtfS51aS1zdGF0ZS1kZWZhdWx0LC51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtZGVmYXVsdCwudWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtZGVmYXVsdHtiYWNrZ3JvdW5kLWltYWdlOm5vbmU7YmFja2dyb3VuZC1jb2xvcjojZmZmO2JvcmRlcjoxcHggc29saWQgI2NjYztjb2xvcjojOTk5fQoudWktc3RhdGUtaG92ZXIsLnVpLXdpZGdldC1jb250ZW50IC51aS1zdGF0ZS1ob3ZlciwudWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtaG92ZXIsLnVpLXN0YXRlLWZvY3VzLC51aS13aWRnZXQtY29udGVudCAudWktc3RhdGUtZm9jdXMsLnVpLXdpZGdldC1oZWFkZXIgLnVpLXN0YXRlLWZvY3Vze2JhY2tncm91bmQtY29sb3I6d2hpdGU7YmFja2dyb3VuZC1pbWFnZTpub25lO2JvcmRlcjoxcHggc29saWQgIzk5OTtmb250LXdlaWdodDpib2xkO2NvbG9yOiM5OTl9LnVpLXN0YXRlLWhpZ2hsaWdodCwudWktd2lkZ2V0LWNvbnRlbnQgLnVpLXN0YXRlLWhpZ2hsaWdodCwudWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtaGlnaGxpZ2h0e2JhY2tncm91bmQtaW1hZ2U6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiNmN2Y3Zjc7Ym9yZGVyOjFweCBzb2xpZCAjOTk5O2NvbG9yOiM5OTl9LnVpLXN0YXRlLWFjdGl2ZSwudWktd2lkZ2V0LWNvbnRlbnQgLnVpLXN0YXRlLWFjdGl2ZSwudWktd2lkZ2V0LWhlYWRlciAudWktc3RhdGUtYWN0aXZle2JhY2tncm91bmQtaW1hZ2U6bm9uZTtiYWNrZ3JvdW5kLWNvbG9yOiNlZWU7Ym9yZGVyOjFweCBzb2xpZCAjNjY2O2NvbG9yOiMzMzN9Ci51aS1zdGF0ZS1ob3ZlciAudWktaWNvbiwudWktc3RhdGUtZm9jdXMgLnVpLWljb257YmFja2dyb3VuZC1pbWFnZTpiYWNrZ3JvdW5kLWltYWdlOnVybChSZXNvdXJjZXMvSW1hZ2VzL0RhdGVwaWNrZXIvdWktaWNvbnNfZWY4YzA4XzI1NngyNDAucG5nKX0udWktdGltZXBpY2tlci1kaXYgZGx7bWFyZ2luOjhweH0udWktdGltZXBpY2tlci1kaXYgLnVpX3RwaWNrZXJfdGltZV9sYWJlbHttYXJnaW4tYm90dG9tOi0yOHB4fS51aV90cGlja2VyX3RpbWVfbGFiZWwsLnVpX3RwaWNrZXJfaG91cl9sYWJlbCwudWlfdHBpY2tlcl9taW51dGVfbGFiZWx7bWFyZ2luLWxlZnQ6NHB4fS51aS10aW1lcGlja2VyLWRpdiAudWlfdHBpY2tlcl90aW1le21hcmdpbjozcHggMCA2cHggNjVweH0udWktZGF0ZXBpY2tlciAudWktZGF0ZXBpY2tlci1idXR0b25wYW5le2JvcmRlci10b3A6MXB4IHNvbGlkICNjY2M7bWFyZ2luLXRvcDoxZW19LnVpLWRhdGVwaWNrZXIgLnVpX3RwaWNrZXJfaG91ciwudWktZGF0ZXBpY2tlciAudWlfdHBpY2tlcl9taW51dGV7bWFyZ2luLXRvcDozcHh9Ci51aS1zbGlkZXItaG9yaXpvbnRhbHtiYWNrZ3JvdW5kOiNlZWU7Ym9yZGVyOjFweCBzb2xpZCAjY2NjO2JvcmRlci1yYWRpdXM6MnB4fS51aS1kYXRlcGlja2VyIC51aS1kYXRlcGlja2VyLWJ1dHRvbnBhbmUgYnV0dG9ue3BhZGRpbmc6LjJlbSAuNmVtO2JhY2tncm91bmQ6IzY2NjtiYWNrZ3JvdW5kOi1tb3otbGluZWFyLWdyYWRpZW50KHRvcCwjOTk5IDAsIzY2NiAxMDAlKTtiYWNrZ3JvdW5kOi13ZWJraXQtZ3JhZGllbnQobGluZWFyLGxlZnQgdG9wLGxlZnQgYm90dG9tLGNvbG9yLXN0b3AoMCUsIzk5OSksY29sb3Itc3RvcCgxMDAlLCM2NjYpKTtiYWNrZ3JvdW5kOi13ZWJraXQtbGluZWFyLWdyYWRpZW50KHRvcCwjOTk5IDAsIzY2NiAxMDAlKTtiYWNrZ3JvdW5kOi1vLWxpbmVhci1ncmFkaWVudCh0b3AsIzk5OSAwLCM2NjYgMTAwJSk7YmFja2dyb3VuZDotbXMtbGluZWFyLWdyYWRpZW50KHRvcCwjOTk5IDAsIzY2NiAxMDAlKTtiYWNrZ3JvdW5kOmxpbmVhci1ncmFkaWVudCh0b3AsIzk5OSAwLCM2NjYgMTAwJSk7ZmlsdGVyOnByb2dpZDpEWEltYWdlVHJhbnNmb3JtLk1pY3Jvc29mdC5ncmFkaWVudChzdGFydENvbG9yc3RyPScjOTk5OTk5JyxlbmRDb2xvcnN0cj0nIzY2NjY2NicsR3JhZGllbnRUeXBlPTApOy13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjpyZ2JhKDg1LDg1LDg1LDAuNzUpO2JvcmRlcjoxcHggc29saWQgIzc3Nztib3JkZXItcmFkaXVzOjJweDstd2Via2l0LWJvcmRlci1yYWRpdXM6MnB4O2NvbG9yOiNmZmY7Zm9udC13ZWlnaHQ6Ym9sZH0=");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/Workflow/Workflow.css","css","LndvcmtmbG93LWluc3RydWN0aW9uLW1zZ3ttYXJnaW4tYm90dG9tOi43NWVtfS53b3JrZmxvd2xpc3QtY29udGFpbmVye3dpZHRoOjEwMCU7bWFyZ2luOjhweH0ud29ya2Zsb3dsaXN0LWNvbnRhaW5lciBoMXtmb250LXdlaWdodDpib2xkfS53b3JrZmxvdy1saXN0LW5vLXdvcmtmbG93cy5ib3VuZC1pbnZpc2libGV7cG9zaXRpb246YWJzb2x1dGV9Lmdlb21ldHJ5LWJ1dHRvbnN7bWFyZ2luLXRvcDouMjVlbTt0ZXh0LWFsaWduOmxlZnR9Lmdlb21ldHJ5LWJ1dHRvbnMgLmJ1dHRvbntkaXNwbGF5OmlubGluZS1ibG9jaztwYWRkaW5nOjRweDttYXJnaW4tbGVmdDowO21hcmdpbi1yaWdodDo1cHh9Lmdlb21ldHJ5LWJ1dHRvbnMgLmJ1dHRvbiBzcGFue2Rpc3BsYXk6YmxvY2s7d2lkdGg6MjRweDtoZWlnaHQ6MjRweH0ud29ya2Zsb3ctc3RhdHVzLW1zZ3tib3JkZXItcmFkaXVzOjRweDtvdmVyZmxvdzphdXRvO21hcmdpbjoxZW0gMDtwYWRkaW5nOi41ZW19LndvcmtmbG93LXN0YXR1cy1tc2cgdGFibGV7Ym9yZGVyLWNvbGxhcHNlOmNvbGxhcHNlfQoud29ya2Zsb3ctc3RhdHVzLW1zZyBpbWd7ZGlzcGxheTpibG9jazttYXJnaW4tcmlnaHQ6NHB4fQ==");
geocortex.resourceManager.register("Mapping","inv","Mapping/modules/ZoomControl/ZoomControl.css","css","Lnpvb20tY29udHJvbC1idG4sLnpvb20tY29udHJvbC1idG4gYXtkaXNwbGF5OmJsb2NrfS56b29tLWNvbnRyb2wtYnRue3dpZHRoOjMycHg7aGVpZ2h0OjMycHh9Lnpvb20tY29udHJvbC1idG4gYXt3aWR0aDoxMDAlO2hlaWdodDoxMDAlfS56b29tLWNvbnRyb2wtYnRuIGE6Zm9jdXMsLnpvb20tY29udHJvbC1idG4gYTpob3ZlcntvcGFjaXR5OjF9Lnpvb20tY29udHJvbC1idG57YmFja2dyb3VuZC1yZXBlYXQ6bm8tcmVwZWF0O2JhY2tncm91bmQtcG9zaXRpb246Y2VudGVyIGNlbnRlcn0=");
geocortex.resourceManager.register("Mapping","inv","Invariant","json","eyJsYW5ndWFnZS1mZWF0dXJlLWxheWVyLWxheWVyLWRldGFpbHMiOiJNYW5hZ2UgRmVhdHVyZSBMYXllciIsImxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItd2hlcmUtY2xhdXNlIjoiV2hlcmUgQ2xhdXNlOiIsImxhbmd1YWdlLWlkZW50aWZ5LWxpbmUtZGVzYyI6IlZpZXcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGZlYXR1cmVzIGFsb25nIHRoZSBsaW5lIEkgZHJhdy4iLCJsYW5ndWFnZS1nbG9iYWwtc2VhcmNoLWRlc2MiOiJTZWFyY2ggZm9yIGZlYXR1cmVzIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtcmVzdWx0cy1kaXNwbGF5aW5nIjoiRGlzcGxheWluZyIsImxhbmd1YWdlLWlkZW50aWZ5LXBvbHlnb24iOiJJZGVudGlmeSBieSBwb2x5Z29uIiwibGFuZ3VhZ2UtaWRlbnRpZnktcmVzdWx0cy1oZWFkZXIiOiJJZGVudGlmeSBSZXN1bHRzIiwibGFuZ3VhZ2UtcmVzdWx0cy1wYWdlLW9mIjoib2YiLCJsYW5ndWFnZS1sb2ctaGlkZSI6IkhpZGUiLCJsYW5ndWFnZS1zZWFyY2gtYXJjZ2lzLWFkZHJlc3MiOiJBZGRyZXNzIiwibGFuZ3VhZ2UtbWJsLW1hcC1jZW50ZXIiOiJUYXAgdGhlIG1hcCB0byBjZW50ZXIgdGhlIG1hcCBhdCB0aGF0IHBvaW50LiIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktZnJlZWhhbmQtcG9seWxpbmUiOiJEcmF3IGEgZnJlZWhhbmQgbGluZSBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItY2FjaGluZy1kYXRhIjoiQ2FjaGluZyBkYXRhLi4uIiwibGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1kZXRhaWxzIjoiRGV0YWlscyIsImxhbmd1YWdlLW5hdGl2ZS1waG90by1mcm9tLWNhbWVyYSI6IlRha2UgcGhvdG8gdXNpbmcgY2FtZXJhIiwibGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1mZXRjaGluZy1kYXRhIjoiRmV0Y2hpbmcgcHJpbWFyeSBsYXllciBkYXRhLi4uIiwibGFuZ3VhZ2UtZmVhdHVyZS1yZWxhdGVkLW5vdC1yZWxhdGlvbiI6Ik5vIGZlYXR1cmVzIHJlbGF0ZWQgdG8gdGhpcyBmZWF0dXJlIiwibGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1mZXRjaGluZy1yZWxhdGVkLWRhdGEiOiJGZXRjaGluZyByZWxhdGVkIGRhdGEgKHRoaXMgbWF5IHRha2UgYSBmZXcgbWludXRlcykuLi4iLCJsYW5ndWFnZS1jb21tb24tbm8tcmVzdWx0cy1kZXNjIjoiSXRlbXMgYXBwZWFyIGFmdGVyIHlvdSBwZXJmb3JtIGEgdmFsaWQgc2VhcmNoIG9yIG90aGVyIHRhc2sgdGhhdCByZXR1cm5zIHJlc3VsdHMuIiwibGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1lZGl0LWZlYXR1cmUiOiJFZGl0IEZlYXR1cmVzIiwibGFuZ3VhZ2UtY29tbW9uLXBhbi1kZXNjcmlwdGlvbiI6IlBhbiB0aGUgbWFwIHRvIGNlbnRlciB0aGlzIGZlYXR1cmUuIiwibGFuZ3VhZ2UtY29tbW9uLW5vLXJlc3VsdHMiOiJObyByZXN1bHRzIHRvIGRpc3BsYXkuIiwibGFuZ3VhZ2UtaWRlbnRpZnktY2lyY2xlIjoiSWRlbnRpZnkgYnkgY2lyY2xlIiwibGFuZ3VhZ2UtY29tbW9uLXpvb20iOiJab29tIiwibGFuZ3VhZ2UtbmF0aXZlLWF0dGFjaC1waG90byI6IkF0dGFjaCBQaG90byIsImxhbmd1YWdlLWdlb21ldHJ5LXRvb2xiYXItaW5zdHJ1Y3Rpb25zIjoiVXNlIGEgdG9vbCBiZWxvdyB0byBzZWxlY3QgYW4gYXJlYSBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLXdvcmtmbG93LWlzLWJ1c3kiOiJUaGUgd29ya2Zsb3cgaXMgYnVzeS4iLCJsYW5ndWFnZS1jYXB0dXJlLWdlb21ldHJ5LWZyZWVoYW5kLXBvbHlnb24iOiJEcmF3IGEgZnJlZWhhbmQgcG9seWdvbiBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLWNvbW1vbi1uby1yZXN1bHRzLXNob3J0IjoiTm8gcmVzdWx0cyIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktcG9pbnQiOiJTZWxlY3QgYSBwb2ludCBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLXBhZ2UtbmV4dCI6Ik5leHQiLCJsYW5ndWFnZS1jb21tb24tdmlldy1sb2ciOiJWaWV3IExvZyIsImxhbmd1YWdlLWdlb2xvY2F0aW9uLWVycm9yLXVua25vd24iOiJVbmtub3duIEVycm9yIiwibGFuZ3VhZ2UtaWRlbnRpZnktZnJlZWhhbmQtcG9seWdvbi10b29sIjoiRHJhZyBvbiB0aGUgbWFwIHRvIGRyYXcgYSBzaGFwZS4iLCJsYW5ndWFnZS1zZWFyY2gtYmluZy1wb3N0YWwtY29kZSI6IlBvc3RhbCBDb2RlIiwibGFuZ3VhZ2UtcGFnZS1wcmV2IjoiUHJldmlvdXMiLCJsYW5ndWFnZS1jYWNoaW5nLXJlcGxhY2UtZGF0YS1jb250aW51ZSI6IkNhY2hpbmcgcmVwbGFjZXMgZXhpc3RpbmcgZGF0YS4gQ29udGludWU/IiwibGFuZ3VhZ2UtY29tbW9uLXJlc3VsdHMiOiJSZXN1bHRzIiwibGFuZ3VhZ2UtZWRpdC1sb2ctZW1wdHkiOiJFZGl0IGxvZyBjdXJyZW50bHkgZW1wdHkuIiwibGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1oYXMtZ2VvbWV0cnkiOiJUaGlzIGZlYXR1cmUgaGFzIGdlb21ldHJ5LiIsImxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItcGVuZGluZy1lZGl0cy1tdWx0aXBsZS1sYXllcnMtZXh0IjoiWW91IGhhdmUgcGVuZGluZyBlZGl0cyBvbiBvbmUgb3IgbW9yZSBsYXllcnMuIFBsZWFzZSB1c2UgdGhlIE1hbmFnZSBGZWF0dXJlIExheWVycyBzY3JlZW4gdG8gc3luY2hyb25pemUgeW91ciBlZGl0cyB0byB0aGUgc2VydmVyLiIsImxhbmd1YWdlLWdlb2xvY2F0aW9uLWVycm9yIjoiRXJyb3IgaW4gZ2VvbG9jYXRpb246ICIsImxhbmd1YWdlLWVycm9yLW9jY3VycmVkLXdoaWxlLXN5bmNoaW5nIjoiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgc3luY2hyb25pemluZyIsImxhbmd1YWdlLXNlYXJjaC1hcmNnaXMtc2NvcmUiOiJTY29yZSIsImxhbmd1YWdlLXJlc3VsdHMtcGFnZSI6IlBhZ2UiLCJsYW5ndWFnZS1jb21tb24tc3luYy1jb21wbGV0ZSI6IlN5bmMgY29tcGxldGUiLCJsYW5ndWFnZS1wYW5lbC1jbG9zZSI6IkNsb3NlIiwibGFuZ3VhZ2UtY29tbW9uLXZhbGlkYXRpb24tc3ltYm9sIjoiKiIsImxhbmd1YWdlLWVkaXQtbG9nIjoiRWRpdCBsb2ciLCJsYW5ndWFnZS1hdXRoLWF1dGhlbnRpY2F0aW5nIjoiQXV0aGVudGljYXRpbmcuLi4iLCJsYW5ndWFnZS1jb21tb24tem9vbS1kZXNjcmlwdGlvbiI6Ilpvb20gdG8gdGhpcyBmZWF0dXJlIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2Utb3BlcmF0aW9ucy1jYW5ub3QtdW5kb25lIjoiV2FybmluZzogUmVjYWNoaW5nIGRhdGEgZm9yIHRoaXMgbGF5ZXIgd2lsbCBvdmVyd3JpdGUgYW55IGVkaXRzIHJlY2VudGx5IG1hZGUgYW5kIGNhbm5vdCBiZSB1bmRvbmUuIiwibGFuZ3VhZ2UtbWFwLXN1cmZhY2UiOiJNYXAgc3VyZmFjZS4iLCJsYW5ndWFnZS1mZWF0dXJlLWRldGFpbHMtZm9yIjoiRGV0YWlscyBmb3IiLCJsYW5ndWFnZS13YXJuaW5nLW9mZmxpbmUtY2xlYXJpbmctZGF0YSI6IkNhbm5vdCBjbGVhciBkYXRhIHdoaWxlIG9mZmxpbmUuIiwibGFuZ3VhZ2Utc2VhcmNoLXdvcmxkLXBsYWNlLW5hbWVzIjoiV29ybGQgUGxhY2UgTmFtZXMiLCJsYW5ndWFnZS1sb2ctdGltZXN0YW1wIjoiVGltZXN0YW1wIiwibGFuZ3VhZ2UtaWRlbnRpZnktcG9seWdvbi1kZXNjIjoiVmlldyBpbmZvcm1hdGlvbiBhYm91dCB0aGUgYXJlYSBJIGRyYXcuIiwibGFuZ3VhZ2Utem9vbS1pbml0aWFsLWV4dGVudCI6IlJldHVybiB0byBpbml0aWFsIG1hcCBleHRlbnQiLCJsYW5ndWFnZS1pZGVudGlmeS1yZWN0YW5nbGUiOiJJZGVudGlmeSBieSByZWN0YW5nbGUiLCJsYW5ndWFnZS1jb21tb24tZWRpdC1mZWF0dXJlIjoiRWRpdCBGZWF0dXJlIiwibGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1jbGVhci1kYXRhIjoiQ2xlYXIgRGF0YSIsImxhbmd1YWdlLWl3dG0tem9vbS1vdXQiOiJab29tIG91dCIsImxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItdGFwLXRvLWVkaXQtZmVhdHVyZSI6IlRhcCB0byBlZGl0IGZlYXR1cmUiLCJsYW5ndWFnZS1ydW4td29ya2Zsb3ciOiJQZXJmb3JtIGEgdGFzayIsImxhbmd1YWdlLWZlYXR1cmUtbm90LWF2YWlsYWJsZSI6Ik4vQSIsImxhbmd1YWdlLWN1cnJlbnRfZXh0ZW50IjoiQ3VycmVudCBFeHRlbnQiLCJsYW5ndWFnZS1zZWFyY2gtYmluZy1hZGRyZXNzIjoiQWRkcmVzcyIsImxhbmd1YWdlLXdvcmtmbG93LW5vbmUtYXZhaWxhYmxlIjoiTm8gdGFza3MgYXZhaWxhYmxlLiIsImxhbmd1YWdlLWZlYXR1cmUtYXR0YWNobWVudHMtY2hlY2tpbmciOiJDaGVja2luZyBmb3IgYXR0YWNobWVudHMuLi4iLCJsYW5ndWFnZS1lcnJvci13aGlsZS1jbGVhcmluZy1kYXRhIjoiQW4gZXJyb3Igb2NjdXJyZWQgd2hpbGUgY2xlYXJpbmcgZGF0YSIsImxhbmd1YWdlLXNpdGUtaW5pdGlhbGl6YXRpb24tZmFpbHVyZSI6IkZhaWxlZCB0byBpbml0aWFsaXplIHNpdGUuIFRoZSBlcnJvciB3YXM6IHswfSIsImxhbmd1YWdlLWZlYXR1cmUtYWN0aW9ucyI6IkFjdGlvbnMiLCJsYW5ndWFnZS1jb21tb24tZXh0cmFjdC1kYXRhIjoiRXh0cmFjdCBEYXRhIiwibGFuZ3VhZ2UtY29tbW9uLWJhY2siOiJCYWNrIiwibGFuZ3VhZ2UtY29tbW9uLWNsb3NlIjoiQ2xvc2UiLCJsYW5ndWFnZS1sb2ctdGl0bGUiOiJEZWJ1ZyBMb2ciLCJsYW5ndWFnZS1nZW9sb2NhdGlvbi1lcnJvci1wcm9qZWN0aW9uIjoiRXJyb3IgaW4gcHJvamVjdGluZyBnZW9sb2NhdGlvbjogezB9IiwibGFuZ3VhZ2UtbG9nLW1lc3NhZ2UiOiJNZXNzYWdlIiwibGFuZ3VhZ2Utc2VhcmNoLXBsYWNlaG9sZGVyIjoiU2VhcmNoIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1tdWx0aS1wb2ludCI6IlNlbGVjdCBzZXZlcmFsIHBvaW50cyBvbiB0aGUgbWFwLiAgRG91YmxlLWNsaWNrIG9yIHRhcCB0byBmaW5pc2guIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1wb2x5Z29uIjoiRHJhdyBhIHBvbHlnb24gYXJlYSBvZiBpbnRlcmVzdCBvbiB0aGUgbWFwLiBEb3VibGUtY2xpY2sgb3IgdGFwIHRvIGZpbmlzaC4iLCJsYW5ndWFnZS1mZWF0dXJlLXJlbGF0ZWQtZmVhdHVyZXMiOiJSZWxhdGVkIEZlYXR1cmVzIiwibGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1yZWxhdGVkLWZlYXR1cmVzIjoiUmVsYXRlZCBGZWF0dXJlcyIsImxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItbWF4LXJlY29yZC13YXJuaW5nIjoiQ2FjaGluZyBvZiBsYXllciB7MH0gaGFzIHJldHVybmVkIHsxfSByZWNvcmRzLiBUaGlzIG1heSBpbmRpY2F0ZSB0aGF0IGRhdGEgaGFzIGJlZW4gdHJ1bmNhdGVkIHRvIHRoZSBtYXhpbXVtIGFsbG93ZWQgYnkgQXJjR0lTIFNlcnZlci4iLCJsYW5ndWFnZS1sb2ctY2xlYXIiOiJDbGVhciIsImxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItY2FjaGUtZGF0YSI6IkNhY2hlIERhdGEiLCJsYW5ndWFnZS13b3JrZmxvdy1zaXRlLXdvcmtmbG93cyI6IlNpdGUgV29ya2Zsb3dzIiwibGFuZ3VhZ2Utd29ya2Zsb3ctd29ya2Zsb3dzIjoiV29ya2Zsb3dzIiwibGFuZ3VhZ2UtY29tbW9uLWxvZ2luIjoiTG9nIEluIiwibGFuZ3VhZ2UtZWRpdC1sb2ctcGVuZGluZy1lZGl0cyI6IlBlbmRpbmcgZWRpdChzKSIsImxhbmd1YWdlLWZlYXR1cmUtYXR0cmlidXRlcyI6IkRldGFpbHMiLCJsYW5ndWFnZS1kc2staWRlbnRpZnktcG9pbnQtdG9vbCI6IkNsaWNrIHRoZSBmZWF0dXJlIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtaWRlbnRpZnktbm8tZ2VvbWV0cnktZm9yLW1hcC10aXAtcmVzdWx0cyI6IkNhbid0IGV4ZWN1dGUgdGhlIFNob3dNYXBUaXBSZXN1bHRzIGNvbW1hbmQgd2l0aG91dCBhIGdlb21ldHJ5LiIsImxhbmd1YWdlLW1hcC1sYXllcnMtZGVzYyI6Ik1vZGlmeSB0aGUgaW5mb3JtYXRpb24gZGlzcGxheWVkIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1yZWN0YW5nbGUiOiJTZWxlY3QgYSByZWN0YW5ndWxhciBhcmVhIG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtYWxlcnQtZGVmYXVsdC10aXRsZSI6IkFsZXJ0IiwibGFuZ3VhZ2UtcnVuLXdvcmtmbG93LWRlc2MiOiJTZWxlY3QgZnJvbSBhIGxpc3Qgb2YgYXZhaWxhYmxlIHRhc2tzLiIsImxhbmd1YWdlLWNvbW1vbi1jYW5jZWwiOiJDYW5jZWwiLCJsYW5ndWFnZS1tYmwtaWRlbnRpZnktcG9pbnQtdG9vbCI6IlRhcCB0aGUgZmVhdHVyZSBvbiB0aGUgbWFwLiIsImxhbmd1YWdlLWVkaXRzLW5vdC1zeW5jaHJvbml6ZWQtdG8tc2VydmVyIjoiVGhlcmUgYXJlIGVkaXRzIHRoYXQgaGF2ZSBub3QgYmVlbiBzeW5jaHJvbml6ZWQgdG8gdGhlIHNlcnZlci4gIiwibGFuZ3VhZ2UtaWRlbnRpZnktcG9pbnQtZGVzYyI6IlZpZXcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGxvY2F0aW9uIEkgZHJhdy4iLCJsYW5ndWFnZS13b3JrZmxvdy10aXRsZSI6IldvcmtmbG93IiwibGFuZ3VhZ2UtY29uZmlybS1kZWZhdWx0LXRpdGxlIjoiQ29uZmlybSIsImxhbmd1YWdlLWVycm9yLXdoaWxlLWNhY2hpbmctZGF0YSI6IkFuIGVycm9yIG9jY3VycmVkIHdoaWxlIGNhY2hpbmcgdGhlIGRhdGE6IHswfS4gezF9IiwibGFuZ3VhZ2UtcGFnZS1maXJzdCI6IkZpcnN0IiwibGFuZ3VhZ2UtY29tbW9uLXBhbiI6IlBhbiIsImxhbmd1YWdlLWNvbW1vbi1zaG93LWRldGFpbHMtZGVzY3JpcHRpb24iOiJTZWUgYWRkaXRpb25hbCBkZXRhaWxzIGZvciB0aGlzIGZlYXR1cmUuIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1kZWZhdWx0IjoiRHJhdyBhbiBhcmVhIG9mIGludGVyZXN0IG9uIHRoZSBtYXAuIiwibGFuZ3VhZ2UtZ2VvbG9jYXRpb24tZXJyb3ItcG9zaXRpb24tdW5hdmFpbGFibGUiOiJDdXJyZW50IGxvY2F0aW9uIG5vdCBhdmFpbGFibGUuIiwibGFuZ3VhZ2UtY29tbW9uLWxheWVyLWRhdGEiOiJMYXllciBEYXRhIiwibGFuZ3VhZ2UtYXV0aC10aXRsZSI6IkF1dGhlbnRpY2F0aW9uIFJlcXVpcmVkIiwibGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1jbGVhcmluZy1kYXRhIjoiQ2xlYXJpbmcgZGF0YS4uLiIsImxhbmd1YWdlLW1hcC1zaXRlLWluaXRpYWxpemF0aW9uLWZhaWxlZCI6IlRoZSBzaXRlIGZhaWxlZCB0byBpbml0aWFsaXplLiIsImxhbmd1YWdlLWxvZy1uby1lbnRyaWVzIjoiTm8gZW50cmllcy4iLCJsYW5ndWFnZS1mZWF0dXJlLWxheWVyLWFwcGx5aW5nIjoiQXBwbHlpbmcgZWRpdHMuLi4iLCJsYW5ndWFnZS1jb21tb24td29ya2Zsb3ciOiJXb3JrZmxvdyIsImxhbmd1YWdlLW1hcC16b29tLWluIjoiRHJhZyBvbiB0aGUgbWFwIHRvIHpvb20gaW50byB0aGF0IGFyZWEuIiwibGFuZ3VhZ2Utb2ZmbGluZS12aWV3ZXItcHJvdmlzaW9uaW5nLWZhaWxlZCI6IlZpZXdlciBwcm92aXNpb25pbmcgZm9yIG9mZmxpbmUgdXNlIGhhcyBmYWlsZWQuIiwibGFuZ3VhZ2UtaXd0bS1tZW51cy1kZXNjcmlwdGlvbiI6Ikkgd2FudCB0byBNZW51cyIsImxhbmd1YWdlLW1hcC1sb2FkaW5nLXN0YWdlMiI6IlN0aWxsIGxvYWRpbmcgezB9IG1hcCBkYXRhLi4uIiwibGFuZ3VhZ2UtbWFwLWxvYWRpbmctc3RhZ2UxIjoiTG9hZGluZyB7MH0gbWFwIGRhdGEuLi4iLCJsYW5ndWFnZS1tYXAtbG9hZGluZy1zdGFnZTMiOiJTdGlsbCB3b3JraW5nLiAgTG9hZGluZyB7MH0gbWFwIGRhdGEuLi4iLCJsYW5ndWFnZS1pd3RtLXRpdGxlIjoiSSB3YW50IHRvLi4uIiwibGFuZ3VhZ2UtaXd0bS1ydW4tYS13b3JrZmxvdyI6IlBlcmZvcm0gYSB0YXNrIiwibGFuZ3VhZ2UtY2Fubm90LXN5bmMtZWRpdHMtb2ZmbGluZSI6IkNhbm5vdCBzeW5jaHJvbml6ZSBlZGl0cyB3aGlsZSBvZmZsaW5lLiIsImxhbmd1YWdlLWdlb2xvY2F0aW9uLWVycm9yLW9mZmxpbmUiOiJDYW5ub3Qgem9vbSB0byBsb2NhdGlvbiB3aGlsZSBvZmZsaW5lLiIsImxhbmd1YWdlLWlkZW50aWZ5LXJlY3RhbmdsZS1kZXNjIjoiRHJhdyBhIHJlY3RhbmdsZSB0byB2aWV3IGluZm9ybWF0aW9uIGFib3V0IHRoYXQgYXJlYS4iLCJsYW5ndWFnZS1mZWF0dXJlLWxheWVyLXZpZXctY2FjaGVkLWV4dGVudCI6IlZpZXcgQ2FjaGVkIEV4dGVudCIsImxhbmd1YWdlLW9mZmxpbmUtZXJyb3ItY2xlYXJpbmctZGF0YSI6IkVycm9yIGNsZWFyaW5nIG9mZmxpbmUgZGF0YTogezB9IiwibGFuZ3VhZ2UtZmVhdHVyZS1yZWxhdGVkLWNoZWNraW5nIjoiQ2hlY2tpbmcgZm9yIHJlbGF0ZWQgZmVhdHVyZXMuLi4iLCJsYW5ndWFnZS16b29tLWluaXRpYWwtZXh0ZW50LWRlc2MiOiJHbyBiYWNrIHRvIHRoZSBpbml0aWFsIG1hcCBwb3NpdGlvbiBhbmQgem9vbSBsZXZlbC4iLCJsYW5ndWFnZS1iYW5uZXItc3ViLXRpdGxlIjoiIiwibGFuZ3VhZ2UtYXV0aC1wYXNzd29yZCI6IlBhc3N3b3JkOiIsImxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItc3luY2luZyI6IlN5bmNocm9uaXppbmcuLi4iLCJsYW5ndWFnZS1zZWFyY2gtdGl0bGUiOiJTZWFyY2giLCJsYW5ndWFnZS1lcnJvci1kZWxldGluZy1mZWF0dXJlIjoiRXJyb3IgZGVsZXRpbmcgZmVhdHVyZTogezB9IiwibGFuZ3VhZ2Utbm8tcGhvdG8tbm8tY2FtZXJhLWRldGVjdGVkIjoiQ291bGQgbm90IHRha2UgcGhvdG86IE5vIGNhbWVyYSBzdXBwb3J0IGRldGVjdGVkLiIsImxhbmd1YWdlLWlkZW50aWZ5LXBvaW50IjoiSWRlbnRpZnkgYnkgcG9pbnQiLCJsYW5ndWFnZS13b3JrZmxvdy1lcnJvciI6IldvcmtmbG93IGVycm9yOiBFcnJvciBydW5uaW5nIGFjdGl2aXR5OiB7MH0iLCJsYW5ndWFnZS1mZWF0dXJlLWxheWVyLWF0dGFjaC1waG90by1kZXNjIjoiQXR0YWNoIGEgcGhvdG8gdG8gdGhpcyBmZWF0dXJlIHVzaW5nIHRoZSBkZXZpY2UgY2FtZXJhLiIsImxhbmd1YWdlLWl3dG0tem9vbS1pbiI6Ilpvb20gaW4iLCJsYW5ndWFnZS1wcm9tcHQtZGVmYXVsdC10aXRsZSI6IlByb21wdCIsImxhbmd1YWdlLWZlYXR1cmUtYXR0YWNobWVudHMiOiJBdHRhY2htZW50cyIsImxhbmd1YWdlLWNvbW1vbi1lZGl0aW5nIjoiRWRpdGluZyIsImxhbmd1YWdlLXJlc3VsdHMiOiJSZXN1bHRzIiwibGFuZ3VhZ2UtbWFuYWdlLWZlYXR1cmUtbGF5ZXJzLW9ubGluZSI6Ik9ubGluZSIsImxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItc2l6ZSI6IlNpemUiLCJsYW5ndWFnZS1uYXRpdmUtcGhvdG8tZnJvbS1nYWxsZXJ5IjoiVXNlIHBob3RvIGZyb20gZ2FsbGVyeSIsImxhbmd1YWdlLWNhcHR1cmUtZ2VvbWV0cnktdGl0bGUiOiJEaXNwbGF5IENhcHR1cmUgR2VvbWV0cnkiLCJsYW5ndWFnZS1mZWF0dXJlLWxheWVyLWxpc3QiOiJNYW5hZ2UgRmVhdHVyZSBMYXllcnMiLCJsYW5ndWFnZS1pZGVudGlmeS1wb2x5Z29uLXRvb2wiOiJEcmFnIG9uIHRoZSBtYXAgdG8gZHJhdyBhIHNoYXBlLiIsImxhbmd1YWdlLWZlYXR1cmUtZGV0YWlscy10aXRsZSI6IkZlYXR1cmUgRGV0YWlscyIsImxhbmd1YWdlLW1hcC10aXRsZSI6Ik1hcCIsImxhbmd1YWdlLWNvbW1vbi1xdWVyeS1yZXN1bHRzIjoiUXVlcnkgUmVzdWx0cyIsImxhbmd1YWdlLWxvZy1hcHAtbG9nIjoiQXBwbGljYXRpb24gTG9nIiwibGFuZ3VhZ2UtZmVhdHVyZS1kZXRhaWxzLW5vLWZlYXR1cmUiOiJObyBmZWF0dXJlIHNlbGVjdGVkLiIsImxhbmd1YWdlLWlkZW50aWZ5LWZyZWVoYW5kIjoiSWRlbnRpZnkgYnkgZnJlZWhhbmQgc2hhcGUiLCJsYW5ndWFnZS1zZWFyY2gtcGVyZm9ybS1nbG9iYWwtc2VhcmNoIjoiUGVyZm9ybSBhIHNlYXJjaCIsImxhbmd1YWdlLWNvbW1vbi1kZWJ1Zy1sb2cta2V5cyI6IlRvIHZpZXcgdGhlIGxvZyBvbiBhIGRlc2t0b3AgbWFjaGluZSwgcHJlc3MgQ3RybCArIFNoaWZ0ICsgfi4gT24gYSBtb2JpbGUgZGV2aWNlLCBwcmVzcyBhbmQgaG9sZCB0aGUgdG9vbGJhci4iLCJsYW5ndWFnZS1pZGVudGlmeS1jaXJjbGUtZGVzYyI6IlZpZXcgaW5mb3JtYXRpb24gYWJvdXQgdGhlIGFyZWEgSSBkcmF3LiIsImxhbmd1YWdlLXJlc3VsdHMtdG90YWwiOiJUb3RhbCIsImxhbmd1YWdlLWdlb2xvY2F0aW9uLWluLXByb2dyZXNzIjoiRmluZGluZyB5b3VyIGxvY2F0aW9uLi4uIiwibGFuZ3VhZ2UtaWRlbnRpZnktZnJlZWhhbmQtcG9seWxpbmUtdG9vbCI6IkRyYWcgb24gdGhlIG1hcCB0byBkcmF3IGEgbGluZS4iLCJsYW5ndWFnZS1lcnJvci1zeW5jaGluZy1mZWF0dXJlIjoiRXJyb3Igc3luY2hyb25pemluZyBmZWF0dXJlOiB7MH0iLCJsYW5ndWFnZS1jb21tb24tY3JlYXRlIjoiQ3JlYXRlIiwibGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1hdHRhY2gtcGhvdG8iOiJBdHRhY2ggYSBQaG90byIsImxhbmd1YWdlLW9mZmxpbmUtYnVuZGxlLWluZGV4LWVycm9yIjoiVGhlcmUgd2FzIGFuIGVycm9yIHNhdmluZyB0aGUgb2ZmbGluZSBidW5kbGUgaW5kZXguIFlvdSBtYXkgYmUgb3V0IG9mIHNwYWNlLiBFcnJvcjogezB9IiwibGFuZ3VhZ2UtbWFwLWxheWVycyI6IlR1cm4gbWFwIGRhdGEgb24vb2ZmIiwibGFuZ3VhZ2UtaWRlbnRpZnktZnJlZWhhbmQtZGVzYyI6IkRyYXcgYSBzaGFwZSB0byB2aWV3IGluZm9ybWF0aW9uIGFib3V0IHRoYXQgYXJlYS4iLCJsYW5ndWFnZS1vZmZsaW5lLXByb3Zpc2lvbmluZy1zdWNjZWVkZWQiOiJWaWV3ZXIgcHJvdmlzaW9uZWQgZm9yIG9mZmxpbmUgdXNlLiIsImxhbmd1YWdlLWVycm9yLWZlYXR1cmUtZWRpdHMiOiJUaGVyZSB3YXMgYW4gZXJyb3IgYXBwbHlpbmcgZmVhdHVyZSBlZGl0czogezB9IiwibGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1jcmVhdGUtbmV3LWZlYXR1cmUiOiJBZGQgbmV3IGZlYXR1cmUiLCJsYW5ndWFnZS1mZWF0dXJlLWF0dGFjaG1lbnRzLW5vdC1zdXBwb3J0ZWQiOiJObyBhdHRhY2htZW50cyBmb3IgdGhpcyBmZWF0dXJlIiwibGFuZ3VhZ2UtZ2VvbWV0cnktY2FwdHVyZWQiOiJHZW9tZXRyeSBjYXB0dXJlZC4iLCJsYW5ndWFnZS1hdXRoLXVzZXJuYW1lIjoiVXNlcm5hbWU6IiwibGFuZ3VhZ2Utc2VhcmNoLWZzYy1kaXNwbGF5LW5hbWUiOiJTZWFyY2g6IHswfSIsImxhbmd1YWdlLWlkZW50aWZ5LXJlY3RhbmdsZS10b29sIjoiRHJhZyBvbiB0aGUgbWFwIHRvIGRyYXcgYSByZWN0YW5nbGUuIiwibGFuZ3VhZ2UtZmVhdHVyZS1sYXllci1uby1jYWNoZWQtZGF0YSI6Ik5vIGNhY2hlZCBkYXRhIGF2YWlsYWJsZS4iLCJsYW5ndWFnZS1zZWFyY2gtYmluZy1mb3JtYXR0ZWQiOiJGb3JtYXR0ZWQgQWRkcmVzcyIsImxhbmd1YWdlLXNlYXJjaC1iaW5nLWFkbWluLWRpc3RyaWN0IjoiQWRtaW5pc3RyYXRpdmUgRGlzdHJpY3QiLCJsYW5ndWFnZS1tYXAtem9vbS1vdXQiOiJEcmFnIG9uIHRoZSBtYXAgdG8gem9vbSBvdXQuIFRoZSBzbWFsbGVyIHRoZSBhcmVhIHlvdSBkcmFnLCB0aGUgZmFydGhlciB5b3Ugem9vbSBvdXQuIiwibGFuZ3VhZ2UtZ2VvbG9jYXRpb24tZXJyb3ItdGltZW91dCI6IlRpbWVvdXQiLCJsYW5ndWFnZS13b3JrZmxvdy1hdmFpbGFibGUtd29ya2Zsb3dzIjoiQXZhaWxhYmxlIHRhc2tzIiwibGFuZ3VhZ2UtZmVhdHVyZS1hdHRhY2htZW50cy1maWxlLXNpemUiOiJCeXRlcyIsImxhbmd1YWdlLWJhbm5lci10aXRsZSI6IkFwcGxpY2F0aW9uIFRpdGxlIiwibGFuZ3VhZ2UtZHNrLW1hcC1jZW50ZXIiOiJDbGljayB0aGUgbWFwIHRvIGNlbnRlciB0aGUgbWFwIGF0IHRoYXQgcG9pbnQuIiwibGFuZ3VhZ2Utb2ZmbGluZS1kYXRhLWNsZWFyZWQiOiJPZmZsaW5lIGRhdGEgY2xlYXJlZC4iLCJsYW5ndWFnZS1jb21tb24tZWRpdC1mZWF0dXJlLWRlc2NyaXB0aW9uIjoiRWRpdCB0aGlzIGZlYXR1cmUncyBkZXRhaWxzLiIsImxhbmd1YWdlLWZlYXR1cmUtYXR0YWNobWVudHMtbm8tYXR0YWNobWVudHMiOiJObyBhdHRhY2htZW50cyIsImxhbmd1YWdlLWlkZW50aWZ5LXBvbHlsaW5lLXRvb2wiOiJEcmFnIG9uIHRoZSBtYXAgdG8gZHJhdyBhIGxpbmUuIiwibGFuZ3VhZ2UtaXd0bS1uby1pdGVtcyI6Ik5vIGl0ZW1zISIsImxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItY2FjaGVkLW9uIjoiQ2FjaGVkIE9uIiwibGFuZ3VhZ2UtZmVhdHVyZS1hY3Rpb25zLWRlc2NyaXB0aW9uIjoiRmVhdHVyZSBBY3Rpb25zIiwibGFuZ3VhZ2UtbG9nLWxldmVsIjoiTGV2ZWwiLCJsYW5ndWFnZS1mZWF0dXJlLWxheWVyLXN5bmMtZWRpdHMiOiJTeW5jaHJvbml6ZSBlZGl0cyB0byBzZXJ2ZXIiLCJsYW5ndWFnZS1jb21tb24tbG9hZGluZyI6IkxvYWRpbmcuLi4iLCJsYW5ndWFnZS1wYWdlLWxhc3QiOiJMYXN0IiwibGFuZ3VhZ2UtYXV0aC1lcnJvciI6IkludmFsaWQgdXNlcm5hbWUgb3IgcGFzc3dvcmQuIFBsZWFzZSB0cnkgYWdhaW4uIiwibGFuZ3VhZ2UtZ2VvbG9jYXRpb24tZXJyb3ItcGVybWlzc2lvbiI6Ikdlb2xvY2F0aW9uIG5vdCBwZXJtaXR0ZWQuIiwibGFuZ3VhZ2Utb2ZmbGluZS1wcm92aXNpb25pbmctZmFpbGVkIjoiUHJvdmlzaW9uaW5nIGZvciBvZmZsaW5lIHVzZSBoYXMgZmFpbGVkLiBUaGVyZSB3YXMgYW4gZXJyb3Igc2F2aW5nIGFuIG9mZmxpbmUgcmVzb3VyY2UuIFlvdSBtYXkgYmUgb3V0IG9mIHNwYWNlLiIsImxhbmd1YWdlLWNvbW1vbi1vayI6Ik9LIiwibGFuZ3VhZ2UtaXd0bS1kZXNjcmlwdGlvbiI6IlF1aWNrIGFjY2VzcyB0byBjb21tb24gdGFza3MuIiwibGFuZ3VhZ2Utc2VhcmNoLWJpbmctY291bnRyeSI6IkNvdW50cnkiLCJsYW5ndWFnZS1pZGVudGlmeS1lcnJvci1tZXNzYWdlIjoiU29ycnksIHRoZSBhcHBsaWNhdGlvbiBmYWlsZWQgdG8gcGVyZm9ybSB0aGUgcmVxdWVzdGVkIG9wZXJhdGlvbi4gVHJ5IGFnYWluIGxhdGVyLCBvciBpbmZvcm0geW91ciBhcHBsaWNhdGlvbiBhZG1pbmlzdHJhdG9yIG9mIHRoZSBwcm9ibGVtLiIsImxhbmd1YWdlLW1hbmFnZS1mZWF0dXJlLWxheWVycy1vZmZsaW5lIjoiT2ZmbGluZSIsImxhbmd1YWdlLWZlYXR1cmUtbGF5ZXItcGVuZGluZy1lZGl0cy1tdWx0aXBsZS1sYXllcnMiOiJZb3UgaGF2ZSBwZW5kaW5nIGVkaXRzIG9uIG9uZSBvciBtb3JlIGxheWVycy4iLCJsYW5ndWFnZS1jb21tb24tc2hvdy1kZXRhaWxzIjoiU2VlIERldGFpbHMiLCJsYW5ndWFnZS1pZGVudGlmeS1saW5lIjoiSWRlbnRpZnkgYnkgbGluZSIsImxhbmd1YWdlLXNlYXJjaC1iaW5nLXBvc3RhbC10b3duIjoiUG9zdGFsIFRvd24iLCJsYW5ndWFnZS1vZmZsaW5lLXJlc291cmNlLXNhdmUtZXJyb3IiOiJUaGVyZSB3YXMgYW4gZXJyb3Igc2F2aW5nIGFuIG9mZmxpbmUgcmVzb3VyY2UuIFlvdSBtYXkgYmUgb3V0IG9mIHNwYWNlLiBFcnJvcjogezB9IiwibGFuZ3VhZ2UtZ2xvYmFsLXNlYXJjaCI6IlNlYXJjaCIsImxhbmd1YWdlLXNlYXJjaC1iaW5nLWRpc3RyaWN0IjoiRGlzdHJpY3QiLCJsYW5ndWFnZS1sYXllcmxpc3QtdGl0bGUiOiJNYXAgTGF5ZXJzIiwibGFuZ3VhZ2Utc2VhcmNoLWJpbmctbG9jYWxpdHkiOiJMb2NhbGl0eSIsImxhbmd1YWdlLWZlYXR1cmUtZGF0ZS1mb3JtYXQiOiJFRUUgTU1NIGRkIEhIOm1tOnNzIiwibGFuZ3VhZ2UtY2FwdHVyZS1nZW9tZXRyeS1wb2x5bGluZSI6IkRyYXcgYSBsaW5lIG9uIHRoZSBtYXAuIERvdWJsZS1jbGljayB0byBmaW5pc2guIiwibGFuZ3VhZ2UtcmVzdWx0cy1tZW51LWRlc2NyaXB0aW9uIjoiRmVhdHVyZSBBY3Rpb25zIGZvciBSZXN1bHRzIExpc3QiLCJsYW5ndWFnZS1mZWF0dXJlLXJlbGF0ZWQtbm8tZGF0YSI6Ik5vIGRhdGEiLCJsYW5ndWFnZS1mZWF0dXJlLWxheWVyLW51bWJlci1vZi1mZWF0dXJlcyI6Ik51bWJlciBvZiBGZWF0dXJlcyJ9");
geocortex.framework.notifyLibraryDownload("Mapping");
